/*! Copyright © 2011 - 2022 miHoYo. All Rights Reserved */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("app",[],t):"object"==typeof exports?exports.app=t():e.app=t()}(window,(function(){return function(e){function t(t){for(var r,a,s=t[0],u=t[1],l=t[2],d=0,f=[];d<s.length;d++)a=s[d],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&f.push(i[a][0]),i[a]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);for(c&&c(t);f.length;)f.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,s=1;s<n.length;s++){var u=n[s];0!==i[u]&&(r=!1)}r&&(o.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},i={app:0},o=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.e=function(){return Promise.resolve()},a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a.oe=function(e){throw console.error(e),e};var s=window.webpackJsonp_name_=window.webpackJsonp_name_||[],u=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var c=u;return o.push([1400,"vendors"]),n()}(Array(92).concat([function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"compareVersion",{enumerable:!0,get:function(){return m.compareVersion}}),Object.defineProperty(t,"deleteBridge",{enumerable:!0,get:function(){return v.deleteBridge}}),Object.defineProperty(t,"dfsNodes",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"dpx2rem",{enumerable:!0,get:function(){return f.dpx2rem}}),Object.defineProperty(t,"findNode",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"fmtConfig",{enumerable:!0,get:function(){return c.fmtConfig}}),Object.defineProperty(t,"formatTime",{enumerable:!0,get:function(){return d.default}}),t.getBgImg=void 0,Object.defineProperty(t,"getCopyNodeConifg",{enumerable:!0,get:function(){return s.getCopyNodeConifg}}),Object.defineProperty(t,"getCssValAndUnit",{enumerable:!0,get:function(){return h.getCssValAndUnit}}),Object.defineProperty(t,"getDefNodes",{enumerable:!0,get:function(){return s.getDefNodes}}),Object.defineProperty(t,"getDefaultState",{enumerable:!0,get:function(){return c.getDefaultState}}),Object.defineProperty(t,"getPageUrls",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(t,"initializeConfig",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"loadComp",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"maxVersion",{enumerable:!0,get:function(){return m.maxVersion}}),Object.defineProperty(t,"newEventId",{enumerable:!0,get:function(){return i.newEventId}}),Object.defineProperty(t,"newId",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"openDialog",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"px2rem",{enumerable:!0,get:function(){return f.px2rem}}),Object.defineProperty(t,"rem2px",{enumerable:!0,get:function(){return f.rem2px}}),Object.defineProperty(t,"sendDataToIframe",{enumerable:!0,get:function(){return v.sendDataToIframe}}),Object.defineProperty(t,"setBridge",{enumerable:!0,get:function(){return v.setBridge}}),Object.defineProperty(t,"setRemUnit",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"traverseNodes",{enumerable:!0,get:function(){return s.default}});var i=y(n(1206)),o=b(n(1925)),a=b(n(2031)),s=y(n(2032)),u=b(n(1220)),l=b(n(848)),c=y(n(1219)),d=b(n(2033)),f=y(n(2035)),p=b(n(2036)),v=n(2037),m=n(846),h=n(225);function b(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function y(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}t.getBgImg=function(e){return null==e?void 0:e.replace(/url\(|\)|"|'/g,"")}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.sizeStyle=t.positionStyle=t.outerStyles=t.default=void 0;var a={left:{},top:{},bottom:{},right:{},marginLeft:{},marginRight:{},marginTop:{},marginBottom:{}};t.positionStyle=a;var s={width:{},maxWidth:{},minWidth:{},maxHeight:{},minHeight:{},height:{}};t.sizeStyle=s;var u=i(i(i({},a),s),{},{position:{},transform:{},zIndex:{},display:{},verticalAlign:{}});t.outerStyles=u;var l=i({remPrecise:2,normalPrecise:1},{cursorValues:[{value:"auto",label:"自动"},{value:"default",label:"默认"},{value:"pointer",label:"可点击"},{value:"not-allowed",label:"不可点"}],aligns:{relative:[{name:"l",desc:"左对齐",icon:"icon-align-left",dir:"raw"},{name:"m",desc:"左右居中",icon:"icon-align-center",dir:"raw",dep:"width"},{name:"r",desc:"右对齐",icon:"icon-align-right",dir:"raw"}],all:[{name:"l",desc:"左对齐",icon:"icon-align-left",dir:"raw"},{name:"m",desc:"左右居中",icon:"icon-align-center",dir:"raw",dep:"width"},{name:"r",desc:"右对齐",icon:"icon-align-right",dir:"raw"},{name:"t",desc:"上对齐",icon:"icon-align-top",dir:"col"},{name:"m",desc:"上下居中",icon:"icon-align-middle",dir:"col",dep:"height"},{name:"b",desc:"下对齐",icon:"icon-align-bottom",dir:"col"}]},predefineColors:["rgba(255, 255, 255, 0)","#000000","#ffffff","#ff4500","#ff8c00","#ffd700","#90ee90","#00ced1","#1e90ff","#c71585","rgba(255, 69, 0, 0.68)","rgb(255, 120, 0)","hsv(51, 100, 98)","hsva(120, 40, 94, 0.5)","hsl(181, 100%, 37%)","hsla(209, 100%, 56%, 0.73)","#c7158577"],overflow:[{value:"visible",label:"内部元素溢出可见",desc:"默认值。内容不会被修剪，会呈现在元素框之外。,"},{value:"hidden",label:"隐藏内部元素溢出",desc:"内容会被修剪，并且其余内容是不可见的。,"},{value:"auto",label:"容器可进行滚动",desc:"如果内容被修剪，则浏览器会显示滚动条以便查看其余的内容。,"}],display:[{value:"none",desc:"此元素不会被显示。"},{value:"block",desc:"此元素将显示为块级元素，此元素前后会带有换行符。"},{value:"inline",desc:"默认。此元素会被显示为内联元素，元素前后没有换行符。"},{value:"inline-block",desc:"行内块元素。（CSS2.1 新增的值）"},{value:"list-item",desc:"此元素会作为列表显示。"},{value:"table",desc:"此元素会作为块级表格来显示（类似 <table>），表格前后带有换行符。"},{value:"inline-table",desc:"此元素会作为内联表格来显示（类似 <table>），表格前后没有换行符。"},{value:"table-row-group",desc:"此元素会作为一个或多个行的分组来显示（类似 <tbody>）。"},{value:"table-header-group",desc:"此元素会作为一个或多个行的分组来显示（类似 <thead>）。"},{value:"table-footer-group",desc:"此元素会作为一个或多个行的分组来显示（类似 <tfoot>）。"},{value:"table-column-group",desc:"此元素会作为一个或多个列的分组来显示（类似 <colgroup>）。"},{value:"table-row",desc:"此元素会作为一个表格行显示（类似 <tr>）。"},{value:"table-column",desc:"此元素会作为一个单元格列显示（类似 <col>）"},{value:"table-cell",desc:"此元素会作为一个表格单元格显示（类似 <td> 和 <th>）"},{value:"table-caption",desc:"此元素会作为一个表格标题显示（类似 <caption>）"},{value:"inherit",desc:"规定应该从父元素继承 display 属性的值。"}],position:[{value:"absolute",label:"父元素",desc:'生成绝对定位的元素，相对于 static 定位以外的第一个父元素进行定位。元素的位置通过 "left", "top", "right" 以及 "bottom" 属性进行规定。'},{value:"fixed",label:"屏幕",desc:'生成绝对定位的元素，相对于浏览器窗口进行定位。元素的位置通过 "left", "top", "right" 以及 "bottom" 属性进行规定。'},{value:"relative",label:"相对自己",desc:'生成相对定位的元素，相对于其正常位置进行定位。因此，"left:20" 会向元素的 LEFT 位置添加 20 像素。'}],defaultUnit:"rem",unit:[{value:"none",label:"无",desc:"无"},{value:"rem",label:"px",desc:"等于根节点的字体尺寸。"},{value:"%",label:"%",desc:"百分比"},{value:"auto",label:"auto",desc:"自适应"},{value:"vw",label:"vw",desc:"1/100屏幕宽度"},{value:"vh",label:"vh",desc:"1/100屏幕高度"},{value:"px",label:"PX",desc:"像素 (计算机屏幕上的一个点)"},{value:"other",label:"特殊",desc:"特殊"}],borderStyle:[{label:"--无--",value:"none",desc:"定义无边框。"},{label:"实线",value:"solid",desc:"定义实线。"},{label:"虚线",value:"dashed",desc:"定义虚线。在大多数浏览器中呈现为实线。"},{label:"点状线",value:"dotted",desc:"定义点状边框。在大多数浏览器中呈现为实线。"},{label:"双划线",value:"double",desc:"定义双线。双线的宽度等于 border-width 的值。"},{label:"3D凹槽",value:"groove",desc:"定义 3D 凹槽边框。其效果取决于 border-color 的值。"},{label:"3D垄状",value:"ridge",desc:"定义 3D 垄状边框。其效果取决于 border-color 的值。"},{label:"3D内嵌",value:"inset",desc:"定义 3D inset 边框。其效果取决于 border-color 的值。"},{label:"3D外嵌",value:"outset",desc:"定义 3D outset 边框。其效果取决于 border-color 的值。"}],fontWeight:[{value:"normal",desc:"默认值"},{value:"bold",desc:"加粗"}],textAlign:[{value:"left",desc:"把文本排列到左边。默认值：由浏览器决定。"},{value:"right",desc:"把文本排列到右边。"},{value:"center",desc:"把文本排列到中间。"},{value:"justify",desc:"实现两端对齐文本效果。"},{value:"inherit",desc:"规定应该从父元素继承 text-align 属性的值。"}],backgroundPosition:[{value:"top",label:"上"},{value:"bottom",label:"下"},{value:"left",label:"左"},{value:"right",label:"右"},{value:"center",label:"居中"}],backgroundFill:[{value:"repeat",label:"平铺",desc:"默认，图像在背景垂直方向和水平方向重复。"},{value:"repeat-x",label:"横向平铺",desc:"图像在背景区域水平方向重复。"},{value:"repeat-y",label:"纵向平铺",desc:"图像在背景区域垂直方向重复。"},{value:"contain",label:"适应",desc:"图像在背景区域保持比例完整显示。"},{value:"center",label:"居中",desc:"图像在背景区域居中显示。"},{value:"cover",label:"填充",desc:"图像尽量填充背景区域，可能被裁切"},{value:"stretch",label:"拉伸",desc:"图像尽量填充背景区域，不保持原比例"}],fontFamily:[]});t.default=l},,,,,function(e,t,n){"use strict";n.r(t);var r=n(1020),i=n(560);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n(2211);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,"f6f9a390",null);s.options.__file="src/main/edit/docks/inspector/styleComp/Num.vue",t.default=s.exports},,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.STORAGE_KEY=t.SCREEN_EDIT_OPTIONS_MAP=t.NO_RESIZE_MAP=t.NO_EDIT_STYLE_MAP=t.NO_ACTIVE_MAP=t.LOCK_DATA_MAP=t.EXTRA_EDIT_OPTIONS_MAP=t.EDIT_OPTIONS=void 0,Object.defineProperty(t,"devices",{enumerable:!0,get:function(){return l.default}}),t.templayeKeys=t.pageCompPreviewPlatList=t.normalPreviewPlatList=void 0;var r,i,o,a,s,u=n(303),l=(r=n(844))&&r.__esModule?r:{default:r};function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.STORAGE_KEY={page:"puzzle-config-page",nodes:"puzzle-config-nodes",comp:"puzzle-config-comp",style:"puzzle-config-style"};t.templayeKeys=["buildVer","cookieTip","script","publicPath","publish_key","bizList","landscapeTip","hasGameBgm","useSeverTime","customMi18nKey"];var d={scrollPage:1,colSlidePage:2,rawSlidePage:3,colpage:4,rawpage:5};t.normalPreviewPlatList=[{label:"游戏内",value:"isGame",plat:"all",urlSearchList:[{key:"gamewebview",val:"1"}]},{label:"米游社",value:"isBBS",plat:"h5",urlSearchList:[{key:"bbswebview",val:"1"}]},{label:"iOS系统",value:"isIOS",plat:"h5",urlSearchList:[{key:"ioswebview",val:"1"}]}];var f,p;t.pageCompPreviewPlatList=[{label:"pc端",value:"isPC",urlSearchList:[{key:"is_mobile",val:""}]}],function(e){e.MAIN="main",e.DIALOG="dialog",e.SWIPER="swiper",e.COLLAPSE="collapse",e.CUSTOM_BUTTON="customButton"}(f||(f={})),t.EDIT_OPTIONS=p,function(e){e.NO_ACTIVE="noActive",e.NO_DRAG="noDrag",e.NO_APPEND="noAppend",e.NO_DELETE="noDelete",e.NO_CHILD_EDIT="noChildEdit",e.NO_BEFORE="noBefore",e.NO_EDIT_STYLE="noEditStyle",e.NO_RESIZE="noResize",e.NO_POSITION="noPosition",e.NO_RESIZE_HEIGHT="noResizeHeight",e.NO_RESIZE_WIDTH="noResizeWidth"}(p||(t.EDIT_OPTIONS=p={}));var v=(c(i={},p.NO_ACTIVE,!0),c(i,p.NO_DRAG,!0),c(i,p.NO_APPEND,!0),c(i,p.NO_DELETE,!0),c(i,p.NO_CHILD_EDIT,!0),c(i,p.NO_BEFORE,!0),i);t.LOCK_DATA_MAP=v;var m=(c(o={},p.NO_EDIT_STYLE,!0),c(o,p.NO_DELETE,!0),o);t.NO_ACTIVE_MAP=m;var h=(c(a={},p.NO_RESIZE,!0),c(a,p.NO_POSITION,!0),a);t.NO_EDIT_STYLE_MAP=h;var b=(c(s={},p.NO_RESIZE_HEIGHT,!0),c(s,p.NO_RESIZE_WIDTH,!0),s);t.NO_RESIZE_MAP=b;var g=c({},f.DIALOG,c({},u.NODE_CATEGORY.DIALOG,c({$initVisible:!0},p.NO_ACTIVE,!1)));t.SCREEN_EDIT_OPTIONS_MAP=g;var y=c({},u.NODE_CATEGORY.DIALOG,g[f.DIALOG][u.NODE_CATEGORY.DIALOG]);t.EXTRA_EDIT_OPTIONS_MAP=y;var _={langList:[{label:"中文（简体）",value:"zh-cn"},{label:"中文（繁體）",value:"zh-tw"},{label:"Deutsch",value:"de-de"},{label:"English",value:"en-us"},{label:"Español",value:"es-es"},{label:"Français",value:"fr-fr"},{label:"Indonesia",value:"id-id"},{label:"日本語",value:"ja-jp"},{label:"한국어",value:"ko-kr"},{label:"Português",value:"pt-pt"},{label:"Pусский",value:"ru-ru"},{label:"ภาษาไทย",value:"th-th"},{label:"Tiếng Việt",value:"vi-vn"}],eventTypeMap:{EventTypeDev:{value:"EventTypeDev",label:"开发活动"},EventTypeRelease:{value:"EventTypeRelease",label:"正式活动"}},pageMode:d,compPageMode:{mode:"comppage",label:"页面级别组件",pcInitState:{width:1920},h5InitState:{width:750}},pageModeMap:[{fullScreen:void 0,mode:"normal",value:d.scrollPage,label:"长页面",pcInitState:{width:1920,minScrollWidth:1400},h5InitState:{width:750}},{fullScreen:"colClip",mode:"slidepage",value:d.colSlidePage,label:"竖屏滚屏",h5InitState:{width:750,height:1334,maxRatio:750/1334}},{fullScreen:"rawClip",mode:"slidepage",value:d.rawSlidePage,label:"横屏滚屏",pcInitState:{width:1920,height:1080,minRatio:1920/1080},h5InitState:{width:1334,height:750,minRatio:1334/750}},{fullScreen:"colClip",mode:"normal",value:d.colpage,label:"竖屏全屏",h5InitState:{width:750,height:1334,maxRatio:750/1334}},{fullScreen:"rawClip",mode:"normal",value:d.rawpage,label:"横屏全屏",pcInitState:{width:1920,height:1080,minRatio:1920/1080},h5InitState:{width:1334,height:750,minRatio:1334/750}}],screenCategory:f,deviceMap:{DeviceModeH5:{value:"h5",label:"H5"},DeviceModePC:{value:"pc",label:"PC"}},screenMap:{ScreenModeLong:{value:"normal",label:"长屏"},ScreenModeFull:{value:"slidepage",label:"全屏"}},envMap:{1:{name:"测试环境",value:"test"},2:{name:"预发布环境",value:"pre"},3:{name:"正式环境",value:"prd"}},latestBuilderVer:"2.10.77"};t.default=_},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.apiBase=void 0,Object.defineProperty(t,"baseAppKey",{enumerable:!0,get:function(){return r.baseAppKey}}),t.merlinBase=t.environment=void 0,Object.defineProperty(t,"puzzleCDNBaseURL",{enumerable:!0,get:function(){return i.puzzleCDNBaseURL}});var r=n(1114),i=n(1677);t.environment="development";t.apiBase="//devapi-takumi.mihoyo.com/";t.merlinBase="https://devapi-takumi.mihoyo.com/merlin_admin/op/v1/"},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toFixed=t.isNumber=t.hasVal=t.getCssValAndUnit=t.formatTranslate=t.formatScale=void 0;t.getCssValAndUnit=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(t&&"string"==typeof t){var n=t.match(/^(-?\d*\.?\d*)(rem|%|px|em|vh|vw)$/),r=t.match(/^calc\(50% - (.*)\)$/);if(r){var i=e(r[1]);if(!i)return;return{val:i.val,unit:"calc",calcUnit:i.unit}}if(n)return{val:Number(n[1]),unit:n[2]}}};t.formatTranslate=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.match(/translate\((-?\d*\.?\d*)(rem|%|px|em|vh|vw),(-?\d*\.?\d*)(rem|%|px|em|vh|vw)\)/);if(t)return{x:{num:Number(t[1]),unit:t[2],value:t[1]+t[2]},y:{num:Number(t[3]),unit:t[4],value:t[3]+t[4]}}};t.formatScale=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.match(/scale\((\d*\.?\d*)\)/);return Number(null==t?void 0:t[1])||0};t.toFixed=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Number(Number(e).toFixed(t))};var r=function(e){return(e||0===e)&&![1/0,-1/0].includes(e)};t.hasVal=r;t.isNumber=function(e){return r(e)&&Number(e)==Number(e)}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLocalStorageCache=function(e){var t=window.localStorage.getItem(e);if(null==t)return null;return JSON.parse(t).value},t.getLocalStorageInfo=function(e){var t=window.localStorage.getItem(e);if(void 0===t)return;return JSON.parse(t)},t.memoryCache=void 0,t.removeLocalStorageCache=function(e){window.localStorage.removeItem(e)},t.setLocalStorageCache=function(e,t){var n=window.localStorage,r=JSON.stringify({timestamp:(new Date).getTime(),value:t});n.setItem(e,r)};var r,i=(r={},{set:function(e,t){r[e]={timestamp:Date.now(),value:t}},get:function(e){return r[e]?r[e].value:null},remove:function(e){void 0!==e&&delete r[e]},getInfo:function(e){return r[e]}});t.memoryCache=i},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r,i,o,a;Object.defineProperty(t,"__esModule",{value:!0}),t.Platform=t.NODE_CATEGORY=t.MI18N_RES_TYPE=t.COMPARE_SYMBOL=void 0,t.NODE_CATEGORY=r,function(e){e.DIALOG="dialog",e.FULL_PAGE_CONTAINER="fullpageContainer",e.SWIPER_CONTAINER="swiperContainer"}(r||(t.NODE_CATEGORY=r={})),t.COMPARE_SYMBOL=i,function(e){e.GE="ge",e.LE="le",e.EQ="eq",e.GT="gt",e.LT="lt"}(i||(t.COMPARE_SYMBOL=i={})),t.MI18N_RES_TYPE=o,function(e){e.IMAGE="image",e.VIDEO="video",e.AUDIO="audio",e.TEXT="text"}(o||(t.MI18N_RES_TYPE=o={})),t.Platform=a,function(e){e.PC="pc",e.H5="h5"}(a||(t.Platform=a={}))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VENDOR_RES_REG=t.TYPE_RES_MAP=t.RES_TYPE_MAP=t.RES_TYPE_LIST=t.RES_TYPE=t.PUZZLE_RES_REG=t.MI18N_RES_TYPES=void 0;var r,i=n(303);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.PUZZLE_RES_REG=/https:\/\/(webstatic|hoyoverse)-test\.mihoyo\.com\/upload\/(puzzle|static-resource|static-resource-sea)\/\d{4}\/\d{1,2}\/\d{1,2}\/[^:]+?\.(png|jpeg|jpg|gif|mp4|mp3|ts)/g;var a;t.VENDOR_RES_REG=/https?:\/\/[^:]+\.(png|jpeg|jpg|gif|mp4|mp3|ts)/g,t.RES_TYPE=a,function(e){e.IMAGE="image",e.VIDEO="video",e.AUDIO="audio"}(a||(t.RES_TYPE=a={}));var s=(o(r={},a.IMAGE,{label:"图片"}),o(r,a.VIDEO,{label:"视频"}),o(r,a.AUDIO,{label:"音频"}),r);t.RES_TYPE_LIST=s;var u=[{label:"文本",value:i.MI18N_RES_TYPE.TEXT},{label:"图片",value:i.MI18N_RES_TYPE.IMAGE},{label:"视频",value:i.MI18N_RES_TYPE.VIDEO},{label:"音频",value:i.MI18N_RES_TYPE.AUDIO}];t.MI18N_RES_TYPES=u;var l={png:a.IMAGE,jpeg:a.IMAGE,jpg:a.IMAGE,gif:a.IMAGE,mp3:a.AUDIO,mp4:a.VIDEO,ts:a.VIDEO};t.RES_TYPE_MAP=l;var c={};t.TYPE_RES_MAP=c,Object.keys(l).forEach((function(e){var t=l[e];c[t]?c[t].push(e):c[t]=[e]}))},,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return l.apply(this,arguments)},n(1402);var r=a(n(781)),i=a(n(782)),o=a(n(784));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){s(o,r,i,a,u,"next",e)}function u(e){s(o,r,i,a,u,"throw",e)}a(void 0)}))}}function l(){return(l=u(regeneratorRuntime.mark((function e(t){var a,s,u,l,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,o.default)(t),a=[];try{for(s=Object.keys(r.default),u=0;u<s.length;u++)l=s[u],c=n(1678)("".concat(r.default[l])).default,a.push(c(t))}catch(e){i.default.error(e)}return e.abrupt("return",Object.assign.apply(Object,[{}].concat(a)));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=d(n(68)),i=d(n(43)),o=d(n(1205)),a=d(n(1923)),s=d(n(2047)),u=d(n(2048)),l=d(n(2060)),c=d(n(2061));function d(e){return e&&e.__esModule?e:{default:e}}r.default.use(i.default);var f=new i.default.Store({state:o.default,getters:a.default,mutations:s.default,actions:u.default,plugins:l.default,modules:{dev:c.default}});t.default=f},,,function(e,t,n){"use strict";n.r(t);var r=n(973),i=n(498);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n(2175),n(2176);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,"0d24898a",null);s.options.__file="src/main/edit/docks/preview/screen.vue",t.default=s.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(847)),i=a(n(1283)),o=a(n(855));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c={functional:!0,props:{config:{type:Object,default:function(){return{}}}},render:function(e,t){var n=t.props,a=t.data;return e(i.default,(0,r.default)([{props:u({},u(u({},n),{},{comp:o.default}))},a]))}};t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(847)),i=a(n(1283)),o=a(n(856));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c={functional:!0,props:{config:{type:Object,default:function(){return{}}}},render:function(e,t){var n=t.props,a=t.data;return e(i.default,(0,r.default)([{props:u({},u(u({},n),{},{comp:o.default}))},a]))}};t.default=c},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e.use(i.default)};var r,i=(r=n(337))&&r.__esModule?r:{default:r};n(1141),n(1718)},,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e.use(r.LoginModal)};var r=n(1719)},,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setPosition=t.formateEditOptions=t.checkPositionType=void 0;var r=n(143),i=n(225);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.formateEditOptions=function(e){if(!e)return{};var t=a({},e);return t.locked&&(t=a(a({},t),r.LOCK_DATA_MAP)),t.noActive&&(t=a(a({},t),r.NO_ACTIVE_MAP)),t.noEditStyle&&(t=a(a({},t),r.NO_EDIT_STYLE_MAP)),t.noResize&&(t=a(a({},t),r.NO_RESIZE_MAP)),t};t.checkPositionType=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e,n=t.left,r=t.top,i=t.right,o=t.bottom,a={left:n,top:r,right:i,bottom:o},s="tl";return Object.keys(a).map((function(e){if(a[e]){var t=e.slice(0,1);/^calc\(50% - .*\)$/.test(a[e])&&(t="m"),s=["left","right"].includes(e)?s.slice(0,1)+t:t+s.slice(-1)}})),s};t.setPosition=function(e){var t=(0,i.getCssValAndUnit)(e);if(!t)return e;var n={px:30}[t.calcUnit||t.unit]||.3;return"calc"===t.unit?"calc(50% - ".concat(t.val+n).concat(t.calcUnit,")"):"".concat(t.val+.3).concat(t.unit)}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(378),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}i.default=e,n&&n.set(e,i);return i}(n(92)),a=["start_time","end_time","game_biz","biz_list"],s=["eventTimeRange"],u=["lang"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function c(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){c(o,r,i,a,s,"next",e)}function s(e){c(o,r,i,a,s,"throw",e)}a(void 0)}))}}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var g=function(e){var t=e.start_time,n=e.end_time,r=e.game_biz,i=e.biz_list;return m(m({},b(e,a)),{},{game_biz:(null==i?void 0:i[0])||r,biz_list:i,eventTimeRange:[o.formatTime(t),o.formatTime(n)]})},y=function(e){var t=e.eventTimeRange,n=b(e,s),r=f(t||[],2),i=r[0],o=void 0===i?"":i,a=r[1],u=void 0===a?"":a;return m(m({},n),{},{start_time:o,end_time:u})},_={getBizList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=function(e){var t=[];return e.list.forEach((function(e){e.biz_list.forEach((function(n){n.game=e.group_key,n.game_name=e.group_name,t.push(n)}))})),t};return(0,i.get)("portal/api/getBizList",e,i.defaultFormatParams,t)},addEvent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=function(e){return e};return(0,i.post)("puzzle_admin/api/addEvent",e,y,t)},deleteEvent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=function(e){return e};return(0,i.post)("puzzle_admin/api/deleteEvent",e,i.defaultFormatParams,t)},offlineEvent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=function(e){return e};return(0,i.post)("puzzle_admin/api/offlineEvent",e,i.defaultFormatParams,t)},updateEvent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=function(e){return e};return(0,i.post)("puzzle_admin/api/updateEvent",e,y,t)},copyEvent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=function(e){return e};return(0,i.post)("puzzle_admin/api/copyEvent",e,y,t)},updateEventConfig:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.post)("puzzle_admin/api/updateEventConfig",e,i.defaultFormatParams,i.defaultFormatResult)},updateMi18n:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.post)("puzzle_admin/api/updateMi18n",e,i.defaultFormatParams,i.defaultFormatResult)},checkMi18nStatus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.get)("puzzle_admin/api/checkMi18nStatus",e,i.defaultFormatParams,i.defaultFormatResult)},getEventInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.get)("puzzle_admin/api/getEventInfo",e,i.defaultFormatParams,g)},getEventList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=function(e){return e.list=e.list.map(g),e};return(0,i.get)("puzzle_admin/api/getEventList",e,i.defaultFormatParams,t)},publishEvent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=function(e){return e};return(0,i.post)("puzzle_admin/api/publishEvent",e,i.defaultFormatParams,t)},getEventPublishList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=function(e){return e};return(0,i.get)("puzzle_admin/api/getEventPublishList",e,i.defaultFormatParams,t)},getEventVersionList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=function(e){return e};return(0,i.get)("puzzle_admin/api/getEventVersionList",e,i.defaultFormatParams,t)},rollbackEventVersion:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=function(e){return e};return(0,i.post)("puzzle_admin/api/rollbackEventVersion",e,i.defaultFormatParams,t)},getEventPublishInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=function(e){return e};return(0,i.get)("puzzle_admin/api/getEventPublishInfo",e,i.defaultFormatParams,t)},publishEventResource:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=function(e){return e};return(0,i.post)("puzzle_admin/api/publishEventResource",e,i.defaultFormatParams,t)},rollbackEventPublish:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=function(e){return e};return(0,i.post)("puzzle_admin/api/rollbackEventPublish",e,i.defaultFormatParams,t)},getModuleList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=function(e){return e};return(0,i.get)("puzzle_admin/api/getModuleList",e,i.defaultFormatParams,t)},getEventModuleList:function(){var e=arguments;return d(regeneratorRuntime.mark((function t(){var n,r,o,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.length>0&&void 0!==e[0]?e[0]:{},r=e.length>1&&void 0!==e[1]?e[1]:void 0,o=function(e){var t=e.list,n={};return t.forEach((function(e){n[e.module_name]={id:e.id,name:e.module_name,label:e.show_name,latestVer:e.module_ver,version:e.module_ver,type:e.module_type,icon:e.module_icon,is_h5:e.is_h5,is_pc:e.is_pc,main:null}})),n},!r){t.next=13;break}return t.next=6,fetch(r);case 6:return a=t.sent,t.t0=o,t.next=10,a.json();case 10:return t.t1=t.sent,t.t2={list:t.t1},t.abrupt("return",(0,t.t0)(t.t2));case 13:return t.abrupt("return",(0,i.get)("puzzle_admin/api/getEventModuleList",n,i.defaultFormatParams,o));case 14:case"end":return t.stop()}}),t)})))()},getMi18nInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=function(e){return e};return(0,i.get)("puzzle_admin/api/getMi18nAppBiz",e,i.defaultFormatParams,t)},getMi18nData:function(e){var t=e.lang,n=void 0===t?"":t,r=b(e,u);return(0,i.get)("puzzle_admin/api/getMi18nOpTranslationList",r,(function(e){return m({current_page:1,page_size:999,status:100},e)}),(function(e){var t,r={};return null==e||null===(t=e.list)||void 0===t||t.forEach((function(e){var t=e.text.find((function(e){return e.lang===n})).value||"";t.startsWith("upload/")&&(t="https://webstatic-test.mihoyo.com/".concat(t)),r[e.row_key]=t})),r}))},getDefaultMi18nLangMapByGame:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=function(e){var t=e.list,n={};return(void 0===t?[]:t).forEach((function(e){n[e.businessKey]=(e.langs||[]).map((function(e){return e.key}))})),n};return(0,i.get)("/mi18n/mi18N/businessLangs",e,i.defaultFormatParams,t)}};t.default=_},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(378),i={addTemplate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.post)("puzzle_admin/api/addTemplate",e,r.defaultFormatParams,r.defaultFormatResult)},deleteTemplate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.post)("puzzle_admin/api/deleteTemplate",e,r.defaultFormatParams,r.defaultFormatResult)},getTemplateInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.get)("puzzle_admin/api/getTemplateInfo",e,r.defaultFormatParams,r.defaultFormatResult)},getTemplateList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.get)("puzzle_admin/api/getTemplateList",e,r.defaultFormatParams,r.defaultFormatResult)},updateTemplate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.post)("puzzle_admin/api/updateTemplate",e,r.defaultFormatParams,r.defaultFormatResult)},updateTemplateConfig:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.post)("puzzle_admin/api/updateTemplateConfig",e,r.defaultFormatParams,r.defaultFormatResult)}};t.default=i},function(e,t,n){"use strict";n.r(t);var r=n(975),i=n(502);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n(2177),n(2178);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,"ad3f462c",null);s.options.__file="src/components/rndNode.vue",t.default=s.exports},function(e){e.exports=JSON.parse('{"position":{"exclude":["noPosition"],"bindStyle":"position"},"zIndex":{"exclude":["noPosition"],"bindStyle":"zIndex"},"width":{"exclude":["noResize"],"bindStyle":"width"},"height":{"exclude":["noResize","noResizeHeight"],"bindStyle":"height"},"border":{"exclude":["noBorder"],"include":[{"type":"version","version":"2.10.37","compare":"ge"}],"bindStyle":"border"},"borderRadius":{"exclude":["noResize"],"bindStyle":"borderRadius"},"top":{"exclude":["noPosition","isRelativeBox"],"bindStyle":"top"},"left":{"exclude":["noPosition","isRelativeBox"],"bindStyle":"left"},"bottom":{"exclude":["noPosition","isRelativeBox"],"bindStyle":"bottom"},"right":{"exclude":["noPosition","isRelativeBox"],"bindStyle":"right"},"opacity":{"bindStyle":"opacity"},"marginTop":{"include":["isRelativeBox"],"exclude":["noPosition"],"bindStyle":"marginTop"},"marginLeft":{"include":["isRelativeBox"],"exclude":["noPosition"],"bindStyle":"marginLeft"},"marginBottom":{"include":["isRelativeBox"],"exclude":["noPosition"],"bindStyle":"marginBottom"},"marginRight":{"include":["isRelativeBox"],"exclude":["noPosition"],"bindStyle":"marginRight"},"alignTools":{"exclude":["noPosition"]},"maxWidth":{"exclude":["noResize"],"bindStyle":"maxWidth"},"maxHeight":{"exclude":["noResize"],"bindStyle":"maxHeight"},"minWidth":{"exclude":["noResize"],"bindStyle":"minWidth"},"minHeight":{"exclude":["noResize"],"bindStyle":"minHeight"},"backgroundColor":{"exclude":["noBg",{"type":"version","version":"2.7.15","compare":"gt"}],"bindStyle":"backgroundColor"},"backgroundImage":{"exclude":["noBg",{"type":"version","version":"2.7.15","compare":"gt"}],"bindStyle":"backgroundImage"},"backgroundSize":{"exclude":["noBg",{"type":"version","version":"2.7.15","compare":"gt"}],"bindStyle":"backgroundSize"},"backgroundRepeat":{"exclude":["noBg",{"type":"version","version":"2.7.15","compare":"gt"}],"bindStyle":"backgroundRepeat"},"backgroundPosition":{"exclude":["noBg",{"type":"version","version":"2.7.15","compare":"gt"}],"bindStyle":"backgroundPosition"},"cursor":{"bindStyle":"cursor"},"pointerEvents":{"bindStyle":"pointerEvents"},"fontSize":{"bindStyle":"pointerEvents","include":[{"type":"nodeCategory","category":"text"}]}}')},function(e){e.exports=JSON.parse('{"enabled":{"bindConfig":"enabled","exclude":[{"type":"version","version":"2.7.15","compare":"lt"}]},"disabled":{"bindConfig":"disabled","exclude":[{"type":"version","version":"2.7.15","compare":"lt"}]},"showEditOptions":{"exclude":[{"type":"version","version":"2.7.17","compare":"lt"}]},"fixAspectRatio":{"exclude":["noResizeHeight","noResizeWidth"]}}')},,function(e,t,n){"use strict";n.r(t);var r=n(471),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=n(304),o=(r=n(2067))&&r.__esModule?r:{default:r};n(2069);var a={name:"Home",components:{DevPanel:o.default},data:function(){return{inMerlin:!!i.QS.inMerlin,pages:[{name:"eventList",title:"活动管理",icon:"el-icon-s-order"},{name:"pageTemplate",title:"页面模板管理",icon:"el-icon-document-copy"}]}},computed:{activePageName:function(){return this.$route.name},activeIndex:function(){var e=this;return this.pages.findIndex((function(t){return t.name===e.activePageName}))},inComponentsPage:function(){return["templateEdit","eventEdit"].includes(this.$route.name)},defaultActive:function(){return"".concat(this.activeIndex+1)}},created:function(){this.$store.dispatch("getBizList")},methods:{routeTo:function(e){this.$route.name!==e&&this.$router.push({name:e})}}};t.default=a},function(e,t,n){"use strict";n.r(t);var r=n(473),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(43),i=["__dev__"];function o(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l={name:"DevPanel",data:function(){return{visible:!1,devServer:s({},this.$store.state.dev.server),activeCollapses:["forms","interceptingCompList","devCompList"],devCompType:this.$store.state.dev.devCompType}},computed:s(s(s(s({},(0,r.mapGetters)("dev",["compListArray","compsToBeReplaced","interceptingComps","interceptedCompArray"])),(0,r.mapState)("dev",{devServerError:function(e){return e.error}})),(0,r.mapState)({allComps:function(e){return e.compList}})),{},{devCompList:function(){var e=this;return this.compListArray.map((function(t){var n=t.__dev__,r=o(t,i);return{comp:r,name:r.name,oriName:n.oriName,state:n.state,loading:"compiling"===n.state,buttonType:e.mapStateToButtonType(n.state),intercepting:!!e.interceptingComps[n.oriName]||!1,__dev__:n}}))},enabled:{get:function(){return this.$store.state.dev.enabled},set:function(e){this.$store.commit("dev/enable",e)}}}),mounted:function(){var e=this,t=this.$watch((function(){e.interceptedCompArray.length>0&&(e.showPanel(),t())}))},methods:s(s(s({},(0,r.mapMutations)("dev",["setInterceptingComp","setDevCompType"])),(0,r.mapActions)("dev",{refreshDevCompList:"refreshCompList"})),{},{showPanel:function(){this.visible=!0},loadComp:function(e){this.$store.dispatch("fetchCompModule",{compName:e,version:"latest"})},mapStateToButtonType:function(e){switch(e){case"error":return"danger";case"done":return"success";default:return"primary"}},onChangeDevCompType:function(e){this.setDevCompType(e)}})};t.default=l},function(e,t,n){"use strict";n.r(t);var r=n(475),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(43),o=m(n(2071)),a=n(851),s=m(n(143)),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}i.default=e,n&&n.set(e,i);return i}(n(92)),l=m(n(848)),c=m(n(462)),d=m(n(465)),f=m(n(1238)),p=m(n(2127));function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function m(e){return e&&e.__esModule?e:{default:e}}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function y(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){g(o,r,i,a,s,"next",e)}function s(e){g(o,r,i,a,s,"throw",e)}a(void 0)}))}}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S=function(){return{id:0,event_name:"",event_key:u.newEventId(),mobile_page_mode:1,pc_page_mode:1,is_mi18n:!1,eventTimeRange:"",event_type:"EventTypeRelease",user_list:[],biz_list:[],lang_config:void 0,lang:void 0}},x={components:{templateDialog:p.default},data:function(){return{errorLogVisible:!1,errorLog:"",queryForm:{search:"",type:""},eventForm:S(),isSubmitting:!1,dialogFormVisible:!1,isDialogUpdateEvent:!1,eventList:[],total:0,page:1,limit:10,eventFormRules:{event_name:[{required:!0,message:"请填写活动名称",trigger:"blur"}],event_key:[{required:!0,message:"请填写活动标识",trigger:"blur"},{min:3,max:50,message:"英文标识长度在 3 到 50 个字符",trigger:"blur"},{validator:function(e,t,n){var r=[];/^[a-zA-Z][a-zA-Z0-9_]*$/.test(t)||r.push(new Error("活动标识只能由字母、数字和下划线组成，且以字母开头")),n(r)},trigger:"blur"}],eventTimeRange:[{required:!0,message:"请填写活动时间",trigger:"blur"}],biz_list:[{required:!0,message:"请选择关联业务",trigger:"blur"}]},defaultLangMap:{},eventTypeMap:s.default.eventTypeMap,pageModeMap:s.default.pageModeMap,allLangList:s.default.langList,tempModalVisible:!1,tempInfo:null,copyModalShow:!1,copyForm:{event_name:"",event_key:"",eventTimeRange:"",event_id:0},isCopying:!1}},computed:O(O(O({},(0,i.mapState)(["bizList"])),(0,i.mapGetters)(["bizMap"])),{},{bizCascaderList:function(){return Object.values((0,o.default)(this.bizList,"game")).map((function(e){return{value:e[0].game,label:e[0].game_name,children:e.map((function(e){return{value:e.biz_type,label:e.biz_type}}))}}))},curGameCascaderList:function(){var e,t,n=null===(e=this.eventForm)||void 0===e||null===(t=e.biz_list)||void 0===t?void 0:t[0];if(!n)return this.bizCascaderList;var r=n.split("_").shift();return this.bizCascaderList.filter((function(e){return r===e.value}))},pageUrls:function(){return this.getPageUrls(this.currentItem)},biz_list:{get:function(){return this.eventForm.biz_list},set:function(e){this.eventForm.biz_list=e,this.setLangConfig()}},is_mi18n:{get:function(){return this.eventForm.is_mi18n},set:function(e){this.eventForm.is_mi18n=e,e&&(this.eventForm.lang=void 0),this.setLangConfig()}},curGame:function(){var e,t,n=null===(e=this.eventForm)||void 0===e||null===(t=e.biz_list)||void 0===t?void 0:t[0];if(n)return n.split("_").shift()}}),watch:{page:function(e,t){console.log("page change: ",e,t),this.getEventList()}},created:function(){this.getEventList()},methods:O(O({},(0,i.mapActions)(["checkMi18nStatus"])),{},{setLangConfig:function(){var e=this;return y(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.is_mi18n&&e.curGame){t.next=3;break}return e.eventForm.lang_config=void 0,t.abrupt("return");case 3:if(n=function(){var t=e.eventForm.biz_list.map((function(t){return{game_biz:t,lang:a.DEFAULT_LANG_MAP[t]||e.defaultLangMap[e.curGame][t]||[]}}));e.$set(e.eventForm,"lang_config",t)},!e.defaultLangMap[e.curGame]){t.next=7;break}return n(),t.abrupt("return");case 7:return t.prev=7,t.next=10,c.default.getDefaultMi18nLangMapByGame({game:e.curGame});case 10:e.defaultLangMap[e.curGame]=t.sent,n(),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(7),e.$message.success("业务默认对应语言列表拿取失败");case 17:case"end":return t.stop()}}),t,null,[[7,14]])})))()},langListChange:function(e,t){this.$set(this.eventForm.lang_config[t],"lang",e)},getPageUrls:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return u.getPageUrls(e)},onSearchSubmit:function(){this.page=1,this.getEventList()},rollbackEventPublish:function(e){var t=this;return y(regeneratorRuntime.mark((function n(){var r,i,o,a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.$async(t.$confirm("确定回滚文件到该发布（配置版本：".concat(e.version,"）吗?"),"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}));case 2:if(r=n.sent,i=h(r,1),!i[0]){n.next=7;break}return n.abrupt("return");case 7:return n.next=9,t.$async(c.default.rollbackEventPublish({id:e.event_id,version:e.version}));case 9:if(o=n.sent,a=h(o,1),!a[0]){n.next=14;break}return n.abrupt("return");case 14:t.$message.success("回滚成功");case 15:case"end":return n.stop()}}),n)})))()},handleRefreshStatus:function(e){this.getEventPublishInfo(e.id).then((function(t){e.status=t.status}))},handleErrorLog:function(e){var t=this;return y(regeneratorRuntime.mark((function n(){var r,i,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.id,n.prev=1,n.next=4,t.getEventPublishInfo(r);case 4:i=n.sent,o=i.package_info,t.errorLog=o,t.errorLogVisible=!0,n.next=13;break;case 10:n.prev=10,n.t0=n.catch(1),console.log(n.t0);case 13:case"end":return n.stop()}}),n,null,[[1,10]])})))()},handleExpand:function(e,t){console.log(e,t,"www");var n=e.id;t.find((function(e){return e.id===n}))&&(console.log("展开",e),this.getEventPublishList(n).then((function(t){e.publishList=t.list})))},handleCopy:function(){this.$message.success("复制成功")},handleCommand:function(e){var t=this;return y(regeneratorRuntime.mark((function n(){var r,i,o,a,s;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.row,i=e.env,o={id:r.id,env:i},n.prev=2,n.next=5,t.checkMi18nStatus({env:i,is_mi18n:r.is_mi18n,eventId:r.id});case 5:return n.next=7,t.publishEvent(o);case 7:return n.next=9,t.getEventPublishList(r.id);case 9:a=n.sent,s=a.list,r.publishList=s,n.next=17;break;case 14:n.prev=14,n.t0=n.catch(2),console.log(n.t0);case 17:case"end":return n.stop()}}),n,null,[[2,14]])})))()},handleView:function(e){console.log("查看：",e),this.$async((0,l.default)(f.default,{props:{event:e,hasOpenButton:!0}}))},clearEventFormValidate:function(){this.$refs.eventForm.clearValidate()},handleUpdate:function(e){var t,n,r,i;console.log("handleUpdate: ",e),this.eventForm=e,(null===(t=this.$refs.cascader)||void 0===t||null===(n=t.$refs)||void 0===n||null===(r=n.panel)||void 0===r||null===(i=r.activePath)||void 0===i?void 0:i.length)>0&&(this.$refs.cascader.$refs.panel.activePath=[]),this.isDialogUpdateEvent=!0,this.dialogFormVisible=!0},handleEdit:function(e){window.open(this.$router.resolve({name:"eventEdit",params:{eventId:e.id}}).href)},handleAdd:function(){this.eventForm.id&&(this.eventForm=S()),this.isDialogUpdateEvent=!1,this.dialogFormVisible=!0},handleSubmit:function(){var e=this;this.isSubmitting||this.$refs.eventForm.validate(function(){var t=y(regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=2;break}return t.abrupt("return");case 2:if(t.prev=2,e.isSubmitting=!0,!e.isDialogUpdateEvent){t.next=9;break}return t.next=7,e.updateEvent();case 7:t.next=14;break;case 9:return t.next=11,e.addEvent();case 11:r=t.sent,e.$message.success("新建成功"),setTimeout((function(){e.handleEdit(r)}),1500);case 14:e.isSubmitting=!1,e.dialogFormVisible=!1,e.getEventList(),t.next=23;break;case 19:t.prev=19,t.t0=t.catch(2),console.warn(t.t0),e.isSubmitting=!1;case 23:case"end":return t.stop()}}),t,null,[[2,19]])})));return function(e){return t.apply(this,arguments)}}())},handlerPublishRes:function(e,t){var n=this;return y(regeneratorRuntime.mark((function r(){var i;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,n.$confirm("确定发布资源？","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"});case 3:r.next=8;break;case 5:return r.prev=5,r.t0=r.catch(0),r.abrupt("return");case 8:return i=t.id,r.prev=9,r.next=12,c.default.publishEventResource({id:i,env:e});case 12:n.$message({message:"操作成功",type:"success"}),r.next=18;break;case 15:r.prev=15,r.t1=r.catch(9),console.log(r.t1);case 18:case"end":return r.stop()}}),r,null,[[0,5],[9,15]])})))()},getEventPublishInfo:function(e){return y(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c.default.getEventPublishInfo({id:e});case 3:return n=t.sent,t.abrupt("return",n);case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},publishEvent:function(){var e=arguments;return y(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.length>0&&void 0!==e[0]?e[0]:{},t.next=3,c.default.publishEvent(n);case 3:case"end":return t.stop()}}),t)})))()},getEventPublishList:function(e){return y(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n={id:e,page:1,limit:30},t.next=4,c.default.getEventPublishList(n);case 4:return r=t.sent,console.log(r),t.abrupt("return",r);case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},addEvent:function(){var e=this;return y(regeneratorRuntime.mark((function t(){var n,r,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(delete(n=O({},e.eventForm)).id,!e.tempInfo){t.next=7;break}return t.next=5,d.default.getTemplateInfo({id:e.tempInfo.id});case 5:r=t.sent,n.config_str=r.config_str;case 7:return t.next=9,c.default.addEvent(n);case 9:return i=t.sent,t.abrupt("return",i);case 11:case"end":return t.stop()}}),t)})))()},updateEvent:function(){var e=this;return y(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.default.updateEvent(e.eventForm);case 2:case"end":return t.stop()}}),t)})))()},onPageChange:function(e){this.page=e},getEventList:function(){var e=this;return y(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n={page:e.page,limit:e.limit,search:e.queryForm.search,type:e.queryForm.type},t.next=4,c.default.getEventList(n);case 4:r=t.sent,e.eventList=r.list.map((function(e){return O(O({},e),{},{publishList:[]})})),e.total=r.count,t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},setTempInfo:function(e){this.tempInfo=e,this.eventForm.pc_page_mode=this.tempInfo.pc_page_mode||s.default.pageMode.scrollPage,this.eventForm.mobile_page_mode=this.tempInfo.mobile_page_mode||s.default.pageMode.scrollPage},clearTemplate:function(){this.tempInfo=null},copyEvent:function(e){var t=e.eventTimeRange,n=e.event_name,r=e.event_key,i=e.id;this.copyForm={eventTimeRange:t,event_name:"".concat(n,"_副本"),event_key:"".concat(r,"_copy"),event_id:i},this.copyModalShow=!0},handleCopySubmit:function(){var e=this;return y(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.isCopying){t.next=2;break}return t.abrupt("return");case 2:e.$refs.copyForm.validate(function(){var t=y(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=15;break}return e.isCopying=!0,t.prev=2,t.next=5,e.postCopyEvent();case 5:e.isCopying=!1,e.copyModalShow=!1,e.getEventList(),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),e.isCopying=!1;case 13:t.next=16;break;case 15:console.log("error submit!!");case 16:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e){return t.apply(this,arguments)}}());case 3:case"end":return t.stop()}}),t)})))()},postCopyEvent:function(){var e=this;return y(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",c.default.copyEvent(e.copyForm));case 1:case"end":return t.stop()}}),t)})))()},handleDeleteEvent:function(e){var t=this;return y(regeneratorRuntime.mark((function n(){var r,i,o,a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(console.log("handleDeleteEvent",e),"ReleaseEnvProd"!==e.release_status){n.next=3;break}return n.abrupt("return",t.$message({message:"不能删除已上线的活动",type:"warning"}));case 3:return n.next=5,t.$async(t.$confirm("确定删除活动 “".concat(e.event_name,"” 吗?"),"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}));case 5:if(r=n.sent,i=h(r,1),!i[0]){n.next=10;break}return n.abrupt("return");case 10:return n.next=12,t.$async(c.default.deleteEvent({id:e.id}));case 12:if(o=n.sent,a=h(o,1),!a[0]){n.next=17;break}return n.abrupt("return");case 17:t.getEventList();case 18:case"end":return n.stop()}}),n)})))()},handleOffline:function(e){var t=this;return y(regeneratorRuntime.mark((function n(){var r,i,o,a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("handleOffline",e),n.next=3,t.$async(t.$confirm("确定下线活动 “".concat(e.event_name,"” 吗?"),"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}));case 3:if(r=n.sent,i=h(r,1),!i[0]){n.next=8;break}return n.abrupt("return");case 8:return n.next=10,t.$async(c.default.offlineEvent({id:e.id}));case 10:if(o=n.sent,a=h(o,1),!a[0]){n.next=15;break}return n.abrupt("return");case 15:t.getEventList();case 16:case"end":return n.stop()}}),n)})))()}})};t.default=x},function(e,t,n){"use strict";n.r(t);var r=n(477),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=n(43),o=(r=n(2103))&&r.__esModule?r:{default:r},a=n(2125),s=n(1243);function u(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){u(o,r,i,a,s,"next",e)}function s(e){u(o,r,i,a,s,"throw",e)}a(void 0)}))}}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p={props:{event:{type:Object,default:function(){return{}}},eventKey:{type:String,default:""},hasOpenButton:{type:Boolean,default:!1}},data:function(){var e={label:"普通体验地址",value:"normal"},t="gameWebview",n=[{label:"游戏公告地址",value:"gameWebview"},e];return this.eventKey||(n=[e],t="normal"),{visible:!0,curBiz:"",curType:t,typeOptions:n,envMap:[{name:"test",tagType:"warning",label:"测试环境"},{name:"pre",tagType:"",label:"预发布环境"},{name:"prod",tagType:"success",label:"正式环境"}],pageUrls:{},pageQrcode:{}}},computed:d(d({},(0,i.mapGetters)(["bizMap","pageCompNode"])),{},{isCn:function(){return/_cn/.test(this.curBiz)},typeBiz:function(){return{curType:this.curType,curBiz:this.curBiz}}}),watch:{event:{handler:function(e){var t;this.curBiz=null===(t=e.biz_list)||void 0===t?void 0:t[0]},immediate:!0},typeBiz:{handler:function(){var e=this;return l(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.initLink();case 1:case"end":return t.stop()}}),t)})))()},immediate:!0}},mounted:function(){var e;"@puzzle/bh3-preview-template"===(null===(e=this.pageCompNode)||void 0===e?void 0:e.name)&&(0,a.getAllUrl)({eventKey:this.eventKey,publishKey:this.event.publish_key,isSea:!this.isCn})},methods:{openUrl:function(e){window.open(e)},initLink:function(){this.pageUrls=this.getPageUrls(this.event),this.getPageQrcodes(this.pageUrls)},getPageUrls:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.publish_key,r=this.curBiz,i=this.eventKey,o=function(t){var o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,s.getPageHref)({env:t,isSea:o,curBiz:r,publishKey:n,type:e.curType,eventKey:i})};return{test:o("test",!this.isCn),pre:o("pre",!this.isCn),prod:o("prod",!this.isCn)}},getPageQrcodes:function(e){var t=this;return l(regeneratorRuntime.mark((function n(){var r,i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={margin:1},n.next=3,Promise.all([o.default.toDataURL(e.test,r),o.default.toDataURL(e.pre,r),o.default.toDataURL(e.prod,r)]);case 3:i=n.sent,t.pageQrcode={test:i[0],pre:i[1],prod:i[2]};case 5:case"end":return n.stop()}}),n)})))()},handleCopy:function(){this.$message.success("复制成功")},onClosed:function(){this.$emit("resolve")}}};t.default=p},function(e,t,n){"use strict";n.r(t);var r=n(479),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(465))&&r.__esModule?r:{default:r};function o(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}var a={props:{show:{type:Boolean,default:!1},curItem:{type:[Object,null],default:function(){return{}}}},data:function(){return{visible:this.show,list:[],pagination:{limit:12,page:1,total:0},tempInfo:this.curItem}},watch:{show:function(e){e!==this.visible&&(this.visible=e)},curItem:function(e){this.tempInfo=e}},mounted:function(){this.init()},methods:{init:function(){var e,t=this;return(e=regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.default.getTemplateList({loading:!1,page:t.pagination.page,limit:t.pagination.limit});case 3:n=e.sent,t.pagination.total=n.count,t.list=n.list,e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})),function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function s(e){o(a,r,i,s,u,"next",e)}function u(e){o(a,r,i,s,u,"throw",e)}s(void 0)}))})()},confirm:function(){this.$emit("select",this.tempInfo),this.$emit("close")},handPageChange:function(e){this.pagination.pn=e,this.init()}}};t.default=a},function(e,t,n){"use strict";n.r(t);var r=n(481),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=N(n(1224)),i=n(43),o=N(n(2130)),a=n(304),s=n(173),u=N(n(2131)),l=N(n(2132)),c=N(n(2136)),d=N(n(2137)),f=n(303),p=K(n(143)),v=n(851),m=K(n(92)),h=N(n(2138)),b=N(n(848)),g=n(92),y=n(1250),_=N(n(462)),O=N(n(465)),w=N(n(1238)),S=N(n(2143)),x=N(n(2148)),P=N(n(1252)),j=N(n(2153)),k=N(n(2155)),C=N(n(2197)),M=n(2254);function N(e){return e&&e.__esModule?e:{default:e}}function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||L(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function T(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){D(o,r,i,a,s,"next",e)}function s(e){D(o,r,i,a,s,"throw",e)}a(void 0)}))}}function z(e){return function(e){if(Array.isArray(e))return R(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||L(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){if(e){if("string"==typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?R(e,t):void 0}}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){B(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return($=function(e){return e?n:t})(e)}function K(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==E(e)&&"function"!=typeof e)return{default:e};var n=$(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}n(2255);var U={name:"EditMain",components:{compLibrary:x.default,nodeTree:j.default,preview:k.default,inspector:C.default,diff:S.default,codeMode:function(){return Promise.resolve().then((function(){return K(n(1343))}))},FuncModule:P.default},data:function(){return{inMerlin:!!a.QS.inMerlin,stopWatch:function(){},lockHistory:!1,publishing:!1,initFinish:!1,templateName:"",event:{event_name:"",is_mi18n:!1,biz_list:[],game_biz:"",publish_key:"",mi18n_key:""},treeActiveName:"nodes",mode:{},tempLoading:!1,tempAddShow:!1,showDiffDialog:!1,codeModeInited:!1,codeModeDialogVisible:!1,showDownloadMi18n:!1,codeModeVal:"",oldStr:"",newStr:"",activeTab:"component",dialogShortCutVisible:!1,shortCutsDescMap:M.shortCutsDescMap,copyNode:null,merlinDomainList:void 0}},computed:F(F(F(F(F({},(0,i.mapState)(["platform","baseInfo","platMsg","nodes","activeNodeId","activeScreenNodeId","gameBiz","lang","modeType","prePageConfig","compList","canvasTransformData","funcModules"])),(0,i.mapState)("dev",["devCompType","_interceptingComps"])),(0,i.mapState)("dev",{devEnabled:"enabled"})),(0,i.mapGetters)(["viewport","allComps","pageConfig","activeNode","fullpageNodes","dialogNodes","pageCompNode","normalNodes","dfsDialogNodes","dfsNodes","activeScreenNode","activeNode","mapNodes","mapProNodes","isPageCompType","pageCompNode","pageComp","activeNodePro","allMi18nMsgList","mi18nCreateMsgList"])),{},{eventId:function(){return Number(this.$route.params.eventId||this.$route.query.eventId)},templateId:function(){return this.$route.params.templateId},isEditingTpl:function(){return!!this.templateId},showAllDialog:{set:function(e){var t=this;e?this.dialogNodes.forEach((function(e){t.updateNodeInNewScreen({type:"add",id:e.id})})):z(this.activeScreenNodeId).forEach((function(e){"dialog"===t.mapNodes[e].nodeCategory&&t.updateNodeInNewScreen({type:"remove",id:e})}))},get:function(){return this.activeScreenNode.filter((function(e){return"dialog"===e.type})).length===this.dialogNodes.length}},mi18nMsg:{get:function(){return this.gameBiz&&this.lang?[this.gameBiz,this.lang]:[void 0]},set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.setMi18nData({gameBiz:e[0],lang:e[1],id:this.eventId})}},bizSelectOptions:function(){var e=this;return this.baseInfo.langMap?Object.keys(this.baseInfo.langMap).map((function(t){return{value:t,label:t,children:e.baseInfo.langMap[t].map((function(e){return{label:e,value:e}}))}})):[]},tplBaseInfo:function(){return(0,r.default)(this.pageConfig.baseInfo,p.templayeKeys)},invalidDevPageComp:function(){var e;return this.devEnabled&&"page"===this.devCompType&&1!==(null===(e=Object.keys(this._interceptingComps))||void 0===e?void 0:e.length)},validDevPageComp:function(){var e;return this.devEnabled&&"page"===this.devCompType&&1===(null===(e=Object.keys(this._interceptingComps))||void 0===e?void 0:e.length)}}),watch:{activeNodeId:function(e){if(e){var t=this.mapProNodes[e];this.treeActiveName="dialog"===t.rootNode.nodeCategory?"dialog":"nodes"}},eventId:function(){window.location.reload()},"viewport.width":function(){this.setRemUnit()},lang:function(e){e&&(this.activeTab="node")},devCompType:function(){this.invalidDevPageComp&&this.showTipsDevComp(),(this.validDevPageComp||"component"===this.devCompType)&&window.location.reload()},_interceptingComps:function(){this.invalidDevPageComp&&this.showTipsDevComp(),this.validDevPageComp&&window.location.reload()}},mounted:function(){var e=this;return T(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.init();case 2:e.recordHistory(),e.bindShortCut(),window.addEventListener("beforeunload",e.handleBeforeUnload);case 5:case"end":return t.stop()}}),t)})))()},methods:F(F(F({},(0,i.mapMutations)(["updateNodes","updatePageConfig","initPlatMsg","updatePlatform","updateCompList","changeCustomCanvas","changeModeType","updateActiveNodeId","setCustomBaseInfo"])),(0,i.mapActions)(["addFullScreenRootNode","updateNodeInNewScreen","checkMi18nStatus","setMi18nData","updateResources","addPageComp","fetchCompModule","getEventFuncModuleList","getFeFuncModuleList","handleZoomIn","handleZoomOut","searchDep","searchDepPlat"])),{},{changePlatform:function(e){var t=this;return T(regeneratorRuntime.mark((function n(){var r,i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.updateResources(),t.searchDepPlat(),t.updatePageConfig(t.pageConfig),t.updatePlatform(e),r=F({},t.prePageConfig[t.platform]||{}),i=r.nodes||[],delete r.nodes,n.next=9,t.initPlatConfig({nodes:i,platMsg:r});case 9:h.default.clear();case 10:case"end":return n.stop()}}),n)})))()},recordHistory:function(){var e=this;this.stopWatch=this.$store.watch((function(e){var t=e.nodes;return JSON.stringify({nodes:t})}),(0,y.debounce)((function(t){e.lockHistory||h.default.push(t,{force:!0}),e.lockHistory=!1}),150),{immediate:!0,deep:!1})},clearHistoryRecord:function(){var e;null===(e=this.stopWatch)||void 0===e||e.call(this),h.default.clear()},handleDevCommand:function(e){this[e]()},bindShortCut:function(){var e=this,t=function(){var t=T(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log("deleteNode triggered"),e.activeNodeId){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,t.next=6,e.$confirm("确认删除组件：“".concat(e.activeNode.alias,"” ?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"});case 6:e.$store.dispatch("removeNode",{id:e.activeNodeId}),t.next=11;break;case 9:t.prev=9,t.t0=t.catch(3);case 11:case"end":return t.stop()}}),t,null,[[3,9]])})));return function(){return t.apply(this,arguments)}}(),n=function(){console.log("undo");var t=h.default.undo();null!==t&&(e.lockHistory=!0,e.$store.commit("updateHistory",JSON.parse(t)))},r=function(){console.log("redo");var t=h.default.redo();null!==t&&(e.lockHistory=!0,e.$store.commit("updateHistory",JSON.parse(t)))},i=this.handleZoomIn,a=this.handleZoomOut,s=function(){if(e.activeNode){var t=e.activeNode.nodeCategory;if(e.activeNodePro.editOptions.noDrag)return e.$message({message:"当前节点不可快捷键复制",type:"warning"}),void(e.copyNode=null);if(t&&!["text"].includes(t))return e.$message({message:"当前节点暂时不可快捷键复制",type:"warning"}),void(e.copyNode=null);e.copyNode=JSON.parse(JSON.stringify(e.activeNode)),e.$message({message:"节点复制成功",type:"success",duration:1e3})}},u=function(){var t=T(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.copyNode){t.next=3;break}return e.$message({message:"请先复制节点",type:"warning"}),t.abrupt("return");case 3:return t.next=5,e.$store.dispatch("pasteNode",{node:e.copyNode});case 5:(n=t.sent)&&(e.updateActiveNodeId(n),e.copyNode=e.activeNode);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),l={backspace:t,"ctrl+z":n,"cmd+z":n,"ctrl+shift+z":r,"cmd+shift+z":r,"cmd+=":a,"cmd+-":i,"ctrl+=":a,"ctrl+-":i,"cmd+c":s,"ctrl+c":s,"cmd+v":u,"ctrl+v":u},c=Object.keys(l).join(",");(0,o.default)(c,(function(t,n){t.preventDefault(),l[n.key].call(e)})),o.default.filter=function(e){var t=e.target,n=t.tagName;return!(t.isContentEditable||window.getSelection().toString().length||"INPUT"===n&&!["button","checkbox","color","file","image","radio","range","reset","submit"].includes(t.type)||"SELECT"===n||"TEXTAREA"===n)},this.$gon("undo",n),this.$gon("redo",r)},unbindShortCut:function(){this.$goff("undo"),this.$goff("redo"),o.default.unbind()},handleBeforeUnload:function(e){e.preventDefault(),e.returnValue=""},init:function(){var e=this;return T(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.setRemUnit(),!e.templateId){t.next=5;break}return t.next=4,e.getTemplateInfo();case 4:return t.abrupt("return");case 5:return t.next=7,e.getEventInfoConfig();case 7:case"end":return t.stop()}}),t)})))()},handleOpenCodeMode:function(){this.codeModeInited=!0,this.codeModeDialogVisible=!0},confirmChangePageConfig:function(){var e=this;return T(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$confirm("确认更新页面配置?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"});case 2:return t.next=4,e.handleUpdateEventConfig(e.codeModeVal);case 4:window.location.reload();case 5:case"end":return t.stop()}}),t)})))()},setRemUnit:function(){var e=this.platMsg.body.width;m.setRemUnit(this.viewport.width,e)},getFuncModuleList:function(){var e=this;return T(regeneratorRuntime.mark((function t(){var n,r,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.eventId,r="",!e.inMerlin){t.next=14;break}return t.prev=3,t.next=6,e.getEventFuncModuleList({eventId:n});case 6:i=t.sent,r=i.eventKey,e.merlinDomainList=i.domain_list,t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),console.error(t.t0);case 14:return e.event.eventKey=r,t.next=17,e.getFeFuncModuleList({eventId:n,eventType:e.event.event_type});case 17:case"end":return t.stop()}}),t,null,[[3,11]])})))()},getEventModuleList:function(){var e=this;return T(regeneratorRuntime.mark((function t(){var n,r,i,o,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([_.default.getEventModuleList({id:e.eventId,device_mode:2}),_.default.getEventModuleList({id:e.eventId,device_mode:1})]);case 2:n=t.sent,r=I(n,2),i=r[0],o=r[1],a=F(F({},o),i),e.$store.commit("updateCompList",a);case 8:case"end":return t.stop()}}),t)})))()},getTemplateInfo:function(){var e=this;return T(regeneratorRuntime.mark((function t(){var n,r,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.default.getTemplateInfo({id:e.templateId});case 2:return n=t.sent,r=n.config_str||"{}",delete n.config_str,e.oldStr=r,e.event=n,t.next=9,e.getFuncModuleList();case 9:i=JSON.parse(r),console.log("getTemplateInfo: ",F(F({},n),{},{config_str:i})),e.templateName=n.template_name,e.initEventConfig(i);case 13:case"end":return t.stop()}}),t)})))()},getEventInfoConfig:function(){var e=this;return T(regeneratorRuntime.mark((function t(){var n,r,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.default.getEventInfo({id:e.eventId});case 2:return n=t.sent,r=n.config_str||"{}",delete n.config_str,i=JSON.parse(r),e.oldStr=r,e.event=n,t.next=10,e.getFuncModuleList();case 10:if(!e.event.is_mi18n||!e.event.mi18n_key){t.next=14;break}return t.next=13,e.getMi18nMsg(e.event.mi18n_key);case 13:e.event.langMap=t.sent;case 14:return e.mode={pc:n.pc_page_mode,h5:n.mobile_page_mode},t.next=17,e.initEventConfig(i);case 17:case"end":return t.stop()}}),t)})))()},initPlatConfig:function(e){var t=this;return T(regeneratorRuntime.mark((function n(){var r,i,o,a,s,u,l,c,d,f,p,v,m,h,b,g,y,_,O;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=e.nodes,i=e.platMsg,o=e.isCompPage,a={platform:t.platform,pageMode:t.mode[t.platform],platMsg:i},t.updateNodes({newNodes:r}),!o){n.next=21;break}if(r.length){n.next=14;break}return u=t.funcModules[0],c=(l=null!=u?u:{}).flow_id_list,d=l.fe_list,f=l.version_list,p=null!==(s=null==d?void 0:d[0])&&void 0!==s?s:{},v=p.module_name,m={name:v},t.validDevPageComp&&(m.name=null===(h=Object.keys(t._interceptingComps))||void 0===h?void 0:h[0]),t.inMerlin&&(m.beData={flowList:c,versionList:f}),n.next=13,t.addPageComp(m);case 13:t.setCustomBaseInfo(t.compList[t.nodes[0].name].main.declarations.customBaseInfo);case 14:return b=t.compList[t.nodes[0].name].main.declarations,g=b.editEnv,y=b.flexibleOptions,_=g.canvasWidth,O=g.canvasHeight,t.changeCustomCanvas({width:_,height:O}),t.changeModeType("preview"),t.initPlatMsg(F(F({},a),{},{flexibleOptions:y})),t.updateActiveNodeId(t.pageCompNode.id),n.abrupt("return");case 21:if(t.initPlatMsg(a),!t.platMsg.body.fullScreen||0!==t.fullpageNodes.length){n.next=25;break}return n.next=25,t.addFullScreenRootNode();case 25:case"end":return n.stop()}}),n)})))()},loadAllComps:function(e){var t=this;return T(regeneratorRuntime.mark((function n(){var r,i,o,a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o={},a=[].concat(z((null===(r=e.pc)||void 0===r?void 0:r.nodes)||[]),z((null===(i=e.h5)||void 0===i?void 0:i.nodes)||[])),m.dfsNodes(a,(function(e){if(!o[e.name]){var n=t.$store.dispatch("fetchCompModule",{compName:e.name,version:e.version});o[e.name]=n}})),n.next=5,Promise.all(Object.values(o));case 5:m.dfsNodes(a,(function(e){e.version=t.compList[e.name].version}));case 6:case"end":return n.stop()}}),n)})))()},initEventConfig:function(e){var t=this;return T(regeneratorRuntime.mark((function n(){var r,i,o,a,u,l,c,d,f,m,h,b,g,y,_,O,w,S,x,P,j,k;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return null!==(r=e.baseInfo)&&void 0!==r&&r.publish_key&&t.event.publish_key&&(null===(i=e.baseInfo)||void 0===i?void 0:i.publish_key)!==t.event.publish_key&&(e=JSON.parse(t.fmtConfig(t.event.publish_key,e))),O=!!t.validDevPageComp||(null===(o=t.event)||void 0===o||null===(a=o.func_module)||void 0===a?void 0:a.length),w=t.event.game_biz.replace(/_[\w\W]*/,""),S=t.mode.h5!==p.default.pageMode.scrollPage,x=null!==(u=null===(l=e.baseInfo)||void 0===l?void 0:l.landscapeTip)&&void 0!==u?u:!O&&S,(P=F(F({},e.baseInfo||{}),{},{id:t.eventId,game_biz:t.event.game_biz,eventKey:t.event.eventKey,statKey:v.STAT_MAP[w]||"",bizList:t.event.biz_list||(null===(c=e.baseInfo)||void 0===c?void 0:c.bizList),publish_key:t.event.publish_key||(null===(d=e.baseInfo)||void 0===d?void 0:d.publish_key),lang:t.event.lang||"",langMap:t.event.langMap,previewPlatList:(null===(f=e.baseInfo)||void 0===f?void 0:f.previewPlatList)||[],head:F({icon:(null===(m=v.PAGE_ICON_MAP[w])||void 0===m?void 0:m.cn)||v.PAGE_ICON_MAP.default.cn},(null===(h=e.baseInfo)||void 0===h?void 0:h.head)||{}),seaHead:F({icon:(null===(b=v.PAGE_ICON_MAP[w])||void 0===b?void 0:b.sea)||v.PAGE_ICON_MAP.default.sea},(null===(g=e.baseInfo)||void 0===g?void 0:g.seaHead)||{}),mi18n:{enable:t.event.is_mi18n,key:t.event.mi18n_key},isDevop:"production"!==s.environment,landscapeTip:x,commonDomainList:t.event.domain_list,domainList:t.merlinDomainList})).buildVer||(P.buildVer=p.default.latestBuilderVer),n.prev=7,n.next=10,t.loadAllComps(e);case 10:n.next=15;break;case 12:n.prev=12,n.t0=n.catch(7),t.$notify({title:"组件初始化错误",message:"组件初始化失败！请刷新页面重试！",type:"error"});case 15:return t.$store.commit("updateBaseInfo",P),null!==(y=e[t.platform])&&void 0!==y&&y.enable||null===(_=e.h5)||void 0===_||!_.enable||t.updatePlatform("h5"),j=F({},e[t.platform]||{}),k=j.nodes||[],O&&(t.updatePlatform("h5"),j=F({},e[t.platform]||{}),k=j.nodes||[],t.activeTab="be"),delete j.nodes,n.next=23,t.initPlatConfig({nodes:k,platMsg:j,isCompPage:O});case 23:t.updatePageConfig(e),t.initFinish=!0;case 25:case"end":return n.stop()}}),n,null,[[7,12]])})))()},fmtConfig:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.pageConfig,n=t.baseInfo.publish_key,r=e||m.newEventId();return t.baseInfo.publish_key=r,JSON.stringify(t,(function(e,t){if(null==e||!e.startsWith("pzmi18n"))return t===n?r:t}))},copy:function(){var e=this,t=JSON.stringify(this.pageConfig);(0,u.default)({text:t,onSuccess:function(){e.$message({type:"success",message:"保存成功"})}})},updateEventConfig:function(){var e=this;return T(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.updateResources(),e.searchDepPlat(),e.searchDep(),(n=JSON.stringify(e.pageConfig))!==e.oldStr){t.next=7;break}return e.$notify({title:"无需保存",message:"没有更改，无需保存",type:"warning"}),t.abrupt("return");case 7:e.startDiff(n);case 8:case"end":return t.stop()}}),t)})))()},handleConfirmSaveConfig:function(){var e=this;return T(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.handleUpdateEventConfig(e.newStr);case 2:e.resetDiff(),e.$message({type:"success",message:"保存成功"});case 4:case"end":return t.stop()}}),t)})))()},handleUpdateEventConfig:function(e){var t=this;return T(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.ensureNoDevConfigSaved(),n.next=3,_.default.updateEventConfig({id:t.eventId,config_str:e,version:t.event.version});case 3:t.event.version+=1,t.resetDiff();case 5:case"end":return n.stop()}}),n)})))()},langListSort:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!t.length)return[];if(!v.DEFAULT_LANG_MAP[e])return t;var n=[];return v.DEFAULT_LANG_MAP[e].forEach((function(e){t.includes(e)&&n.push(e)})),n},getMi18nMsg:function(e){var t=this;return T(regeneratorRuntime.mark((function n(){var r,i,o,a,u,l,c,d,f,p,v,m;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.$async(_.default.getMi18nInfo({app_key:e,id:t.eventId}));case 2:if(o=n.sent,a=I(o,2),u=a[0],l=a[1],!u){n.next=8;break}return n.abrupt("return");case 8:return c=(null==l||null===(r=l.biz)||void 0===r?void 0:r[0])||{},d=c.id,f=c.lang_order,p=void 0===f?[]:f,v="https://".concat("production"===s.environment?"":"dev","op.mihoyo.com/static/new-i18n-admin/index.html#/application/translation/").concat(d,"?langs=").concat(null==p?void 0:p.join(",")),t.$store.commit("updateMi18nAdminUrl",v),m={},null==l||null===(i=l.biz)||void 0===i||i.forEach((function(e){m[e.biz_type]=t.langListSort(e.biz_type,e.lang_order)})),n.abrupt("return",m);case 14:case"end":return n.stop()}}),n)})))()},handleUpdateMi18n:function(){var e=this;return T(regeneratorRuntime.mark((function t(){var n,r,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$confirm("确定更新到多语言?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"});case 2:return t.next=4,e.$async(e.updateMi18n());case 4:if(n=t.sent,r=I(n,1),null===(i=r[0])){t.next=10;break}throw e.$message({type:"error",message:"多语言更新失败"}),new Error(i);case 10:e.$message({type:"success",message:"多语言字段更新成功"});case 11:case"end":return t.stop()}}),t)})))()},updateMi18n:function(){var e=this;return T(regeneratorRuntime.mark((function t(){var n,r,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.mi18nCreateMsgList,t.next=3,e.$async(_.default.updateMi18n({id:e.eventId,list:n}));case 3:if(r=t.sent,i=I(r,1),!i[0]){t.next=9;break}return e.$message({type:"error",message:"多语言更新失败"}),t.abrupt("return",Promise.reject());case 9:return t.abrupt("return",Promise.resolve());case 10:case"end":return t.stop()}}),t)})))()},getFile:function(e){return new Promise((function(t,n){c.default.getBinaryContent(e,(function(e,r){e?n(e):t(r)}))}))},getFileEx:function(e){var t=e.split(".");return t[t.length-1]},setMi18nDataByType:function(e){var t=this,n=e.type,r=e.allMi18nList,i=e.zip,o=e.promises,a=r.filter((function(e){return e.type===n})),s="多语言".concat({image:"图片",video:"视频",audio:"音频"}[n]||"","资源");return i.folder(s),a.forEach((function(e){var n=t.getFile(e.value).then((function(n){var r=e.value,o="".concat(e.mi18nKEY,".").concat(t.getFileEx(r));i.file("".concat(s,"/").concat(o),n,{binary:!0})}));o.push(n)})),o},downloadMi18n:function(e){var t=this;this.showDownloadMi18n=!1;var n=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading"}),r=this.allMi18nMsgList.filter((function(e){return e.value})),i=new l.default,o=[];e?this.setMi18nDataByType({type:e,allMi18nList:r,zip:i,promises:o}):[f.MI18N_RES_TYPE.IMAGE,f.MI18N_RES_TYPE.VIDEO,f.MI18N_RES_TYPE.AUDIO].forEach((function(e){t.setMi18nDataByType({type:e,allMi18nList:r,zip:i,promises:o})}));Promise.all(o).then((function(){i.generateAsync({type:"blob"}).then((function(e){d.default.saveAs(e,"".concat(t.event.event_name,"多语言资源.zip")),t.$alert("资源下载成功","成功",{type:"success"})})).catch((function(){t.$alert("资源下载失败","失败",{type:"error"})})).finally((function(){n.close()}))}))},compareVersion:function(e,t){return!!this.baseInfo.buildVer&&(0,g.compareVersion)(this.baseInfo.buildVer,e,t)},handleCommand:function(e){var t=this;return T(regeneratorRuntime.mark((function n(){var r,i,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.$confirm("确认发布到".concat(p.default.envMap[e.env].name,"?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"});case 3:return n.next=5,t.checkMi18nStatus({env:e.env,is_mi18n:t.event.is_mi18n,eventId:t.eventId});case 5:return n.next=7,t.publishEvent(e.env);case 7:r=n.sent,i=r.id,o=setInterval(T(regeneratorRuntime.mark((function e(){var n,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getEventPublishInfo(i);case 2:n=e.sent,"PublishStatusOK"!==(r=n.status)&&"PublishStatusFail"!==r||(a="PublishStatusOK"===r,t.$notify({title:"发布结果",message:a?"发布成功":"发布失败",type:a?"success":"error"}),clearInterval(o),o=null,t.publishing=!1);case 5:case"end":return e.stop()}}),e)}))),3e3),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(0),t.publishing=!1;case 15:case"end":return n.stop()}}),n,null,[[0,12]])})))()},updatePage:function(){var e,t,n=JSON.parse(JSON.stringify(this.prePageConfig));n.baseInfo.buildVer="";var r=[].concat(z((null===(e=n.pc)||void 0===e?void 0:e.nodes)||[]),z((null===(t=n.h5)||void 0===t?void 0:t.nodes)||[]));m.dfsNodes(r,(function(e){e.version=""})),this.handleUpdateEventConfig(JSON.stringify(n)),window.location.reload()},publishEvent:function(e){var t=this;return T(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t.publishing=!0,n.next=4,_.default.publishEvent({env:e,id:t.eventId});case 4:return r=n.sent,console.log("publish resp: ",r),n.abrupt("return",r);case 9:n.prev=9,n.t0=n.catch(0),t.publishing=!1,console.warn("publish err: ",n.t0);case 13:case"end":return n.stop()}}),n,null,[[0,9]])})))()},getEventPublishInfo:function(e){return T(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n={id:e,loading:!1},t.next=4,_.default.getEventPublishInfo(n);case 4:return r=t.sent,t.abrupt("return",r);case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},getCurPageMode:function(e){var t;return(null===(t=p.default.pageModeMap.find((function(t){return e.mode===t.mode&&e.body.fullScreen===t.fullScreen})))||void 0===t?void 0:t.value)||1},handleTempAdd:function(e){var t=this;return T(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.tempLoading=!0,n.prev=1,n.next=4,O.default.addTemplate({cover:e.cover,template_name:e.template_name,event_id:t.eventId,mobile_page_mode:t.event.mobile_page_mode,pc_page_mode:t.event.pc_page_mode,config_str:JSON.stringify(F(F({},t.pageConfig),{},{baseInfo:t.tplBaseInfo}))});case 4:t.tempLoading=!1,t.$message.success("模板创建成功"),t.tempAddShow=!1,n.next=13;break;case 9:n.prev=9,n.t0=n.catch(1),t.tempLoading=!1,console.error(n.t0);case 13:case"end":return n.stop()}}),n,null,[[1,9]])})))()},saveAsTemplate:function(){var e=this;return T(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.ensureNoDevConfigSaved(),!e.isEditingTpl){t.next=12;break}return t.next=4,e.$async(e.$confirm("确认更新模板?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}));case 4:if(n=t.sent,r=I(n,1),!r[0]){t.next=9;break}return t.abrupt("return");case 9:O.default.updateTemplateConfig({id:e.templateId,config_str:JSON.stringify(F(F({},e.pageConfig),{},{baseInfo:e.tplBaseInfo}))}),t.next=14;break;case 12:e.tempLoading=!1,e.tempAddShow=!0;case 14:case"end":return t.stop()}}),t)})))()},handleViewPage:function(){this.$async((0,b.default)(w.default,{props:{event:this.event,eventKey:this.baseInfo.eventKey,hasOpenButton:!0}}))},startDiff:function(e){this.newStr=e,this.showDiffDialog=!0},resetDiff:function(){this.showDiffDialog=!1,this.oldStr=this.newStr},ensureNoDevConfigSaved:function(){if(0!==this.$store.getters["dev/compListArray"].length)try{console.log(this.pageConfig);for(var e=this.pageConfig,t=e.pc,n=void 0===t?{nodes:[]}:t,r=e.h5,i=void 0===r?{nodes:[]}:r,o=[].concat(z(n.nodes),z(i.nodes));o.length>0;){var a=o.shift();if(a.__dev__)throw new Error("配置中包含本地调试信息，无法保存");Array.isArray(a.children)&&o.push.apply(o,z(a.children))}}catch(e){throw this.$message({type:"error",message:e&&e.message||"Unknown Error"}),e}},showTipsDevComp:function(){this.$message.error("请勾选要调试的页面级组件，必须勾选单个")}})};t.default=U},function(e,t,n){"use strict";n.r(t);var r=n(483),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(742),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var u=o?Object.getOwnPropertyDescriptor(e,s):null;u&&(u.get||u.set)?Object.defineProperty(i,s,u):i[s]=e[s]}i.default=e,n&&n.set(e,i);return i}(n(2503));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}n(2146);var s={props:{value:{type:Boolean,default:!1},oldStr:{type:String,default:""},newStr:{type:String,default:""}},computed:{show:{get:function(){return this.value},set:function(e){this.$emit("input",e)}},prettyHtml:function(){var e=(0,i.createPatch)("",this.formatPrettyStr(this.oldStr),this.formatPrettyStr(this.newStr),"","");return o.html(e,{drawFileList:!1,fileListToggle:!0,fileListStartVisible:!0,fileContentToggle:!0,diffStyle:"char",matching:"none",outputFormat:"side-by-side"})}},methods:{handleClose:function(){this.show=!1},handleConfirm:function(){this.$emit("confirm")},formatPrettyStr:function(e){return JSON.stringify(JSON.parse(e||"{}"),null,2)}}};t.default=s},function(e,t,n){"use strict";n.r(t);var r=n(485),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=n(43),o=n(304);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l={name:"CompList",components:{funcModule:((r=n(1252))&&r.__esModule?r:{default:r}).default},data:function(){return{inMerlin:!!o.QS.inMerlin,activetab:"fe",blackList:["@puzzle/dialog"]}},computed:s(s({},(0,i.mapGetters)(["compListArray","pageCompNode","isPageCompType"])),{},{feCompList:function(){var e=this;return this.compListArray.filter((function(t){return"FEModuleTypeFE"===t.type&&!e.blackList.includes(t.name)}))}}),methods:s(s({},(0,i.mapActions)(["addDialogRootNode","updateNodeInNewScreen"])),{},{createDialog:function(){this.addDialogRootNode()},getDevCompIcon:function(e){var t=e.__dev__;switch((t=void 0===t?{}:t).state){case"compiling":return"el-icon-loading";case"done":return"el-icon-finished";case"error":return"el-icon-warning";default:return"el-icon-question"}}})};t.default=l},function(e,t,n){"use strict";n.r(t);var r=n(487),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(43),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}i.default=e,n&&n.set(e,i);return i}(n(92)),a=u(n(850)),s=u(n(2149));function u(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function c(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){c(o,r,i,a,s,"next",e)}function s(e){c(o,r,i,a,s,"throw",e)}a(void 0)}))}}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m={data:function(){return{activeNames:"",constList:[],currentItem:{},currentConst:{},constForm:{value_type:"ValueInt",key:"",name:"",value:""},options:[{value:"ValueInt",label:"数字"},{value:"ValueString",label:"字符串"}],constRules:{value_type:[{required:!0,message:"请选择类型"}],name:[{required:!0,message:"请输入名称"}],key:[{required:!0,message:"请输入key"}],value:[{required:!0,message:"请输入值"}]},isEditConst:!1,dialogConstVisible:!1,dialogConstFormVisible:!1,dialogAvailableVisible:!1,availableList:[],availableSearchForm:{page:1,total:0,page_size:10,is_dev:!1,keyword:""}}},watch:{"availableSearchForm.is_dev":function(){this.handleAvailableList()}},computed:p(p(p({},(0,i.mapState)(["funcModules"])),(0,i.mapGetters)(["bizMap","pageCompNode","isPageCompType"])),{},{puzzleId:function(){return this.$route.params.eventId}}),methods:p(p({},(0,i.mapActions)(["getEventFuncModuleList"])),{},{handleEditModule:function(e){o.openDialog(s.default,{props:{url:e.menu.config.url,bizName:this.bizMap[e.game_biz]}})},handleNewConst:function(){this.isEditConst=!1,this.constForm={value_type:"ValueInt",key:"",name:"",value:""},this.dialogConstFormVisible=!0},handleEditConst:function(e){this.isEditConst=!0,this.currentConst=e,this.constForm={value_type:e.value_type,key:e.key,name:e.name,value:e.value},this.dialogConstFormVisible=!0},handleSubmitConst:function(){var e=this;return d(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.constForm.validate();case 2:if(!e.isEditConst){t.next=7;break}return t.next=5,a.default.editConst(p({id:e.currentConst.id},e.constForm));case 5:t.next=9;break;case 7:return t.next=9,a.default.createConst(p({space_id:e.currentItem.space_id,event_id:e.currentItem.event_id},e.constForm));case 9:e.getConstList(),e.dialogConstFormVisible=!1;case 11:case"end":return t.stop()}}),t)})))()},handleConst:function(e){this.currentItem=e,this.dialogConstVisible=!0,this.getConstList()},getConstList:function(){var e=this;return d(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.default.constList({space_id:e.currentItem.space_id,event_id:e.currentItem.event_id});case 2:n=t.sent,e.constList=n.list;case 4:case"end":return t.stop()}}),t)})))()},createModule:function(){this.dialogAvailableVisible=!0,this.getAvailableEventFuncModuleList()},handleAvailableChange:function(e){this.availableSearchForm.page=e,this.getAvailableEventFuncModuleList()},handleAddAvailable:function(e){var t=this;this.$confirm("确认添加功能模块？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(d(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={func_id:e.id,is_dev:t.availableSearchForm.is_dev?1:void 0,puzzle_id:t.puzzleId},n.next=3,a.default.importFuncModule(r);case 3:t.dialogAvailableVisible=!1,t.getEventFuncModuleList({eventId:t.puzzleId}),t.$message({type:"success",message:"添加成功!"});case 6:case"end":return n.stop()}}),n)})))).catch((function(){}))},handleAvailableList:function(){this.availableSearchForm.page=1,this.getAvailableEventFuncModuleList()},getAvailableEventFuncModuleList:function(){var e=this;return d(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.default.getAvailableEventFuncModuleList(p(p({},e.availableSearchForm),{},{is_dev:e.availableSearchForm.is_dev?1:void 0,puzzle_id:e.puzzleId}));case 2:n=t.sent,e.availableList=n.list;case 4:case"end":return t.stop()}}),t)})))()},handleDelete:function(e){var t=this;return d(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t.$confirm("确认删除「".concat(e.func_name,"」?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(d(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={id:e.id},n.next=3,a.default.deleteEventFuncModule(r);case 3:t.$message.success("操作成功"),t.getEventFuncModuleList({eventId:t.puzzleId});case 5:case"end":return n.stop()}}),n)})))).catch((function(){}));case 1:case"end":return n.stop()}}),n)})))()}})};t.default=m},function(e,t,n){"use strict";n.r(t);var r=n(489),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={name:"ConfigModule",props:{url:String,bizName:String},data:function(){return{visible:!0}},methods:{onClosed:function(){this.$emit("resolve")}}};t.default=r},function(e,t,n){"use strict";n.r(t);var r=n(491),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(43);function i(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l={props:{allNodes:{type:Array,default:function(){return[]}},searchNodesList:{type:Array,default:function(){return[]}}},data:function(){return{searchVal:"",expandedKeys:[],defaultProps:{label:"alias"},nodesTree:[],isEdit:!1,activeId:void 0,parentId:void 0,dragingParent:null}},computed:s(s(s({},(0,r.mapState)(["compList","activeNodeId","nodesEditOptions","nodes"])),(0,r.mapGetters)(["compListArray","mapProNodes","isPageCompType"])),{},{searchResults:function(){var e=this;return this.searchVal?this.searchNodesList.filter((function(t){return t.alias.indexOf(e.searchVal)>-1||t.name.indexOf(e.searchVal)>-1||t.label.indexOf(e.searchVal)>-1})):this.nodesTree}}),watch:{activeNodeId:{handler:function(e){var t=this;!!this.expandedKeys.find((function(t){return t===e}))||this.expandedKeys.push(e),setTimeout((function(){t.isClicked?t.isClicked=!1:t.scrollToActiveDom()}),100)},immediate:!0},nodes:{handler:function(){this.nodesTree=this.allNodes||[],this.nodesTree=i(this.nodesTree)},deep:!0,immediate:!0}},methods:s(s({},(0,r.mapActions)(["updateActiveNodeId","removeNode","addNode"])),{},{allowDrag:function(e){return e.data.id!==this.activeId},scrollToActiveDom:function(){var e=this.$refs.active;e&&setTimeout((function(){e.scrollIntoView()}),500)},isLocked:function(e){var t;return null===(t=this.nodesEditOptions[e.data.id])||void 0===t?void 0:t.locked},allowDrop:function(e,t,n){var r=t.data.name;return"inner"!==n||this.getNestable(r)&&!["fullpageContainer","dialog"].includes(e.data.nodeCategory)},handlerDragStart:function(e){this.dragingParent=this.mapProNodes[e.data.id].parentNode},handlerDragOver:function(e,t,n){n.dataTransfer.dropEffect="move",n.preventDefault()},handleDragEnd:function(e,t,n){if(t&&"none"!==n){var r=this.mapProNodes[null==t?void 0:t.data.id];if(this.dragingParent||this.removeNode({id:e.data.id,parentList:this.nodes}),("before"===n||"after"===n)&&!r.parentNode){var i=this.nodes.indexOf(t.data);this.addNode({config:e.data,index:"before"===n?i:i+1})}}},getNestable:function(e){var t,n,r;return null===(t=this.compList[e])||void 0===t||null===(n=t.main)||void 0===n||null===(r=n.declarations)||void 0===r?void 0:r.nestable},handleOutside:function(){this.isEdit=!1,this.activeId=void 0},handleCopy:function(e){this.$store.dispatch("copyNode",{node:e.data})},handleView:function(e){this.$store.dispatch("updateNodeConfig",{node:e.data,options:{enabled:!e.data.enabled}})},handleLock:function(e){var t;e.data.id===this.activeNodeId&&this.updateActiveNodeId(""),this.$store.commit("updateNodesEditOptionsTemporary",{id:e.data.id,options:{locked:void 0===(null===(t=this.nodesEditOptions[e.data.id])||void 0===t?void 0:t.locked)||!this.nodesEditOptions[e.data.id].locked}})},handleNodeExpand:function(e){this.expandedKeys.find((function(t){return t===e.id}))||this.expandedKeys.push(e.id)},handleNodeCollapse:function(e){var t=this,n=e.children,r=e.id,i=this.expandedKeys.findIndex((function(e){return e===r}));-1!==i&&this.expandedKeys.splice(i,1),Array.isArray(n)&&n.forEach((function(e){return t.handleNodeCollapse(e)}))},handleDelete:function(e){var t=this;this.$confirm("确认删除当前节点?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var n=e.data.id;t.$store.dispatch("removeNode",{id:n}),t.$message({type:"success",message:"已删除!"})})).catch((function(){}))},handleEdit:function(e){this.activeId=e.data.id,this.isEdit=!0},handleClick:function(e){e.id!==this.activeNodeId&&(this.isClicked=!0,this.updateActiveNodeId(e.id))}})};t.default=l},function(e,t,n){"use strict";n.r(t);var r=n(493),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(43),i=h(n(2156)),o=n(844),a=h(n(143)),s=h(n(2157)),u=h(n(2174)),l=h(n(2181)),c=h(n(2182)),d=h(n(2184)),f=h(n(2186)),p=h(n(2188)),v=h(n(2190)),m=h(n(2193));function h(e){return e&&e.__esModule?e:{default:e}}function b(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function g(e){return function(e){if(Array.isArray(e))return y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S=document.body,x={components:{pageList:s.default,MainScreen:u.default,EditBox:p.default,DialogScreen:l.default,SwiperScreen:c.default,CollapseScreen:d.default,DragBox:v.default,TopToolsBar:m.default,CustomButtonScreen:f.default},data:function(){return{ctrlKey:"ctrlKey",startDrag:!1,spaceKeyDown:!1,mouseWheelTimer:null}},computed:O(O(O({},(0,r.mapState)(["platform","baseInfo","platMsg","nodes","canvasTransformData","mouseDownPosition","activePageIdx","lang","compList","modeType","pageModule","pageStatus"])),(0,r.mapGetters)(["viewport","activeNode","pageConfig","otherType","dialogNodes","activeScreenNode","mapNodes","fullpageNodes","maxZIndexNode","dfsNodes","mapProNodes","activeNodeProInPage","isFullScreen","isPageCompType","pageCompNode","pageComp"])),{},{modules:function(){var e,t,n,r=null===(e=this.pageComp)||void 0===e||null===(t=e.main)||void 0===t||null===(n=t.declarations)||void 0===n?void 0:n.modules;return console.log(this.pageComp),this.isPageCompType&&r&&r||[]},statusList:function(){var e,t,n=this;return(null===(e=this.modules)||void 0===e||null===(t=e.find((function(e){return e.value===n.pageModule})))||void 0===t?void 0:t.status)||[]},module:{get:function(){return this.pageModule},set:function(e){this.updatePageModule(e),this.status=""}},status:{get:function(){return this.pageStatus},set:function(e){this.updatePageStatus(e)}},showEditBox:function(){var e;return(null===(e=this.activeNodeProInPage)||void 0===e?void 0:e.activeEl)&&("edit"===this.modeType||this.activeNodeProInPage.screenCategory!==a.default.screenCategory.MAIN)&&!this.spaceKeyDown},stopCanvasMove:function(){return!this.spaceKeyDown&&!this.mouseWheelTimer},transFormData:function(){var e=this.canvasTransformData,t=e.x,n=e.y,r=e.scale;return"translate(".concat(t,"px,").concat(n,"px) scale(").concat(r,")")},activePage:function(){return this.fullpageNodes[this.activePageIdx]},screensContainerStyle:function(){return{transform:this.transFormData}}}),watch:{screensContainerStyle:function(){var e=this;this.$nextTick((function(){e.resetActiveEditBoxStyle()}))},maxZIndexNode:{handler:function(){var e=this;if(!this.lang&&0!==this.dfsNodes.length){var t=g(this.dfsNodes).sort((function(e,t){return(e.boxStyle.zIndex||0)-(t.boxStyle.zIndex||0)})),n=0;t[0].boxStyle.zIndex&&this.updateNodeBoxStyle({node:t[0],options:{zIndex:void 0}}),t.forEach((function(r,i){if("dialog"!==r.nodeCategory){var o=Number(r.boxStyle.zIndex)||0,a=e.mapProNodes[r.id].indexInPage,s=0;t.slice(0,i).forEach((function(t){var n=e.mapProNodes[t.id].indexInPage;n>s&&(s=n)})),a>=s&&(o=n,r.boxStyle.zIndex!==String(n)&&e.updateNodeBoxStyle({node:r,options:{zIndex:n?String(n):void 0}})),o>n&&o-n>=2&&(o=n+1,e.updateNodeBoxStyle({node:r,options:{zIndex:String(o)}})),0===o&&void 0!==r.boxStyle.zIndex&&e.updateNodeBoxStyle({node:r,options:{zIndex:void 0}}),n=o}})),n>=998&&this.dialogNodes.forEach((function(t){e.updateNodeOptions({node:t,options:{zIndex:n+1}})}))}}},platform:{handler:function(){var e,t=this;return(e=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$nextTick();case 2:t.initCanvasTransform();case 3:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){b(o,r,i,a,s,"next",e)}function s(e){b(o,r,i,a,s,"throw",e)}a(void 0)}))})()},immediate:!0}},beforeCreate:function(){window.PuzzleAdminEmitter=new i.default},created:function(){var e=this;this.setListener(),this.$nextTick((function(){e.updateCanvasContainerEl(e.$refs.canvasContainer)}))},beforeDestroy:function(){this.removeListener()},methods:O(O(O({},(0,r.mapMutations)(["resetCanvasClientData","setCanvasTranslate","updateCanvasContainerEl","updateMouseDownPosition","updatePageModule","updatePageStatus"])),(0,r.mapActions)(["updateScaleNum","resetActiveEditBoxStyle","updateActiveNodeId","updateNodeBoxStyle","updateNodeOptions"])),{},{checkoutPlatType:function(){var e,t=this,n=this.otherType;null!==(e=this.pageConfig[this.otherType])&&void 0!==e&&e.enable?this.$emit("changePlatform",n):this.$confirm("此操作将激活".concat(this.otherType,"端页面，是否继续（可以在【页面设置】->【高级选项】中取消激活）"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$emit("changePlatform",n)})).catch((function(){}))},toggleSpaceKeyDown:function(e){var t=e.target,n=t.tagName;t.isContentEditable||"INPUT"===n&&!["button","checkbox","color","file","image","radio","range","reset","submit"].includes(t.type)||"SELECT"===n||"TEXTAREA"===n||("Space"===e.code&&"keydown"===e.type?(this.spaceKeyDown=!0,e.preventDefault()):this.spaceKeyDown=!1)},scrollHandler:function(){this.resetActiveEditBoxStyle()},initCanvasTransform:function(){this.resetCanvasClientData();var e=this.canvasTransformData.clientHeight-100,t=this.canvasTransformData.clientWidth-180,n=this.viewport.height,r=this.viewport.width,i=1,o=1;n>e&&(i=e/n),r>t&&(o=t/r);var a=Math.min(i,o,1),s=a*r,u=a*n,l=(this.canvasTransformData.clientWidth-s)/2,c=0;n<r?(c=(this.canvasTransformData.clientHeight-u)/2-70,this.isFullScreen&&(l+=10)):c=80,this.setCanvasTranslate({x:l,y:c}),this.updateScaleNum({scale:a,origin:{x:0,y:0}})},setListener:function(){S.addEventListener("keydown",this.toggleSpaceKeyDown),S.addEventListener("keyup",this.toggleSpaceKeyDown),S.addEventListener("mouseup",this.stopDragCanvas),S.addEventListener("mousemove",this.setDragNewPosition),S.addEventListener("mousedown",this.setPrePosition)},removeListener:function(){S.removeEventListener("keydown",this.toggleSpaceKeyDown),S.removeEventListener("keyup",this.toggleSpaceKeyDown),S.removeEventListener("mouseup",this.stopDragCanvas),S.removeEventListener("mousemove",this.setDragNewPosition),S.removeEventListener("mousedown",this.setPrePosition)},mousewheel:function(e){var t=this;if(this.isDragArea(e.target)||!this.stopCanvasMove||e[this.ctrlKey]||"Space"===e.code){if(clearTimeout(this.mouseWheelTimer),this.mouseWheelTimer=setTimeout((function(){t.mouseWheelTimer=null}),300),e[this.ctrlKey]){var n=this.canvasTransformData.scale-e.deltaY/(o.isWindows?700:100);(n>.1||e.deltaY<0)&&this.updateScaleNum({scale:n,publicOrigin:{x:e.pageX,y:e.pageY}})}else this.canvasTransformData.x-=e.deltaX,this.canvasTransformData.y-=e.deltaY;e.preventDefault()}},puzzleClick:function(e){var t=this,n=e.target.getAttribute("nodeid"),r=e.target.getAttribute("noActive");if(n&&!r){var i;if((null===(i=this.activeNode)||void 0===i?void 0:i.id)===n)return;setTimeout((function(){t.updateActiveNodeId(n)}),0)}else setTimeout((function(){t.updateActiveNodeId("")}),0)},isDragArea:function(e){return e===this.$refs.canvasContainer||e.hasAttribute("overflow-area")},setPrePosition:function(e){this.updateMouseDownPosition(e&&{x:e.pageX,y:e.pageY})},startDragCanvas:function(e){var t,n,r=this;(this.isDragArea(e.target)||e.target===(null===(t=this.$refs)||void 0===t||null===(n=t.editMode)||void 0===n?void 0:n.$el))&&setTimeout((function(){r.updateActiveNodeId("")}),0),this.stopCanvasMove&&!this.isDragArea(e.target)||0!==e.button||(this.startDrag=!0)},setDragNewPosition:function(e){var t=this;this.startDrag&&(clearTimeout(this.mouseWheelTimer),this.mouseWheelTimer=setTimeout((function(){t.mouseWheelTimer=null}),300),this.canvasTransformData.x+=e.pageX-this.mouseDownPosition.x,this.canvasTransformData.y+=e.pageY-this.mouseDownPosition.y,e.preventDefault(),this.setPrePosition(e),e.stopPropagation())},stopDragCanvas:function(){this.startDrag=!1}})};t.default=x},function(e,t,n){"use strict";n.r(t);var r=n(495),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,o=(i=n(2158))&&i.__esModule?i:{default:i},a=n(43),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}i.default=e,n&&n.set(e,i);return i}(n(92));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p={components:{},data:function(){return{showCtxMenu:!1,collapsePageThumb:!1,ctxMenuPos:{x:0,y:0}}},computed:d(d(d({activePage:function(){return this.fullpageNodes[this.activePageIdx]}},(0,a.mapState)(["nodes","activePageIdx","platform","activeNodeId"])),(0,a.mapGetters)(["fullpageNodes"])),{},{pages:{get:function(){return this.fullpageNodes},set:function(e){var t=this,n=0,r=this.activePage,i=this.fullpageNodes.map((function(e){return t.nodes.indexOf(e)}));this.nodes.forEach((function(r){"fullpageContainer"===r.nodeCategory&&(t.replaceNode({newNode:e[n],parentList:t.nodes,index:i[n]}),n+=1)}));var o=this.fullpageNodes.indexOf(r);-1!==o&&this.changeActivePageIdx(o)}},ctxMenuStyle:function(){return{left:"".concat(this.ctxMenuPos.x,"px"),top:"".concat(this.ctxMenuPos.y,"px")}}}),watch:{activePage:function(e){!e&&this.fullpageNodes.length&&this.activePageIdx>=this.fullpageNodes.length&&this.changeActivePageIdx(this.fullpageNodes.length-1)},platform:function(){this.changeActivePageIdx(0)}},methods:d(d(d({},(0,a.mapMutations)(["changeActivePageIdx","replaceNode"])),(0,a.mapActions)(["addFullScreenRootNode","updateActiveNodeId"])),{},{togglePageThumbCollapse:function(){this.collapsePageThumb=!this.collapsePageThumb},closeCtxMenu:function(){this.showCtxMenu=!1},handleContextMenu:function(e,t){e.preventDefault(),this.changeActivePageIdx(t),this.ctxMenuPos.x=e.layerX,this.ctxMenuPos.y=e.layerY,this.showCtxMenu=!0},add:function(){var e,t=this;return(e=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.addFullScreenRootNode();case 2:t.changeActivePageIdx(t.fullpageNodes.length-1);case 3:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){l(o,r,i,a,s,"next",e)}function s(e){l(o,r,i,a,s,"throw",e)}a(void 0)}))})()},clickCtxMenu:function(e){var t=(0,o.default)(this.activePage);switch(e){case"duplicate":this.$store.dispatch("addNode",{index:this.nodes.indexOf(this.activePage)+1,config:d(d({},t),{},{alias:"".concat(this.activePage.alias,"副本"),id:s.newId(),children:t.children&&s.traverseNodes(t.children,(function(e){return s.initializeConfig(e)}))})}),this.showCtxMenu=!1;break;case"delete":var n=this.activePage.id;this.changeActivePageIdx(Math.max(0,this.nodes.indexOf(this.activePage)-1)),this.$store.dispatch("removeNode",{id:n}),this.showCtxMenu=!1;break;case"cut":console.log("todo: cut");break;case"copy":console.log("todo: copy");break;case"paste":console.log("todo: paste")}},checkoutPage:function(e){var t=this;setTimeout((function(){t.changeActivePageIdx(e),t.$nextTick((function(){t.activeNodeId||t.updateActiveNodeId(t.activePage.id)}))}),0)}})};t.default=p},function(e,t,n){"use strict";n.r(t);var r=n(497),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(43),i=n(1217),o=l(n(143)),a=l(n(380)),s=l(n(1263)),u=l(n(1266));function l(e){return e&&e.__esModule?e:{default:e}}function c(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m={components:{EditMode:s.default,PreviewIframe:u.default,PuzzleScreen:a.default},provide:function(){return{screenCategory:o.default.screenCategory.MAIN}},props:{activePage:{type:Object,default:function(){}}},computed:p(p(p({},(0,r.mapState)(["modeType","baseInfo","platMsg","nodes"])),(0,r.mapGetters)(["viewport","isFullScreen","isPageCompType"])),{},{containerStyle:function(){var e=this.platMsg.body,t=e.backgroundImage,n=e.backgroundPosition,r=e.backgroundSize,o=e.custombackgroundSizeHeight,a=e.custombackgroundSizeWidth,s=e.backgroundRepeat,u=e.backgroundAttachment,l=e.backgroundClip,d=e.backgroundOrigin,f=e.backgroundListConfig,p=void 0===f?[]:f,v=e.backgroundColor,m={backgroundImage:t,backgroundPosition:n,backgroundSize:r,custombackgroundSizeHeight:o,custombackgroundSizeWidth:a,backgroundRepeat:s,backgroundAttachment:u,backgroundClip:l,backgroundOrigin:d};return null!=m&&m.backgroundAttachment&&"fixed"===u&&(m.backgroundAttachment="scroll"),{background:(0,i.backgroundParse)([m].concat(c(p)),v)}},buttonList:function(){var e=this;return"preview"===this.modeType?[{text:"刷新预览页",handler:function(){e.$refs.previewIframe.refresh()}}]:void 0},editNodes:function(){var e=this;return this.nodes?this.isFullScreen?this.nodes.filter((function(t){return"fullpageContainer"!==t.nodeCategory||"fullpageContainer"===t.nodeCategory&&t===e.activePage})):this.nodes:[]},rootNodeId:function(){var e;return this.isFullScreen?null===(e=this.activePage)||void 0===e?void 0:e.id:""}})};t.default=m},function(e,t,n){"use strict";n.r(t);var r=n(499),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(43);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s={props:{index:{type:[Number,String],default:"auto"},name:{type:[String],default:""},rootNodeId:{type:String,default:""},buttonList:{type:Array,default:function(){return[]}},isMain:{type:Boolean,default:!1},canDestory:{type:Boolean,default:!0},closeId:{type:String,default:void 0}},data:function(){return{id:Symbol("当前屏幕实例的id")}},computed:o(o(o({},(0,r.mapState)(["baseInfo","screenList","duringDrag","platMsg","platform"])),(0,r.mapGetters)(["viewport","pageCompNode"])),{},{normalFontSize:function(){return"".concat(.05*Math.min(this.viewport.width,this.viewport.height),"px")},margin:function(){return.2*Math.min(this.viewport.width,this.viewport.height)},realIndex:function(){var e=this;return this.screenList.findIndex((function(t){return e.id===t.id}))},screenMessage:function(){return this.screenList[this.realIndex]},viewportStyle:function(){var e=this.viewport.width,t=this.viewport.height,n={width:"".concat(e,"px"),height:"".concat(t,"px")};if(!this.platMsg.body.fullScreen&&!this.isMain&&this.platMsg.body.height){var r="h5"===this.platform?e/750*1668:1080,i=Math.max(Math.floor(t/(r+this.margin)),1);return o(o({},n),{},{height:"".concat(r,"px"),left:"".concat(Math.floor((this.realIndex+i-1)/i)*(e+this.margin),"px"),top:"".concat((this.realIndex+i-1)%i*(r+this.margin),"px")})}return o(o({},n),{},e<t?{left:"".concat(this.realIndex%3*(e+this.margin),"px"),top:"".concat(Math.floor(this.realIndex/3)*(t+this.margin),"px")}:{left:"".concat(Math.floor(this.realIndex/3)*(e+this.margin),"px"),top:"".concat(this.realIndex%3*(t+this.margin),"px")})},overflowStyleTop:function(){return{height:"".concat(this.margin/2,"px"),top:"".concat(-this.margin/2,"px"),fontSize:"".concat(this.margin/2,"px")}},overflowStyleBottom:function(){return{height:"".concat(this.margin/2,"px"),bottom:"".concat(-this.margin/2,"px")}},overflowStyleLeft:function(){return{width:"".concat(this.margin/2,"px"),left:"".concat(-this.margin/2,"px")}},overflowStyleRight:function(){return{width:"".concat(this.margin/2,"px"),right:"".concat(-this.margin/2,"px")}},safeArea:function(){var e,t,n=this.platMsg.body.fullScreen,r="1px dashed rgba(255,0,0,0.3)",i={colClip:{borderTop:r,borderBottom:r},rawClip:{borderLeft:r,borderRight:r}};return"colClip"===n?(e=100,t=this.platMsg.body.width/this.platMsg.body.maxRatio/this.platMsg.body.height*100):(t=100,e=this.platMsg.body.height*this.platMsg.body.minRatio/this.platMsg.body.width*100),o({width:"".concat(e,"%"),height:"".concat(t,"%")},i[n])}}),created:function(){this.addScreen({screenData:{id:this.id,rootNodeId:this.rootNodeId},index:"auto"===this.index?void 0:this.index})},beforeDestroy:function(){this.removeScreen(this.id)},methods:o(o(o({},(0,r.mapMutations)(["addScreen","removeScreen"])),(0,r.mapActions)(["updateNodeInNewScreen"])),{},{destroyScreen:function(){this.updateNodeInNewScreen({type:"remove",id:this.closeId||this.rootNodeId})}})};t.default=s},function(e,t,n){"use strict";n.r(t);var r=n(501),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={components:{rndNode:((r=n(466))&&r.__esModule?r:{default:r}).default},props:{nodes:{type:Array,default:function(){return[]}},customEditOptions:{type:Object,default:function(){return{}}},rootNodeId:{type:String,default:""}}};t.default=i},function(e,t,n){"use strict";n.r(t);var r=n(503),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(43),i=n(461),o=n(143);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l={name:"RndNode",components:{},inject:["screenCategory"],props:{config:{type:Object,default:function(){return{}}},customEditOptions:{type:Object,default:function(){return{}}},showInNewScreen:{type:Boolean,default:!1},rootNodeId:{type:String,default:""},parentIsShow:{type:Boolean,default:!0}},data:function(){return{editConfig:{enabled:!0,disabled:!1},isMounted:!1,editItem:null,optionKeyMap:{},attrKeyMap:{},curComp:null,editOptions:{},maxZIndex:0}},computed:s(s(s({},(0,r.mapState)(["baseInfo","platMsg","platform","compList","dragActiveBoxStyle","activeNodeId","activePageIdx","lang","gameBiz","mi18nData"])),(0,r.mapGetters)(["viewport","viewPortRem","mapProNodes","fullpageNodes","activeNodeOtherStateBoxStyle","activeNodeOtherStateOptions","activeNodeOtherStateConfig","fmtMi18nData","mi18nStateKey","maxZIndexNode"])),{},{id:function(){return this.config.id},isActive:function(){var e;return this.activeNodeId===(null===(e=this.config)||void 0===e?void 0:e.id)},checkPageShow:function(){var e=this.otherOptions.showPageList;return!this.platMsg.body.fullScreen||null==e||!e.length||e.includes(this.fullpageNodes[this.activePageIdx].id)},jsonMi18nConfig:function(){var e=this,t={config:{},boxStyle:{},options:{}};return this.mi18nStateKey&&Object.keys(t).forEach((function(n){var r="config"===n?e.config:e.config[n],i="config"===n?e:e.config;Object.keys(r).forEach((function(r){r.startsWith(e.mi18nStateKey)&&(t[n][r.replace(e.mi18nStateKey,"")]=i[n][r])}))})),t},realConfig:function(){var e=s(s({},this.config),this.jsonMi18nConfig.config);return this.isActive?s(s({},e),this.activeNodeOtherStateConfig):e},disabled:function(){var e,t=this.isActive?null===(e=this.activeNodeOtherStateConfig)||void 0===e?void 0:e.disabled:void 0;return null!=t?t:this.realConfig.disabled},isShow:function(){var e,t=this.isActive?null===(e=this.activeNodeOtherStateConfig)||void 0===e?void 0:e.enabled:void 0,n=null!=t?t:this.realConfig.enabled,r=this.checkPageShow&&n&&!this.disabled;return Boolean(this.parentIsShow&&(r||this.attrKeyMap.noDelete))},shouldShowInNewScreen:function(){return this.showInNewScreen||this.config.editOptions.allowNewScreen&&(this.rootNodeId!==this.config.id||this.config.editOptions.allowNewScreen!==this.screenCategory)},curShouldInNewScreen:function(){return this.shouldShowInNewScreen&&!this.config.editOptions.needOldScreen},childrenShowInNewScreen:function(){return this.curShouldInNewScreen||this.shouldShowInNewScreen&&this.config.editOptions.needOldScreen},nodeCategory:function(){return this.config.nodeCategory},comp:function(){var e;return this.compList[null===(e=this.config)||void 0===e?void 0:e.name]},declarations:function(){var e,t;return(null===(e=this.comp)||void 0===e||null===(t=e.main)||void 0===t?void 0:t.declarations)||{}},defaultEditOptions:function(){return this.declarations.defaultEditOptions||{}},canNestable:function(){var e;return null===(e=this.declarations)||void 0===e?void 0:e.nestable},view:function(){var e,t;return null===(e=this.comp)||void 0===e||null===(t=e.main)||void 0===t?void 0:t.view},isRelativeBox:function(){var e;return"relative"===(null===(e=this.boxStyle)||void 0===e?void 0:e.position)},otherStateStyle:function(){return this.isActive?this.activeNodeOtherStateBoxStyle:{}},boxStyle:function(){var e=s(s({},this.config.boxStyle),this.jsonMi18nConfig.boxStyle);return this.isActive?s(s(s({},e),this.otherStateStyle),this.dragActiveBoxStyle):e},mi18n:function(){var e,t=this,n=this.config.id,r=this.otherOptions.mi18nFrom?this.fmtMi18nData[this.otherOptions.mi18nFrom.plat][this.otherOptions.mi18nFrom.id]:this.fmtMi18nData[this.platform][n],i={},o=(null===(e=this.config.otherOptions)||void 0===e?void 0:e.mi18n)||{};return Object.keys(o).forEach((function(e){var n=o[e],r=n.enabled,a=n.customKey;r&&a&&Object.prototype.hasOwnProperty.call(t.mi18nData,a)&&(i[e]=t.mi18nData[a])})),{options:s(s({},(null==r?void 0:r.options)||{}),i)}},curProNodes:function(){return this.mapProNodes[this.config.id]},currentProMessage:function(){return{id:this.id,activeEl:this.isShow?this.editItem:void 0,screenCategory:this.screenCategory}},screenEditOptions:function(){var e;return null===(e=o.SCREEN_EDIT_OPTIONS_MAP[this.screenCategory])||void 0===e?void 0:e[this.nodeCategory]},formatEditDatas:function(){var e=this.screenEditOptions||{},t=s(s({},this.editOptions),e);this.curShouldInNewScreen&&(t=s(s({},t),o.LOCK_DATA_MAP)),t=(0,i.formateEditOptions)(t);var n=Object.keys(t),r={},a={};return n.forEach((function(e){e.startsWith("$")?r[e.slice(1)]=t[e]:t[e]&&(a[e]=t[e])})),{optionKeyMap:r,attrKeyMap:a}},otherOptions:function(){var e={transitionEnter:void 0,transitionLeave:void 0,animation:void 0,transitions:void 0},t={stateList:void 0};return s(s(s({},this.config.otherOptions),e),t)||{}},compOptions:function(){var e=this,t=s(s(s({},this.config.options),this.jsonMi18nConfig.options),this.mi18n.options),n=s({},t);return this.isActive&&(n=s(s({},n),this.activeNodeOtherStateOptions)),n=s(s({},n),this.optionKeyMap),this.attrKeyMap.showEditOptions&&Object.keys(this.defaultEditOptions).forEach((function(t){[void 0,null,"",0].includes(n[t])&&(n[t]=e.defaultEditOptions[t])})),n},noEveryEdit:function(){var e=this.attrKeyMap,t=e.noActive,n=e.noDrag,r=e.noAppend,i=e.noBefore;return t&&n&&r&&i},innerStyle:function(){var e=s({},this.boxStyle);e=this.filterEditStyle(e);var t=this.attrKeyMap,n=t.noActive,r=t.noResize,i=t.noPosition,o=t.locked,a="move";return n?a="default":(r&&i||this.isRelativeBox)&&(a="pointer"),"fixed"!==e.position||this.platMsg.body.fullScreen||(e.zIndex=this.maxZIndex+Number(e.zIndex||0)+1),s(s({},e),{},{cursor:a,filter:o?"opacity(60%)":void 0,pointerEvents:this.noEveryEdit?"none":"auto"})},globalOptions:function(){var e,t,n=this.gameBiz||(null===(e=this.baseInfo.bizList)||void 0===e?void 0:e[0])||this.baseInfo.game_biz,r="cn"===(null===(t=n.split("_"))||void 0===t?void 0:t.pop()),i="h5"===this.platform;return{isMobile:i,gameBiz:n,lang:this.lang||r?"zh-cn":"en-us",isSea:!r,isGame:!1,isBBS:!1,isModule:!1,isEdit:!0,environment:"test",em:i?50:100,accountRole:{onRole:function(){},onLogin:function(){},onBBSInfo:function(){},loginMsg:{isLoign:!1},roleMsg:{},bbsMsg:{},accountRoleUtil:{show:function(){}}}}},globalMethods:function(){return{getMi18nOptionKey:function(){},syncState:function(){}}},innerConfig:function(){return s(s({},this.config),{},{appendEl:void 0,globalOptions:this.globalOptions,globalMethods:this.globalMethods,globalState:{compState:{},store:{},group:{}}})}}),watch:{maxZIndexNode:{handler:function(e){this.maxZIndex=e.zIndex||0},immediate:!0},"curProNodes.baseEditOptions":{handler:function(e,t){JSON.stringify(t)!==JSON.stringify(e)&&(this.editOptions=e)},immediate:!0},formatEditDatas:{handler:function(e){var t=this;["optionKeyMap","attrKeyMap"].forEach((function(n){JSON.stringify(e[n])!==JSON.stringify(t[n])&&(t[n]=e[n])}))},immediate:!0},comp:{handler:function(e){this.curComp||(this.curComp=e)},immediate:!0},currentProMessage:{handler:function(e){this.curShouldInNewScreen||this.updateNodesProInPage({id:this.config.id,message:e})},immediate:!0},innerConfig:{handler:function(e){var t=this;Object.keys(e).forEach((function(n){["boxStyle","options","id","otherOptions","events","enabled","disabled"].includes(n)||t.$set(t.editConfig,n,e[n])}))},immediate:!0},otherOptions:{handler:function(e){this.$set(this.editConfig,"otherOptions",e)},immediate:!0},compOptions:{handler:function(e,t){JSON.stringify(e)!==JSON.stringify(t)&&this.$set(this.editConfig,"options",e)},immediate:!0},innerStyle:{handler:function(e,t){JSON.stringify(e)!==JSON.stringify(t)&&this.$set(this.editConfig,"boxStyle",e)},immediate:!0}},mounted:function(){this.editItem=this.$refs.editItem.$el},beforeDestroy:function(){this.curShouldInNewScreen||(this.isActive&&this.updateActiveNodeId(""),this.updateNodesProInPage({id:this.config.id,message:{}}))},methods:s(s(s({},(0,r.mapMutations)(["updateNodesProInPage"])),(0,r.mapActions)(["updateActiveNodeId"])),{},{filterEditStyle:function(e){var t=this,n=s({},e);return Object.keys(n).forEach((function(e){if(n[e]){n[e]=String(n[e]).replace(/(\d+\.?\d*)(vw|vh)/,(function(e,n,r){return"vw"===r?"".concat(t.viewPortRem.width*n/100,"rem"):"vh"===r?"".concat(t.viewPortRem.height*n/100,"rem"):void 0}))}})),n}})};t.default=l},function(e,t,n){"use strict";n.r(t);var r=n(505),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(43),i=n(173),o=n(92),a=["keyType"];function s(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function u(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){u(o,r,i,a,s,"next",e)}function s(e){u(o,r,i,a,s,"throw",e)}a(void 0)}))}}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p={props:{bridgeName:{type:String,default:"preview"},fullscreen:{type:Boolean,default:!1}},data:function(){return{changeTimer:null,firstToPreview:!1,key:0,preId:void 0,iframeChange:!1}},computed:d(d(d(d({},(0,r.mapState)(["platform","baseInfo","modeType","mi18nData","gameBiz","lang","previewExtraParams","pageModule","pageStatus","previewZone","previewTime"])),(0,r.mapState)("dev",["lastModified"])),(0,r.mapGetters)(["pageConfig","isPageCompType","curBiz"])),{},{previewVersion:function(){return(0,o.maxVersion)("2.1.2",this.baseInfo.buildVer)},moduleMsg:function(){return{module:this.pageModule,status:this.pageStatus}},src:function(){var e,t,n,r=this.gameBiz||(null===(e=this.baseInfo.bizList)||void 0===e||null===(t=e.find)||void 0===t?void 0:t.call(e,(function(e){return e.endsWith("_cn")})))||(null===(n=this.baseInfo.bizList)||void 0===n?void 0:n[0])||this.baseInfo.game_biz,o=!r.endsWith("_cn"),a="https://webstatic-test.mihoyo.com/puzzle/event/preview_template".concat(this.previewVersion,"/index.html?"),s={bridge_name:this.bridgeName,plat:this.platform,game_biz:r,lang:this.lang||this.baseInfo.lang||(o?"en-us":"zh-cn"),is_mobile:"h5"===this.platform||"",pz_is_sea:o||"",pz_is_test:["test","development"].includes(i.environment)||"",pz_time_zone:this.previewZone,pz_time:this.getRealPreviewTime(),has_mi18n:this.lang?"true":"",pz_mi18n_key:this.lang?this.baseInfo.mi18n.key:"",authkey_ver:"1",sign_type:"2",auth_appid:this.baseInfo.eventKey,pz_fullscreen:this.fullscreen||"",key:this.key,pz_publish_key:this.baseInfo.publish_key,pz_game_biz_dir:this.curBiz};return this.previewExtraParams.forEach((function(e){s[e.key]=e.val})),Object.keys(s).forEach((function(e){s[e]&&(a+="".concat(e,"=").concat(s[e],"&"))})),a=a.slice(0,-1)}}),watch:{lastModified:function(){this.refresh()}},beforeDestroy:function(){(0,o.deleteBridge)(this.bridgeName)},created:function(){var e,t,n,r=this;(0,o.setBridge)(this.bridgeName,{getPreviewData:(n=l(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.$nextTick();case 2:return e.abrupt("return",{data:r.pageConfig,iframe:r.$refs.preview});case 3:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)}),getPageModule:(t=l(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.$nextTick();case 2:return e.abrupt("return",{data:r.moduleMsg,iframe:r.$refs.preview});case 3:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)}),statusChange:function(e){void 0!==e.module&&e.module!==r.module&&void 0===e.status&&(e.status=""),void 0!==e.module&&e.module!==r.module&&(r.iframeChange=!0,r.updatePageModule(e.module)),void 0!==e.status&&e.status!==r.status&&(r.iframeChange=!0,r.updatePageStatus(e.status))},getMetaOrCtrlKeyEvent:function(e){var t=e.keyType,n=s(e,a),r=new Event(t);Object.keys(n).forEach((function(e){r[e]=n[e]})),document.body.dispatchEvent(r)},onLoad:function(){r.$emit("onLoad")},getMi18n:(e=l(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.$nextTick();case 2:return e.abrupt("return",{data:r.mi18nData,iframe:r.$refs.preview});case 3:case"end":return e.stop()}}),e)}))),function(){return e.apply(this,arguments)})}),this.isPageCompType&&(this.$watch("pageConfig",function(){var e=l(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.sendDataToIframe("dataChange",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{deep:!0}),this.$watch("moduleMsg",function(){var e=l(regeneratorRuntime.mark((function e(t,n){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.iframeChange){e.next=3;break}return r.iframeChange=!1,e.abrupt("return");case 3:i=r.getModuleMsgCurChange(t,n),r.sendDataToIframe("statusChange",d(d({},t),{},{curChange:i}));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()))},methods:{getModuleMsgCurChange:function(e,t){return e.module!==t.module&&e.status!==t.status?"all":e.module!==t.module?"module":"status"},refresh:function(){this.key+=1},getRealPreviewTime:function(){if(this.previewTime)return this.previewTime-60*this.previewZone*60*1e3;var e=-(new Date).getTimezoneOffset()/60;return Date.now()-60*(this.previewZone-e)*60*1e3},sendDataToIframe:function(e,t){var n=this;return l(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,n.$nextTick();case 2:(0,o.sendDataToIframe)({bridgeName:n.bridgeName,iframe:n.$refs.preview,data:t,actionName:e});case 3:case"end":return r.stop()}}),r)})))()}}};t.default=p},function(e,t,n){"use strict";n.r(t);var r=n(507),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(43),i=a(n(143)),o=a(n(1263));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c={components:{PuzzleScreen:a(n(380)).default,EditMode:o.default},provide:function(){return{screenCategory:i.default.screenCategory.DIALOG}},props:{node:{type:Object,default:function(){return{}}}},data:function(){return{category:"dialog",id:this.node.id,lockedNum:0}},computed:u(u({},(0,r.mapState)(["baseInfo","nodesEditOptions","screenList"])),{},{preLockNum:function(){var e;return(null===(e=this.screenList[0])||void 0===e?void 0:e.locked)||0},buttonList:function(){var e,t=this;return[{text:null!==(e=this.nodesEditOptions[this.id])&&void 0!==e&&e.$initVisible?"关闭预览":"在主界面预览",handler:function(){var e,n=!(null!==(e=t.nodesEditOptions[t.id])&&void 0!==e&&e.$initVisible);t.updateNodesEditOptionsTemporary({id:t.id,options:{$initVisible:n}}),n?(t.lockedNum+=1,t.updateScreen({index:0,options:{locked:t.preLockNum+1}})):(t.lockedNum-=1,t.updateScreen({index:0,options:{locked:t.preLockNum-1}}))}}]}}),beforeDestroy:function(){this.updateNodeInNewScreen({type:"remove",id:this.id}),this.updateNodesEditOptionsTemporary({id:this.id,options:{$initVisible:!1}}),this.updateScreen({index:0,options:{locked:this.preLockNum-this.lockedNum}})},methods:u(u({},(0,r.mapMutations)(["updateNodesEditOptionsTemporary","updateScreen"])),(0,r.mapActions)(["updateNodeInNewScreen"]))};t.default=c},function(e,t,n){"use strict";n.r(t);var r=n(509),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(43),o=c(n(143)),a=n(127),s=c(n(466)),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}i.default=e,n&&n.set(e,i);return i}(n(92));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){d(o,r,i,a,s,"next",e)}function s(e){d(o,r,i,a,s,"throw",e)}a(void 0)}))}}function p(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g={components:{PuzzleScreen:c(n(380)).default,RndNode:s.default},provide:function(){return{screenCategory:o.default.screenCategory.SWIPER}},props:{node:{type:Object,default:function(){return{}}}},data:function(){var e={};return Object.keys(a.positionStyle).forEach((function(t){e[t]=void 0})),{category:"swiper",resetPositionStyle:e,swiperIndex:0,outerStyle:{width:0,height:0}}},computed:h(h(h({},(0,i.mapState)(["baseInfo","nodesEditOptions","screenList","canvasTransformData"])),(0,i.mapGetters)(["mapProNodes","activeNodeProInPage"])),{},{swiperNode:function(){return h(h({},this.node),{},{boxStyle:h(h({},this.node.boxStyle),{},{position:"relative"},this.resetPositionStyle)})},customStyle:function(){var e=this,t={};return["height","width"].forEach((function(n){var r=e.node.options[n];r&&(t[n]="".concat(r/100,"rem"))})),t},brother:{get:function(){return this.swiperNode.children},set:function(e){var t,n=this.curNode.id;this.updateNodeConfig({node:this.node,options:{children:p(e)}});var r=null===(t=this.mapProNodes[n])||void 0===t?void 0:t.index;-1!==r&&this.checkoutSwiper(r)}},validChildren:function(){var e=this;return this.brother.filter((function(t){return!e.checkDisabled(t)}))},curNode:function(){return this.brother[this.swiperIndex]||{}},disabled:function(){return this.checkDisabled(this.curNode)},buttonList:function(){var e,t,n,r=this;return[{text:"删除该页",handler:(n=f(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1!==r.brother.length){e.next=2;break}return e.abrupt("return");case 2:t=r.swiperIndex===r.brother.length-1?r.swiperIndex-1:r.swiperIndex,r.removeNode({id:r.curNode.id}),r.checkoutSwiper(t);case 5:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)})},{text:"复制该页",handler:(t=f(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.copyNode({node:r.curNode}),r.checkoutSwiper(r.swiperIndex+1);case 2:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})},{text:"添加页",handler:(e=f(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.addSwiperRootNode(r.swiperNode.id);case 2:r.checkoutSwiper(r.swiperNode.children.length-1);case 3:case"end":return e.stop()}}),e)}))),function(){return e.apply(this,arguments)})}]}}),watch:{"swiperNode.boxStyle":{handler:function(e,t){t&&e.width===t.width&&e.height===t.height||this.resetOuterStyle(e)},immediate:!0},"swiperNode.options.slidesToShow":function(){this.resetOuterStyle(this.swiperNode.boxStyle)}},beforeDestroy:function(){this.removeScreen()},methods:h(h(h({},(0,i.mapActions)(["removeNode","updateActiveNodeId","addSwiperRootNode","updateNodeConfig","updateNodeInNewScreen","copyNode"])),(0,i.mapMutations)(["updateNodesEditOptionsTemporary"])),{},{removeScreen:function(){this.updateNodeInNewScreen({type:"remove",id:this.node.id})},resetOuterStyle:function(e){var t=this;["width","height"].forEach((function(n){t.outerStyle[n]=e[n],requestAnimationFrame((function(){if(t.activeNodeProInPage.id===t.swiperNode.id){var e,r=null===(e=t.activeNodeProInPage)||void 0===e?void 0:e.activeEl;if(!r)return;var i=r.getBoundingClientRect(),o="height"===n?1:t.swiperNode.options.slidesToShow||1;t.outerStyle[n]=u.px2rem(i[n]/t.canvasTransformData.scale/o)}}))}))},checkDisabled:function(e){return e.disabled||!e.enabled},findValidIndex:function(e){for(var t=e,n=0;n<this.brother.length;n++){var r=this.brother[t];if(!this.checkDisabled(r))break;(t=e+1)>=this.brother.length&&(t=0)}var i=this.validChildren.indexOf(this.brother[t]);return-1===i?0:i},selectSwiper:function(e){var t=this;setTimeout((function(){t.checkoutSwiper(e),t.$nextTick((function(){t.updateActiveNodeId(t.curNode.id)}))}),0)},checkoutSwiper:function(e){e!==this.swiperIndex&&(this.swiperIndex=e,this.updateNodesEditOptionsTemporary({id:this.swiperNode.id,options:{$initialSlide:this.findValidIndex(e)+1}}))}})};t.default=g},function(e,t,n){"use strict";n.r(t);var r=n(511),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(43),o=c(n(143)),a=n(127),s=c(n(466)),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}i.default=e,n&&n.set(e,i);return i}(n(92));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){d(o,r,i,a,s,"next",e)}function s(e){d(o,r,i,a,s,"throw",e)}a(void 0)}))}}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h={components:{PuzzleScreen:c(n(380)).default,RndNode:s.default},provide:function(){return{screenCategory:o.default.screenCategory.COLLAPSE}},props:{node:{type:Object,default:function(){return{}}}},data:function(){var e={};return Object.keys(a.positionStyle).forEach((function(t){e[t]=void 0})),{resetPositionStyle:e,swiperIndex:0,outerStyle:{width:0}}},computed:v(v(v({},(0,i.mapState)(["baseInfo","nodesEditOptions","screenList","canvasTransformData"])),(0,i.mapGetters)(["mapProNodes","activeNodeProInPage"])),{},{collapseNode:function(){return v(v({},this.node),{},{boxStyle:v(v({},this.node.boxStyle),{},{position:"relative"},this.resetPositionStyle)})},brother:{get:function(){for(var e=[],t=0;t<this.collapseNode.children.length;t+=2){var n=this.collapseNode.children[t],r=this.collapseNode.children[t+1];e.push({title:n,content:r})}return e},set:function(e){var t,n=this.curTitleNode.id;this.updateNodeConfig({node:this.node,options:{children:e.map((function(e){return[e.title,e.content]})).flat()}});var r=null===(t=this.mapProNodes[n])||void 0===t?void 0:t.index;-1!==r&&this.checkoutSwiper(r/2)}},validChildren:function(){var e=this;return this.brother.filter((function(t){return!e.checkItemDisabled(t)}))},curTitleNode:function(){return this.brother[this.swiperIndex].title||{}},curContentNode:function(){return this.brother[this.swiperIndex].content||{}},titleStyle:function(){var e,t={height:"".concat(this.node.options.titleHeight/100,"rem"),marginBottom:"".concat(this.node.options.titleMargin/100,"rem")},n=this.mapProNodes[this.node.id];n.editOptions.showEditOptions&&(t.backgroundColor=null===(e=n.declarations.defaultEditOptions)||void 0===e?void 0:e.editTitleColor);return t},contentStyle:function(){var e,t={},n=this.mapProNodes[this.node.id];n.editOptions.showEditOptions&&(t.backgroundColor=null===(e=n.declarations.defaultEditOptions)||void 0===e?void 0:e.editContentColor);return t},disabled:function(){return this.checkItemDisabled({title:this.curTitleNode,content:this.curContentNode})},buttonList:function(){var e,t,n,r=this;return[{text:"删除该页",handler:(n=f(regeneratorRuntime.mark((function e(){var t,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.brother.length<=1)){e.next=2;break}return e.abrupt("return");case 2:t=r.swiperIndex===r.brother.length-1?r.swiperIndex-1:r.swiperIndex,n=r.curTitleNode,i=r.curContentNode,r.removeNode({id:n.id}),r.removeNode({id:i.id}),r.checkoutSwiper(t);case 7:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)})},{text:"复制该页",handler:(t=f(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=r.curTitleNode,n=r.curContentNode,r.copyNode({node:t,indexOffset:1}),r.copyNode({node:n,indexOffset:2}),r.checkoutSwiper(r.swiperIndex+1);case 4:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})},{text:"添加页",handler:(e=f(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.addCollapseRootNode(r.collapseNode.id);case 2:r.checkoutSwiper(r.brother.length-1);case 3:case"end":return e.stop()}}),e)}))),function(){return e.apply(this,arguments)})}]}}),watch:{"collapseNode.boxStyle":{handler:function(e,t){t&&e.width===t.width&&e.height===t.height||this.resetOuterStyle(e)},immediate:!0}},beforeDestroy:function(){this.removeScreen()},methods:v(v(v({},(0,i.mapActions)(["removeNode","addCollapseRootNode","updateNodeConfig","updateNodeInNewScreen","copyNode"])),(0,i.mapMutations)(["updateNodesEditOptionsTemporary"])),{},{removeScreen:function(){this.updateNodeInNewScreen({type:"remove",id:this.node.id})},resetOuterStyle:function(e){var t=this;this.outerStyle.width=e.width,requestAnimationFrame((function(){if(t.activeNodeProInPage.id===t.collapseNode.id){var e,n=null===(e=t.activeNodeProInPage)||void 0===e?void 0:e.activeEl;if(!n)return;var r=n.getBoundingClientRect();t.outerStyle.width=u.px2rem(r.width/t.canvasTransformData.scale)}}))},checkItemDisabled:function(e){return this.checkNodeDisabled(e.title)||this.checkNodeDisabled(e.content)},checkNodeDisabled:function(e){return e.disabled||!e.enabled},findValidIndex:function(e){for(var t=e,n=0;n<this.brother.length;n++){var r=this.brother[t];if(!this.checkItemDisabled(r))break;(t=e+1)>=this.brother.length&&(t=0)}var i=this.validChildren.indexOf(this.brother[t]);return-1===i?0:i},selectCollapse:function(e){var t=this;setTimeout((function(){t.checkoutSwiper(e)}),0)},checkoutSwiper:function(e){e!==this.swiperIndex&&(this.swiperIndex=e,this.updateNodesEditOptionsTemporary({id:this.collapseNode.id,options:{$initialSlide:this.findValidIndex(e)+1}}))}})};t.default=h},function(e,t,n){"use strict";n.r(t);var r=n(513),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(43),i=a(n(143)),o=a(n(466));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c={components:{PuzzleScreen:a(n(380)).default,RndNode:o.default},provide:function(){return{screenCategory:i.default.screenCategory.CUSTOM_BUTTON}},props:{node:{type:Object,default:function(){return{}}}},computed:{curNode:function(){return this.node.children[0]}},beforeDestroy:function(){this.removeScreen()},methods:u(u({},(0,r.mapActions)(["updateNodeInNewScreen"])),{},{removeScreen:function(){this.updateNodeInNewScreen({type:"remove",id:this.node.id})}})};t.default=c},function(e,t,n){"use strict";n.r(t);var r=n(515),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(43),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}i.default=e,n&&n.set(e,i);return i}(n(92)),a=n(225),s=n(1272);function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f={data:function(){return{startDragResizeType:"",dragedMoveEdit:!1,cancelBoxScrollTimer:null,preActiveBoxState:{width:0,height:0,left:0,top:0,marginLeft:0,marginTop:0},boxIconsMsg:{tm:{exclude:["noResizeHeight"]},ml:{exclude:["noResizeWidth"]},mr:{exclude:["noResizeWidth"]},bm:{exclude:["noResizeHeight"]},tl:{exclude:["noResizeWidth","noResizeHeight"]},tr:{exclude:["noResizeWidth","noResizeHeight"]},bl:{exclude:["noResizeWidth","noResizeHeight"]},br:{exclude:["noResizeWidth","noResizeHeight"]}}}},computed:c(c(c({},(0,i.mapState)(["currentActiveElStyleNum","canvasTransformData","mouseDownPosition","dragActiveBoxStyle","activeNodeStateKey"])),(0,i.mapGetters)(["activeNode","activeNodePro","viewport","activeNodeProInPage"])),{},{editBoxStyle:function(){return c(c({},this.currentActiveElStyle),{},{pointerEvents:this.cancelBoxScrollTimer||this.startDragResizeType||this.noEditStyle?"none":"auto"})},editOptions:function(){var e;return(null===(e=this.activeNodePro)||void 0===e?void 0:e.editOptions)||{}},boxStyle:function(){var e;return(null===(e=this.activeNode)||void 0===e?void 0:e.boxStyle)||{}},noResize:function(){return this.editOptions.noResize},noResizeHeight:function(){return this.editOptions.noResizeHeight},noResizeWidth:function(){return this.editOptions.noResizeWidth},noPosition:function(){return this.editOptions.noPosition},noEditStyle:function(){return this.noResize&&this.noPosition},fixAspectRatio:function(){var e=this.editOptions.fixAspectRatio,t="@puzzle/image"===this.activeNode.name,n=this.activeNode.options.src&&e;return t?n:e},isRelative:function(){return"relative"===this.boxStyle.position},isFixed:function(){return"fixed"===this.boxStyle.position},isAbsolute:function(){return"absolute"===this.boxStyle.position},activeRealBoxStyle:function(){return c(c({},this.boxStyle),this.dragActiveBoxStyle)},lineColor:function(){return this.isRelative?"#f84563":"#458df8"},compConfig:function(){var e=this.activeNode||{};return c(c({},e),{},{activeEl:this.activeEl,boxStyle:this.activeRealBoxStyle,options:c({},e.options),activeNodeStateKey:this.activeNodeStateKey})},currentActiveElStyle:function(){var e=this.currentActiveElStyleNum,t=e.x,n=e.y,r=e.width,i=e.height;return{left:"".concat(t,"px"),top:"".concat(n,"px"),width:"".concat(r,"px"),height:"".concat(i,"px")}},activeEl:function(){var e;return null===(e=this.activeNodeProInPage)||void 0===e?void 0:e.activeEl}}),watch:{compConfig:{handler:function(e){var t=this;e.activeEl&&this.$nextTick((function(){t.resetActiveEditBoxStyle()}))}}},created:function(){this.setListener()},destroyed:function(){this.removeListener()},methods:c(c(c({},(0,i.mapActions)(["resetActiveEditBoxStyle","updateNodeBoxStyle"])),(0,i.mapMutations)(["updateDragActiveBoxStyle"])),{},{checkoutPointerShow:function(e){var t={noResizeHeight:this.noResizeHeight,noResizeWidth:this.noResizeWidth};return!e.exclude.some((function(e){return t[e]}))},setListener:function(){document.addEventListener("mouseup",this.mouseUp),document.addEventListener("mousemove",this.mouseMove)},removeListener:function(){document.removeEventListener("mouseup",this.mouseUp),document.removeEventListener("mousemove",this.mouseMove)},cancelBoxScroll:function(){var e=this;clearTimeout(this.cancelBoxScrollTimer),this.cancelBoxScrollTimer=setTimeout((function(){e.cancelBoxScrollTimer=null}),100)},mouseDown:function(e,t){this.startDragResizeType=t,this.preActiveBoxState=c({},this.currentActiveElStyleNum)},dragHandler:function(e){var t=this,n=e.height,r=e.width,i=e.left,o=e.top,a=e.moveY,s=e.moveX,u={};return{tm:function(){u.top=o+a,u.height=n-a},ml:function(){u.left=i+s,u.width=r-s},mr:function(){u.width=r+s,t.activeNode.boxStyle.right&&(u.left=i)},bm:function(){u.height=n+a,t.activeNode.boxStyle.bottom&&(u.top=o)},br:function(){u.width=r+s,u.height=n+a,t.activeNode.boxStyle.right&&(u.left=i),t.activeNode.boxStyle.bottom&&(u.top=o)},bl:function(){u.left=i+s,u.width=r-s,u.height=n+a,t.activeNode.boxStyle.bottom&&(u.top=o)},tr:function(){u.top=o+a,u.width=r+s,u.height=n-a,t.activeNode.boxStyle.right&&(u.left=i)},tl:function(){u.top=o+a,u.left=i+s,u.width=r-s,u.height=n-a},move:function(){u.top=o+a,u.left=i+s}}[this.startDragResizeType](),u},relativeBoxFilter:function(e){var t={};return this.isRelative?(["width","height"].forEach((function(n){void 0!==e[n]&&(t[n]=e[n])})),t):e},minLengthFilter:function(e){var t=this;e=c({},e);return["width","height"].forEach((function(n){var r=e[n]<t.preActiveBoxState[n];void 0!==e[n]&&r&&e[n]<20&&(t.preActiveBoxState[n]>=20?(e[n]=20,"width"===n&&void 0!==e.left&&e.left!==t.preActiveBoxState.left&&(e.left=t.preActiveBoxState.left+t.preActiveBoxState[n]-20),"height"===n&&void 0!==e.top&&e.top!==t.preActiveBoxState.top&&(e.top=t.preActiveBoxState.top+t.preActiveBoxState[n]-20)):(e[n]=t.preActiveBoxState[n],void 0!==e.left&&e.left!==t.preActiveBoxState.left&&"width"===n&&delete e.left,void 0!==e.top&&e.top!==t.preActiveBoxState.left&&"height"===n&&delete e.top))})),e},attachFilter:function(e){var t=this,n=e.boxStyle,r=e.width,i=e.height;n=c({},n);var o={left:4,top:4},a=Object.keys(n);if(a.length)return a.forEach((function(e){o[e]&&Math.abs(n[e])<o[e]&&(n[e]=0,"width"in n&&"left"===e&&(n.width=r+t.preActiveBoxState[e]),"height"in n&&"top"===e&&(n.height=i+t.preActiveBoxState[e]))})),n},unitFilter:function(e){var t,n,r=this,i=e.boxStyle,u=e.width,l=e.height,c=this.canvasTransformData.scale,d={leftOppoKey:"right",leftOppoVal:this.activeNode.boxStyle.right,topOppoKey:"bottom",topOppoVal:this.activeNode.boxStyle.bottom},f={},p=this.activeEl.parentElement.clientWidth,v=this.activeEl.parentElement.clientHeight,m=null!==(t=i.height)&&void 0!==t?t:l,h=null!==(n=i.width)&&void 0!==n?n:u,b=m/c,g=h/c;return Object.keys(i).forEach((function(e){var t=d["".concat(e,"OppoKey")],n=r.activeNode.boxStyle[t];n&&(i[t]=i[e],delete i[e],e=t);var u=(0,a.getCssValAndUnit)(String(r.activeNode.boxStyle[e]))||{},l=u.unit,y=u.val,_=u.calcUnit,O=!1;if("calc"===l){var w=(0,a.getCssValAndUnit)(y+_);l=w.unit,y=w.val,O=!0}var S=i[e]/c;if(r.isAbsolute){var x=(0,s.getParentList)(r.activeEl).find((function(e){return"static"!==window.getComputedStyle(e).position}));p=x.clientWidth,v=x.clientHeight}r.isFixed&&(p=r.viewport.width,v=r.viewport.height);var P,j,k=p*c,C=v*c,M={"%":function(){var t,r;["height","top","bottom"].includes(e)?(t=S/v*100,r=m/C*100):(t=S/p*100,r=h/k*100),n&&(t=100-t-r),f[e]=O?"calc(50% - ".concat((50-t).toFixed(3),"%)"):"".concat(t.toFixed(3),"%")},px:function(){var t;O?(t=["height","top","bottom"].includes(e)?v/2:p/2,f[e]="calc(50% - ".concat((t-S).toFixed(3),"px)")):(f[e]="".concat(S.toFixed(3),"px"),n&&(["height","top","bottom"].includes(e)?f[e]="".concat((v-S-b).toFixed(3),"px"):f[e]="".concat((p-S-g).toFixed(3),"px")))},vw:function(){var t,i;["height","top","bottom"].includes(e)?(t=v/2/r.viewport.width*100,i=b/r.viewport.width*100):(t=p/2/r.viewport.width*100,i=g/r.viewport.width*100);var o=S/r.viewport.width*100;O?f[e]="calc(50% - ".concat((t-o).toFixed(3),"vw)"):(f[e]="".concat(o.toFixed(3),"vw"),n&&(f[e]="".concat((2*t-o-i).toFixed(3),"vw")))},vh:function(){var t,i;["height","top","bottom"].includes(e)?(t=v/2/r.viewport.height*100,i=b/r.viewport.height*100):(t=p/2/r.viewport.height*100,i=g/r.viewport.height*100);var o=S/r.viewport.height*100;O?f[e]="calc(50% - ".concat((t-o).toFixed(3),"vh)"):(f[e]="".concat(o.toFixed(3),"vh"),n&&(f[e]="".concat((2*t-o-i).toFixed(3),"vh")))}};if(M[l])M[l]();else if(["height","top","bottom"].includes(e)?(P=o.px2rem(v/2,!0),j=o.px2rem(b,!0)):(P=o.px2rem(p/2,!0),j=o.px2rem(g,!0)),O)f[e]="calc(50% - ".concat((P-o.px2rem(S,!0)).toFixed(3),"rem)");else{var N=o.px2rem(S,!0);f[e]="".concat(N.toFixed(3),"rem"),n&&(f[e]="".concat((2*P-N-j).toFixed(3),"rem"))}})),f},editOptionsFilter:function(e){e=c({},e);var t={width:this.noResizeWidth,height:this.noResizeHeight};Object.keys(t).forEach((function(n){t[n]&&delete e[n]}));return this.noPosition&&["top","right","left","bottom"].forEach((function(t){delete e[t]})),e},fixAspectRatioFilter:function(e){var t,n=e.boxStyle,r=e.width,i=e.height,o=e.top,a=e.left,s=e.moveX,u=e.moveY,l=this.startDragResizeType;if(n=c({},n),!this.fixAspectRatio||"move"===l||0===r||0===i)return n;if(this.noResizeHeight||this.noResizeWidth)return delete n.width,delete n.height,n;var d=Object.keys(n);if(!d.includes("width")&&!d.includes("height"))return n;var f=i/r,p=n[t=d.includes("width")&&d.includes("height")?"move":d.includes("width")?"width":"height"];if("height"===t){n.width=p/f}else if("width"===t){n.height=p*f}else{var v=u,m=s,h=f;["bl","tr"].includes(l)&&(v=-v);var b=-(m/h+v)/(h+1/h);if(["br","tr"].includes(l)&&(b=-b),b<=0&&(i<=20||r<=20))return{};n.width=b+r,n.height=n.width*f,b<0&&(Math.abs(n.width)>Math.abs(n.height)?(n.height=Math.max(n.height,20),n.width=n.height/f):(n.width=Math.max(n.width,20),n.height=n.width*f)),this.isRelative||(["tr","tl"].includes(l)&&(n.top=o+i-n.height),["bl","tl"].includes(l)&&(n.left=a+r-n.width))}return n},mouseMove:function(e){if(this.startDragResizeType&&!this.noEditStyle){var t=e.pageX-this.mouseDownPosition.x,n=e.pageY-this.mouseDownPosition.y;if(!(Math.abs(n)<2&&Math.abs(t)<2)||this.dragedMoveEdit){this.dragedMoveEdit=!0;var r=this.preActiveBoxState,i=r.height,o=r.width,a=r.left,s=r.top,u=this.dragHandler({height:i,width:o,left:a,top:s,moveX:t,moveY:n});if(u=this.relativeBoxFilter(u),u=this.minLengthFilter(u),u=this.attachFilter({boxStyle:u,width:o,height:i}),u=this.fixAspectRatioFilter({boxStyle:u,width:o,height:i,moveX:t,moveY:n,top:s,left:a}),Object.keys(u).length){var l=this.unitFilter({boxStyle:u,width:o,height:i,top:s,left:a});l=this.editOptionsFilter(l),this.updateDragActiveBoxStyle(l)}}}},mouseUp:function(e){this.startDragResizeType&&(this.dragedMoveEdit?(this.updateNodeBoxStyle({options:this.dragActiveBoxStyle}),this.updateDragActiveBoxStyle({})):e.target.dispatchEvent(new Event("click",{bubbles:!0}))),this.dragedMoveEdit=!1,this.startDragResizeType=""}})};t.default=f},function(e,t,n){"use strict";n.r(t);var r=n(517),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(43),o=n(1272),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var u=o?Object.getOwnPropertyDescriptor(e,a):null;u&&(u.get||u.set)?Object.defineProperty(i,a,u):i[a]=e[a]}i.default=e,n&&n.set(e,i);return i}(n(92));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function u(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){c(o,r,i,a,s,"next",e)}function s(e){c(o,r,i,a,s,"throw",e)}a(void 0)}))}}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m={data:function(){return{curDragMessage:{},preOpacity:void 0,prePointerEvents:void 0,curDragElClientRect:{},dragElMsg:null}},computed:p(p(p({},(0,i.mapState)(["canvasTransformData","platMsg","nodesProInPage","nodes","mouseDownPosition","activeNodeId"])),(0,i.mapGetters)(["viewport","mapProNodes","viewPortRem"])),{},{dragBoxStyle:function(){var e=this.curDragElClientRect,t=e.x,n=e.y,r=e.width,i=e.height,o=this.canvasTransformData,a=o.offsetLeft,s=o.offsetTop;return{width:"".concat(r,"px"),height:"".concat(i,"px"),left:"".concat(t-a,"px"),top:"".concat(n-s,"px")}},isNormalPage:function(){return"normal"===this.platMsg.mode},showContainerLine:function(){return"innerTop"===this.curDragElClientRect.areaKey||"innerBottom"===this.curDragElClientRect.areaKey},containerClass:function(){return{"top-inner-line":"innerTop"===this.curDragElClientRect.areaKey,"bottom-inner-line":"innerBottom"===this.curDragElClientRect.areaKey}}}),created:function(){this.setListener()},beforeDestroy:function(){this.removeListener()},methods:p(p(p({},(0,i.mapActions)(["updateActiveNodeId","updateNodeBoxStyle","addNode","removeNode","moveNodeIndex"])),(0,i.mapMutations)(["updateDuringDrag"])),{},{setListener:function(){document.addEventListener("dragstart",this.dragStart),document.addEventListener("dragover",this.dragOver),document.addEventListener("dragend",this.dragEnd)},removeListener:function(){document.removeEventListener("dragstart",this.dragStart),document.removeEventListener("dragover",this.dragOver),document.addEventListener("dragend",this.dragEnd)},isCompNode:function(e){return e.getAttribute("nodeid")},findRootNode:function(e){return this.curDragMessage.rootContainers.find((function(t){return t.contains(e)}))},getNodeActiveEl:function(e){var t;return null===(t=this.nodesProInPage[e])||void 0===t?void 0:t.activeEl},canAppend:function(e,t){var n=this;if(!t)return!1;var r=this.mapProNodes[t],i=!e.hasAttribute("noappend")&&r.canNestable,o=r.declarations.canAppendList;return o&&(i=i&&o.some((function(e){return"string"==typeof e&&n.curDragMessage.compName.endsWith(e)}))),i},childCanAppend:function(e){var t,n,r,i=null===(t=e.currentNode.children)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.id,o=this.mapProNodes[i],a=this.nodesProInPage[i],s=this.nodesProInPage[e.id];return!(!a||null!==(r=s.activeEl)&&void 0!==r&&r.hasAttribute("nochildedit"))&&(this.canAppend(a.activeEl,i)?o:this.childCanAppend(o))},parentCanAppend:function(e,t){var n,r=t.parentNode,i=!this.isCompNode(e.parentElement)&&this.findRootNode(e).hasAttribute("rootnodeid")&&(!r||!(null!==(n=this.nodesProInPage[r.id].activeEl)&&void 0!==n&&n.contains(e))),o=!e.hasAttribute("nobefore"),a="relative"===e.style.position||!e.style.position;return(i||r&&this.canAppend(this.getNodeActiveEl(r.id),r.id))&&o&&a},checkoutBoxAvailable:function(e){if(e&&this.curDragMessage.rootContainers.some((function(t){return t.contains(e)}))){var t;if(this.isCompNode(e)){var n=e.getAttribute("nodeid");t=this.mapProNodes[n]}else{var r=this.findRootNode(e),i=r.getAttribute("rootnodeid");if(!i)return{el:r,type:{canAppend:!0,canbefore:!1}};t=this.mapProNodes[i],e=this.getNodeActiveEl(i)}var o=t.parentProNode,a=null==o?void 0:o.id,s=this.canAppend(e,t.id),u=this.parentCanAppend(e,t);if(s||u)return{el:e,parentProNode:o,nodePro:t,type:{canAppend:s,canbefore:u}};var l=this.childCanAppend(t);if(l){var c=l.id;return{el:this.getNodeActiveEl(c),parentProNode:l.parentProNode,nodePro:l,type:{canAppend:!0,canbefore:!1}}}return this.checkoutBoxAvailable(this.getNodeActiveEl(a)||e.parentElement)}},dragOver:function(e){if(this.curDragMessage.compName){e.preventDefault();var t=this.curDragMessage.dragType;"add"===t?e.dataTransfer.dropEffect="none":(e.dataTransfer.dropEffect="move",this.setDragElPosition(e));var n=e.pageX-this.mouseDownPosition.x,r=e.pageY-this.mouseDownPosition.y;if(Math.abs(r)<40&&Math.abs(n)<40)this.curDragElClientRect={};else{var i=this.checkoutBoxAvailable(e.target);if(i){var o;o=this.curDragElClientRect.el&&this.curDragElClientRect.target===i.el?this.curDragElClientRect:i.el.getBoundingClientRect();var a=Math.min(o.height,Math.max(20,o.height-40)),s={width:o.width,height:a},u=(o.height-a)/2;s.x=0,s.y=u;var l={},c=i.type,d=c.canAppend,f=c.canbefore;l=d&&f?{top:[void 0,s.y],innerTop:[s.y,o.height/3],innerBottom:[o.height/3,s.y+s.height],bottom:[s.y+s.height,void 0]}:d?{innerTop:[void 0,o.height/3],innerBottom:[o.height/3,void 0]}:{top:[void 0,o.height/2],bottom:[o.height/2,void 0]};var p,v,m,h,b,g=e.pageY-o.y,y=Object.keys(l).find((function(e){return void 0===l[e][0]?g<l[e][1]:void 0===l[e][1]?l[e][0]<=g:l[e][0]<=g&&g<l[e][1]}));if("innerTop"===y||"innerBottom"===y)p=(m=(b=i.nodePro)?i.nodePro.currentNode.children:this.nodes)?"innerTop"===y?0:m.length:0;else{var _;b=i.nodePro.parentProNode;var O=(m=(null===(_=i.nodePro.parentProNode)||void 0===_?void 0:_.currentNode.children)||this.nodes).findIndex((function(e){return i.nodePro.currentNode===e}));p="top"===y?O:O+1}if("move"===this.curDragMessage.dragType){var w;h=(null===(w=this.curDragMessage.targetProNode.parentProNode)||void 0===w?void 0:w.currentNode.children)||this.nodes;var S=this.curDragMessage.targetProNode.currentNode;v=h.findIndex((function(e){return S===e})),m===h&&v<p&&(p-=1),"relative"!==S.boxStyle.position&&m===h&&(p=v),"relative"!==S.boxStyle.position&&(p=m===h?m.length-1:m.length)}"add"===t&&(e.dataTransfer.dropEffect="move"),this.curDragElClientRect={invalid:!1,width:o.width,height:o.height,x:o.x,y:o.y,curDragMessage:this.curDragMessage,oldIndex:v,newIndex:p,dropList:m,dragParentList:h,dropParentProNode:b,el:i.el,areaKey:y,pageX:e.pageX,pageY:e.pageY}}else this.curDragElClientRect={}}}},dragEnd:function(e){var t=this;return d(regeneratorRuntime.mark((function n(){var r,i,s,l,c,f,p,v,m,h,b;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.curDragMessage.compName){n.next=2;break}return n.abrupt("return");case 2:if(t.updateDuringDrag(!1),i=t.curDragMessage,t.curDragMessage={},e.target.removeAttribute("isdragmove"),s=t.dragElMsg,t.dragElMsg={},l=null==s?void 0:s.el,c=t.curDragElClientRect,f=c.pageX,p=c.pageY,!(v=!t.curDragElClientRect.areaKey||t.curDragElClientRect.invalid)){n.next=15;break}m=null===(h=i.targetProNode)||void 0===h?void 0:h.currentNode,n.next=18;break;case 15:return n.next=17,t.dragAction(i);case 17:m=n.sent;case 18:if(b=null===(r=m)||void 0===r?void 0:r.id,t.curDragElClientRect={},b){n.next=22;break}return n.abrupt("return");case 22:requestAnimationFrame(d(regeneratorRuntime.mark((function e(){var n,r,i,c,d,h,g,y,_,O,w,S,x,P,j,k,C,M,N,E,I,D,T;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.getNodeActiveEl(b),i=(0,o.getParentList)(n).find((function(e){return"static"!==(r=window.getComputedStyle(e)).position})),r.display.includes("flex")&&t.updateNodeBoxStyle({node:m,options:{position:"relative",left:void 0,top:void 0,right:void 0,bottom:void 0}}),c="relative"!==m.boxStyle.position,d="absolute"===m.boxStyle.position,!v&&d&&(h=t.canvasTransformData.scale,g=i.scrollTop,y=i.scrollLeft,_=i.getBoundingClientRect(),O=_.left,w=_.top,S=f-(O-y*h),x=p-(w-g*h),P=n.getBoundingClientRect(),j=P.width,k=P.height,C={left:a.px2rem(Math.max((S-j/2)/h,0)),top:a.px2rem(Math.max((x-k/2)/h,0)),right:void 0,bottom:void 0},m.boxStyle.width==="".concat(t.viewPortRem.width,"rem")&&(C.left="0rem"),t.updateNodeBoxStyle({node:m,options:C})),e.next=8,t.$nextTick();case 8:if(M=u(n.parentElement.children).filter((function(e){return e!==n})),N=[],E=[],I=n.getBoundingClientRect(),l&&(D=n.style.opacity,n.style.opacity=0,l.style.transform="translate(".concat(I.left-s.preLeft,"px,").concat(I.top-s.preTop,"px) scale(").concat(s.scale,")"),l.style.width="".concat(I.width/s.scale,"px"),l.style.height="".concat(I.height/s.scale,"px"),l.style.opacity=D,l.style.transition="all 200ms ease-out",T=function e(){l.removeEventListener("transitionend",e),n.style.opacity=D,l.remove()},l.addEventListener("transitionend",T)),!c){e.next=15;break}return e.abrupt("return");case 15:M.forEach((function(e,t){N[t]=e.getBoundingClientRect()})),n.setAttribute("isdragmove","true"),M.forEach((function(e,t){e!==n&&(E[t]=e.getBoundingClientRect(),e.style.transform="translate(".concat(E[t].left-N[t].left,"px,").concat(E[t].top-N[t].top,"px)"))})),n.removeAttribute("isdragmove"),requestAnimationFrame((function(){N.forEach((function(e,t){var n=M[t];n.style.transition="transform 200ms ease-in-out",n.style.transform="";n.addEventListener("transitionend",(function e(){n.style.transition="",n.removeEventListener("transitionend",e)}))}))}));case 20:case"end":return e.stop()}}),e)}))));case 23:case"end":return n.stop()}}),n)})))()},dragAction:function(e){var t=this;return d(regeneratorRuntime.mark((function n(){var r,i,o,a,s,u,l,c,d,f,p,v,m,h,b,g;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=t.curDragElClientRect,i=r.dropList,o=r.dragParentList,a=r.newIndex,s=r.oldIndex,u=r.dropParentProNode,l=null==u?void 0:u.currentNode.id,c=e.dragType,d=e.compName,f=e.targetProNode,p=e.beData,"move"!==c){n.next=8;break}v=f.currentNode,t.moveHandler({node:v,dragParentList:o,dropList:i,oldIndex:s,newIndex:a,dropParentId:l}),n.next=11;break;case 8:return n.next=10,t.addHandler(d,l,p,a,b);case 10:v=n.sent;case 11:return m=t.mapProNodes[v.id],h=m.editOptions,b=h.noPosition,g=h.noDrag,b||(!t.platMsg.body.fullScreen&&!l&&m.canNestable||"move"===c||"relative"!==v.boxStyle.position||t.updateNodeBoxStyle({node:v,options:{position:"absolute"}}),t.platMsg.body.fullScreen&&u&&"fullpageContainer"!==u.currentNode.nodeCategory&&"fixed"===v.boxStyle.position&&t.updateNodeBoxStyle({node:v,options:{position:"absolute"}})),"relative"!==v.boxStyle.position&&("fixed"===v.boxStyle.position&&b&&g&&!t.platMsg.body.fullScreen&&(t.removeNode({parentList:i,id:v.id}),t.addNode({config:v})),t.moveNodeIndex({type:"last",id:v.id})),n.abrupt("return",v);case 16:case"end":return n.stop()}}),n)})))()},moveHandler:function(e){var t=e.node,n=e.dragParentList,r=e.dropList,i=e.oldIndex,o=e.newIndex,a=e.dropParentId;this.removeNode({parentList:n,index:i}),this.addNode({parentId:a,index:o,config:t}),n===r||"absolute"!==t.boxStyle.position||this.mapProNodes[t.id].editOptions.noPosition||this.updateNodeBoxStyle({node:t,options:{left:"0rem",top:"0rem",right:void 0,bottom:void 0}})},addHandler:function(e,t,n,r){var i=this;return d(regeneratorRuntime.mark((function o(){var a;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,i.addNode({compName:e,index:r,parentId:t,beData:n});case 2:return a=o.sent,requestAnimationFrame((function(){requestAnimationFrame((function(){i.updateActiveNodeId(a.id)}))})),o.abrupt("return",a);case 5:case"end":return o.stop()}}),o)})))()},setDragElPosition:function(e){var t="".concat(e.pageX-this.dragElMsg.preX+this.dragElMsg.scaleTranslateX,"px"),n="".concat(e.pageY-this.dragElMsg.preY+this.dragElMsg.scaleTranslateY,"px");this.dragElMsg.el.style.transform="translate(".concat(t,",").concat(n,") scale(").concat(this.dragElMsg.scale*this.dragElMsg.exScale,")")},startBrothersTransition:function(e){var t=e.brothers,n=e.beforeTransition,r=[];t.forEach((function(e,t){r[t]=e.getBoundingClientRect()})),n(),t.forEach((function(e,t){var n=r[t],i=e.getBoundingClientRect(),o=n.left-i.left,a=n.top-i.top;o===a!==0&&(e.style.transform="translate(".concat(o,"px,").concat(a,"px)"),requestAnimationFrame((function(){requestAnimationFrame((function(){e.style.transition="transform 200ms ease-in-out",e.style.transform="";e.addEventListener("transitionend",(function t(){e.style.transition="",e.removeEventListener("transitionend",t)}))}))})))}))},dragAddStartHandler:function(e){var t=e.name,n=e.target,r=e.rootContainers,i=n.getAttribute("be-data");try{i=JSON.parse(i)}catch(e){i=void 0}this.curDragMessage={compName:t,beData:i,dragType:"add",el:n,rootContainers:r}},getDragCopyDomMsg:function(e){var t=e.target,n=e.pageX,r=e.pageY,i=t.cloneNode(!0),o=this.canvasTransformData.scale,a=t.getBoundingClientRect(),s=a.width,u=a.height,l=a.left,c=a.top,d=s/o,f=u/o,p=this.viewport.width*o,v=this.viewport.width*o,m=1,h=1;u>v&&(m=v/u),s>p&&(h=p/s);var b=Math.min(m,h,1);i.style.opacity=0,i.style.position="fixed",i.style.pointerEvents="none",i.style.transformOrigin="left top",i.style.left="".concat(l,"px"),i.style.top="".concat(c,"px"),i.style.width="".concat(d,"px"),i.style.height="".concat(f,"px"),this.dragElMsg={el:i,scale:o,preLeft:l,preTop:c,preX:n,preY:r,scaleTranslateX:(s-s*b)/2,scaleTranslateY:(u-u*b)/2,exScale:b}},dragMoveStartHandler:function(e){var t=this,n=e.e,r=e.nodeid,i=e.target,o=e.rootContainers;setTimeout((function(){var e=u(n.target.parentElement.children).filter((function(e){return e!==n.target}));t.startBrothersTransition({brothers:e,beforeTransition:function(){n.target.setAttribute("isdragmove","true")}})}),0),this.getDragCopyDomMsg({target:i,pageX:n.pageX,pageY:n.pageY});var a=this.dragElMsg.el;this.setDragElPosition(n),document.body.appendChild(a),n.dataTransfer.setDragImage(a,0,0),requestAnimationFrame((function(){a.style.opacity=.2})),this.curDragMessage={dragType:"move",compName:this.mapProNodes[r].currentNode.name,nodeid:r,targetProNode:this.mapProNodes[r],el:i,rootContainers:o}},dragStart:function(e){var t=e.target,n=t.getAttribute("comp-name"),r=t.getAttribute("nodeid");if(this.curDragMessage={},n||r){this.updateDuringDrag(!0);var i=u(document.querySelectorAll("[rootnodeid]"));this.activeNodeId&&this.updateActiveNodeId(""),n?this.dragAddStartHandler({name:n,target:t,rootContainers:i}):this.dragMoveStartHandler({e:e,nodeid:r,target:t,rootContainers:i})}}})};t.default=m},function(e,t,n){"use strict";n.r(t);var r=n(519),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(43),i=n(143),o=n(92),a=u(n(1276)),s=u(n(1277));function u(e){return e&&e.__esModule?e:{default:e}}function l(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v={components:{ZeroZoneTimeSelector:a.default,ZoneSelector:s.default},data:function(){return{platValueList:[],visible:!1,formType:"",editLabel:"",formData:{label:"",searchs:[{key:"",val:""}]}}},computed:f(f(f({},(0,r.mapState)(["baseInfo","platform","canvasTransformData","previewZone","previewTime"])),(0,r.mapGetters)(["isPageCompType"])),{},{modeType:{get:function(){return this.$store.state.modeType},set:function(e){"preview"===e&&(this.searchDep(),this.searchDepPlat()),this.changeModeType(e)}},platList:function(){var e=[];this.isPageCompType&&(e=e.concat(i.pageCompPreviewPlatList));var t=this.checkIsMobile(this.platValueList);return i.normalPreviewPlatList.forEach((function(n){"h5"===n.plat&&t&&e.push(n),"pc"!==n.plat||t||e.push(n),"all"===n.plat&&e.push(n)})),e.length&&(e=[{label:"渠道",options:e}]),e.push({label:"自定义渠道",options:[].concat(l(this.baseInfo.previewPlatList),[{value:"pzadd"}])}),e},extraParams:function(){var e=this;if(!this.platValueList.length)return[];console.log(this.platValueList,this.platList);var t=[];return this.platValueList.forEach((function(n){var r,i;e.platList.some((function(e){return e.options.some((function(e){var t=e.value;return t||(t=e.label),i=e.urlSearchList,t===n}))})),null!==(r=i)&&void 0!==r&&r.length&&(t=t.concat(i))})),t}}),watch:{extraParams:function(e){this.updatePreviewExtraParams(e)},platform:function(){this.platValueList=[]}},methods:f(f(f({},(0,r.mapMutations)(["setCanvasScale","changeModeType","updatePreviewPlatList","updatePreviewExtraParams","updatePreviewZone","updatePreviewTime"])),(0,r.mapActions)(["searchDepPlat","searchDep"])),{},{addSearch:function(){this.formData.searchs.push({key:"",val:""})},compareVersion:function(e,t){return!!this.baseInfo.buildVer&&(0,o.compareVersion)(this.baseInfo.buildVer,e,t)},checkIsMobile:function(e){var t;return this.isPageCompType?(t=!0,e.includes("isPC")&&(t=!1)):t="h5"===this.platform,t},handlerEdit:function(e){var t=this,n=e.label,r=e.urlSearchList;this.formType="edit",this.editLabel=n,this.visible=!0,this.formData={label:n,searchs:JSON.parse(JSON.stringify(r))},setTimeout((function(){t.$refs.select.blur()}),0)},handlerDelete:function(e){var t=this;this.$confirm("是否删除该渠道","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var n=l(t.baseInfo.previewPlatList);n.some((function(t,r){t.label===e&&n.splice(r,1)})),t.updatePreviewPlatList(n)}))},handlerDeleteItem:function(e){this.formData.searchs.splice(this.formData.searchs.indexOf(e),1)},handleClose:function(){this.visible=!1,this.formData={label:"",searchs:[{key:"",val:""}]}},addPreviewPlatList:function(){var e=this;this.$refs.form.validate((function(t){if(!t)return console.log("error submit!!"),!1;var n=e.formData.label||e.formData.searchs.map((function(e){return"".concat(e.key,"=").concat(e.val)})).join("&"),r={label:n,urlSearchList:e.formData.searchs};if("add"===e.formType)return e.baseInfo.previewPlatList.find((function(e){return e.label===n}))?void e.$message({type:"error",message:"渠道名称【".concat(n,"】已存在，请重新命名")}):(e.updatePreviewPlatList([].concat(l(e.baseInfo.previewPlatList),[r])),void e.handleClose());if(e.baseInfo.previewPlatList.find((function(t){return t.label!==e.editLabel&&t.label===n})))e.$message({type:"error",message:"渠道名称【".concat(n,"】已存在，请重新命名")});else{var i=l(e.baseInfo.previewPlatList);i.some((function(t,n){t.label===e.editLabel&&(i[n]=r)})),e.updatePreviewPlatList(i),e.handleClose()}}))},previewPlatChange:function(e){var t=this,n=this.checkIsMobile(e),r=this.checkIsMobile(this.platValueList);if(this.isPageCompType&&n!==r){var o=this.canvasTransformData.scale;n?o*=2:o/=2,this.setCanvasScale(o)}var a=n?"h5":"pc";this.platValueList=e.filter((function(e){return!i.normalPreviewPlatList.find((function(t){return t.value===e&&a!==t.plat&&"all"!==t.plat}))&&("pzadd"!==e||(t.visible=!0,t.formType="add",setTimeout((function(){t.$refs.select.blur()}),0),!1))}))}})};t.default=v},function(e,t,n){"use strict";n.r(t);var r=n(521),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={inheritAttrs:!1,props:{value:{type:[Number],default:null}},data:function(){return{val:null}},computed:{time:function(){return this.getCurZoneTimeByUTC(this.value)}},watch:{time:{immediate:!0,handler:function(e){this.val=e}}},methods:{getCurZoneTimeByUTC:function(e){return e?new Date(e+60*(new Date).getTimezoneOffset()*1e3):null},getUTCByCurZoneTime:function(e){return e?e.valueOf()-60*e.getTimezoneOffset()*1e3:null},timeChange:function(e){this.$emit("input",this.getUTCByCurZoneTime(e))}}};t.default=r},function(e,t,n){"use strict";n.r(t);var r=n(523),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(2194))&&r.__esModule?r:{default:r};var o={inheritAttrs:!1,props:{value:{require:!0,type:Number}},data:function(){return{timeZoneList:i.default.map((function(e){return{label:"".concat(e.label,"(").concat(e.value,")"),value:e.value}}))}}};t.default=o},function(e,t,n){"use strict";n.r(t);var r=n(525),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(43),i=n(92),o=b(n(854)),a=b(n(2198)),s=b(n(2200)),u=b(n(1321)),l=b(n(2222)),c=b(n(2231)),d=b(n(2234)),f=b(n(2236)),p=b(n(2244)),v=b(n(2248)),m=b(n(861)),h=b(n(2251));function b(e){return e&&e.__esModule?e:{default:e}}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O={components:{pageForm:a.default,compForm:s.default,OtherStateCompForm:c.default,LinkForm:d.default,EnvLinkForm:f.default,EventForm:p.default,Mi18nForm:l.default,TransitionForm:v.default,AnimationForm:h.default,TransitionEnterLeave:m.default,CompOptionsForm:o.default,CompMi18n:u.default},props:{eventName:String,templateName:String},data:function(){return{activeTab:"page",alias:""}},computed:y(y(y({isPageCompInitMi18n:function(){var e,t;return null===(e=this.pageComp)||void 0===e||null===(t=e.main)||void 0===t?void 0:t.initMi18n}},(0,r.mapState)(["compList","activeNodeId","activeNodeStateKey","baseInfo","lang"])),(0,r.mapGetters)(["activeNode","activeNodePro","isPageCompType","pageComp"])),{},{formKey:function(){return this.compareVersion("gt","2.7.15")?1:this.activeNode.id},methods:function(){return{compareVersion:this.compareVersion}},formWidth:function(){var e,t,n,r,i=null===(e=this.pageComp)||void 0===e||null===(t=e.main)||void 0===t||null===(n=t.declarations)||void 0===n||null===(r=n.formMsg)||void 0===r?void 0:r.width;return i?"".concat(i+30,"px"):void 0},showTransitionForm:function(){var e,t,n=(null===(e=this.activeNodePro)||void 0===e?void 0:e.editOptions)||{},r=n.noPosition,i=n.noEditStyle;return(null===(t=this.activeNodePro)||void 0===t?void 0:t.editOptions)&&!i&&!r&&this.compareVersion("ge","2.7.22")}}),watch:{activeNode:{handler:function(e){e&&"page"===this.activeTab?this.activeTab="component":e||this.lang||(this.activeTab="page")},immediate:!0},lang:function(e){e&&(this.activeTab="component")},comp:{handler:function(e){var t,n;this.activeNode&&(null!=e&&e.main||this.$store.dispatch("fetchCompModule",{compName:null===(t=this.activeNode)||void 0===t?void 0:t.name,version:null===(n=this.activeNode)||void 0===n?void 0:n.version}))},immediate:!1},"activeNode.alias":{handler:function(e){this.alias=e},immediate:!0}},methods:y(y({},(0,r.mapActions)(["updateNodeConfig"])),{},{compareVersion:function(e,t){return(0,i.compareVersion)(this.baseInfo.buildVer,e,t)},setAlias:function(e){this.updateNodeConfig({options:{alias:e}})}})};t.default=O},function(e,t,n){"use strict";n.r(t);var r=n(527),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(43),o=n(173),a=n(1227),s=n(1280),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}i.default=e,n&&n.set(e,i);return i}(n(92));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p={props:{customComp:{type:[Function,Object]},customOptions:{type:Object},customCompFormHelpers:{type:Object,default:function(){return{}}},customMethods:{type:Object,default:function(){return{}}}},computed:d(d(d({},(0,i.mapState)(["compList","pageModule","platform"])),(0,i.mapGetters)(["hasCnBiz","hasSeaBiz","mapProNodes","activeNode","viewPortRem","activeNodePro","isPageCompType","mi18nStateKey"])),{},{formComp:function(){var e,t,n;return this.customComp||(null===(e=this.compList[null===(n=this.activeNode)||void 0===n?void 0:n.name])||void 0===e||null===(t=e.main)||void 0===t?void 0:t.form)},compFormEnv:function(){return{hasSea:this.hasSeaBiz,hasCn:this.hasCnBiz,isMi18n:Boolean(this.mi18nStateKey),isMobile:"h5"===this.platform,environment:o.environment}},compConfig:function(){var e=this.customOptions||this.activeNode.options;return Object.keys(e).forEach((function(t){(0,a.getOtherStateKeyMsg)(t)&&delete(e=d({},e))[t]})),e},formMethods:function(){return d({updateStyle:this.updateActiveNodeBoxStyle,updateOptions:this.updateActiveNodeOptions,updateEditOptions:this.updateActiveNodesEditOptions},this.customMethods)},compFormHelpers:function(){return d({setImgSize:this.setImgSize},this.customCompFormHelpers)}}),methods:d(d({},(0,i.mapActions)(["updateNodesEditOptions","updateNodeBoxStyle","updateNodeOptions"])),{},{setImgSize:function(e){var t=this,n=this.activeNodePro.editOptions,r=n.noResizeHeight,i=n.noResizeWidth;if(!r&&!i&&e){var o=this.activeNode;(0,s.loadImage)(e).then((function(e){if(o===t.activeNode){var n=e.width,r=e.height;if([o.boxStyle.height,o.boxStyle.width].every((function(e){return null==e?void 0:e.endsWith("rem")}))){var i={width:u.dpx2rem(n),height:u.dpx2rem(r)};n/100===t.viewPortRem.width&&i.width!==o.boxStyle.width&&o.boxStyle.left&&(i.left="0rem"),t.updateNodeBoxStyle({options:i})}}})).catch((function(t){console.log("loadImage ".concat(e," err: "),t)}))}},getOriginOption:function(e){if(this.isPageCompType)return e;var t={};return Object.keys(e).forEach((function(n){(0,a.getOtherStateKeyMsg)(n)||n.startsWith("pzmi18n")||(t[n]=e[n])})),t},updateActiveNodeBoxStyle:function(e){this.updateNodeBoxStyle({options:this.getOriginOption(e)})},updateActiveNodesEditOptions:function(e){this.updateNodesEditOptions({options:e})},updateActiveNodeOptions:function(e){var t=e[0],n=e[1]||{};this.updateNodeOptions({options:this.getOriginOption(t),reset:n.reset})}})};t.default=p},function(e,t,n){"use strict";n.r(t);var r=n(529),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(43),i=n(460);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u={data:function(){return{pageAlignMap:[{label:"居上对齐",value:"bottom"},{label:"居中对齐",value:"center"},{label:"局下对齐",value:"top"}]}},computed:a(a(a({},(0,r.mapState)(["baseInfo","platform","platMsg"])),(0,r.mapGetters)(["hasCnBiz","hasSeaBiz","isPageCompType"])),{},{h5MinHeight:{get:function(){return!1===this.platMsg.body.maxRatio?0:this.platMsg.body.width/this.platMsg.body.maxRatio},set:function(e){this.platMsg.body.maxRatio=0!==e&&this.platMsg.body.width/e}},h5MinWidth:{get:function(){return this.platMsg.body.height*this.platMsg.body.minRatio},set:function(e){this.platMsg.body.minRatio=e/this.platMsg.body.height}},minScrollRatio:{get:function(){var e=this.platMsg.body.minScrollRatio;return e?this.platMsg.body.height*e:void 0},set:function(e){e<0||this.$set(this.platMsg.body,"minScrollRatio",e?e/this.platMsg.body.height:void 0)}},maxScrollRatio:{get:function(){var e=this.platMsg.body.maxScrollRatio;return e?this.platMsg.body.width/e:void 0},set:function(e){e<0||this.$set(this.platMsg.body,"maxScrollRatio",e?this.platMsg.body.width/e:void 0)}},uploadImgDefaultCompress:{get:function(){return this.baseInfo.uploadCompress},set:function(e){this.baseInfo.uploadCompress=e,(0,i.setGlobalCompress)(e)}},minWidth:{get:function(){return this.platMsg.body.minWidth},set:function(e){e?this.$set(this.platMsg.body,"minWidth",e):this.$set(this.platMsg.body,"minWidth",void 0)}},pcCover:{get:function(){return this.platMsg.body.pcCover},set:function(e){e?(this.$set(this.platMsg.body,"minWidth",void 0),this.$set(this.platMsg.body,"minScrollWidth",void 0),this.$set(this.platMsg.body,"fixToBody",!0)):this.$set(this.platMsg.body,"fixToBody",!1),this.$set(this.platMsg.body,"pcCover",e)}},cookieTip:{get:function(){var e=this.baseInfo.cookieTip;return"boolean"==typeof e?e:Boolean(null==e?void 0:e.enable)},set:function(e){"boolean"!=typeof this.baseInfo.cookieTip?this.baseInfo.cookieTip&&(this.baseInfo.cookieTip.enable=e):this.baseInfo.cookieTip=e}},fixToBody:{get:function(){return this.platMsg.body.fixToBody},set:function(e){this.$set(this.platMsg.body,"fixToBody",e)}},clipType:{get:function(){return this.platMsg.body.clipType||"center"},set:function(e){this.$set(this.platMsg.body,"clipType",e)}},minScrollWidth:{get:function(){return this.platMsg.body.minScrollWidth},set:function(e){e?this.$set(this.platMsg.body,"minScrollWidth",e):this.$set(this.platMsg.body,"minScrollWidth",void 0)}},isPC:function(){return"pc"===this.platform},landscapeTip:{get:function(){return this.baseInfo.landscapeTip},set:function(e){this.baseInfo.landscapeTip=e}}}),methods:{addScript:function(){var e;null!==(e=this.baseInfo.script)&&void 0!==e&&e.srcs?this.baseInfo.script.srcs.push(""):this.baseInfo.script.srcs=[""]},deleteScript:function(e){this.baseInfo.script.srcs.splice(e,1)},handleUpdateSingleBg:function(e,t){this.$set(this.platMsg.body,e,t)},handleUpdateMutilBg:function(e){this.$set(this.platMsg.body,"backgroundListConfig",e)}}};t.default=u},function(e,t,n){"use strict";n.r(t);var r=n(531),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(43),i=n(92),o=d(n(2201)),a=d(n(2203)),s=d(n(382)),u=d(n(1321)),l=d(n(854)),c=d(n(2216));function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m={components:{styleForm:a.default,ConfigFormItem:s.default,MutiState:o.default,CompMi18n:u.default,CompOptionsForm:l.default,CustomStateForm:c.default},props:{methods:{type:Object,default:function(){return{}}}},data:function(){return{compForm:{position:"relative"}}},computed:p(p(p({},(0,r.mapState)(["nodes","platform","platMsg"])),(0,r.mapGetters)(["activeNode","fullpageNodes","mapProNodes","activeNodePro","isFullScreen"])),{},{boxStyle:function(){return this.activeNode.boxStyle},canSetPadding:function(){var e=this.platMsg.body,t=e.fixToBody,n=e.pcCover,r=this.boxStyle.position,i=(!t||n)&&"fixed"===r;return this.isFullScreen&&(i||"absolute"===r)},fixToBody:{get:function(){var e;return null===(e=this.activeNode.otherOptions)||void 0===e?void 0:e.fixToBody},set:function(e){e?(this.updateNodeOtherOptions({options:{fixToBody:!0}}),this.updateNodesEditOptions({options:{noResize:!1}}),this.updateNodeBoxStyle({options:{height:"auto"}})):(this.updateNodeOtherOptions({options:{fixToBody:!1}}),this.updateNodesEditOptions({options:{noResize:!0}}),this.updateNodeBoxStyle({options:{height:"100%"}}))}},attachSlides:{get:function(){return this.activeNode.otherOptions.attachSlides},set:function(e){this.updateNodeOtherOptions({options:{attachSlides:e}})}},paddingBangs:{get:function(){return this.activeNode.otherOptions.paddingBangs},set:function(e){this.updateNodeOtherOptions({options:{paddingBangs:e}})}},minPadding:{get:function(){var e=this.activeNode.otherOptions.minPadding;return e?Math.round(100*e).toString():""},set:function(e){Number(e)==Number(e)&&this.updateNodeOtherOptions({options:{minPadding:e?(Math.round(e)/100).toString():void 0}})}},forceCenter:{get:function(){return this.activeNode.otherOptions.forceCenter},set:function(e){var t=this.updateNodeBoxStyle,n=this.boxStyle;if(e){var r=(0,i.getCssValAndUnit)(n.width);t({options:{left:"calc(50% - ".concat(r.val/2).concat(r.unit,")"),right:void 0}})}this.updateNodeOtherOptions({options:{forceCenter:e}})}},forceMiddle:{get:function(){return this.activeNode.otherOptions.forceMiddle},set:function(e){if(e){var t=this.updateNodeBoxStyle,n=this.boxStyle,r=(0,i.getCssValAndUnit)(n.height);t({options:{top:"calc(50% - ".concat(r.val/2).concat(r.unit,")"),bottom:void 0}})}this.updateNodeOtherOptions({options:{forceMiddle:e}})}},isSlidePage:function(){return"slidepage"===this.platMsg.mode},canSelectshowPage:function(){return this.activeNode.enabled&&this.isFullScreen&&this.activeNode.otherOptions&&"fullpageContainer"!==this.mapProNodes[this.activeNode.id].rootNode.nodeCategory},showPageList:{get:function(){return this.activeNode.otherOptions.showPageList},set:function(e){this.updateNodeOtherOptions({options:{showPageList:e}})}},showStyleForm:function(){var e;return(null===(e=this.activeNodePro)||void 0===e?void 0:e.editOptions)&&!this.activeNodePro.editOptions.noEditStyle}}),methods:p(p({},(0,r.mapActions)(["removeNode","addNode","updateActiveNodeId","updateNodesEditOptions","updateNodeBoxStyle","updateNodeOtherOptions"])),{},{moveOuter:function(){var e=this,t=this.activeNode,n=t.id;this.removeNode({id:n}),this.addNode({config:t,index:this.nodes.length}),this.$nextTick((function(){e.updateActiveNodeId(n)}))}})};t.default=m},function(e,t,n){"use strict";n.r(t);var r=n(533),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(43);function i(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l={data:function(){return{showStateForm:!1,stateKeyNameList:["boxStyle","options","config"],currentDialogStateMsg:{stateName:"",stateKey:"",hover:!1},isUpdateState:!1,timingFunctionList:[{label:"默认",value:"ease-in-out"},{label:"缓入",value:"ease-in"},{label:"缓出",value:"ease-out"}]}},computed:s(s(s({},(0,r.mapState)(["activeNodeStateKey"])),(0,r.mapGetters)(["activeNode","activeNodeState","mi18nStateKey"])),{},{boxStyle:function(){return this.activeNode.boxStyle},options:function(){return this.activeNode.options},config:function(){return this.activeNode},stateList:function(){return this.activeNode.otherOptions.stateList||[]},transition:{get:function(){return Boolean(this.currentDialogStateMsg.transition)},set:function(e){e?this.$set(this.currentDialogStateMsg,"transition",{duration:"300",timingFunction:"ease-in-out"}):this.$set(this.currentDialogStateMsg,"transition",void 0)}},duration:{get:function(){return Number(this.currentDialogStateMsg.transition.duration)||300},set:function(e){this.$set(this.currentDialogStateMsg.transition,"duration",String(e))}},timingFunction:{get:function(){return this.currentDialogStateMsg.transition.timingFunction||""},set:function(e){this.$set(this.currentDialogStateMsg.transition,"timingFunction",e||"ease-in-out")}}}),methods:s(s(s({},(0,r.mapMutations)(["updateActiveNodeStateKey"])),(0,r.mapActions)(["updateNodeBoxStyle","updateNodeModId","updateNodeConfig","updateNodeOtherOptions","updateNodeOptions"])),{},{openCreateStateDialog:function(){var e=this.activeNode.modId;this.currentDialogStateMsg={stateKey:"pzstate".concat(e,"-"),stateName:"state".concat(e),hover:!1},this.showStateForm=!0,this.isUpdateState=!1},editStateDialog:function(e){this.currentDialogStateMsg=s({},this.activeNode.otherOptions.stateList.find((function(t){return t.stateKey===e}))),this.showStateForm=!0,this.isUpdateState=!0},checkoutState:function(e){e===this.activeNodeStateKey&&(e=""),this.updateActiveNodeStateKey(e)},createState:function(){var e,t=this,n=this.activeNode.otherOptions.stateList||[];if(this.isUpdateState){var r=n.findIndex((function(e){return e.stateKey===t.currentDialogStateMsg.stateKey}));(e=i(n))[r]=s({},this.currentDialogStateMsg)}else e=[].concat(i(n),[s({},this.currentDialogStateMsg)]);this.updateNodeOtherOptions({options:{stateList:e}}),this.updateNodeModId(),this.showStateForm=!1},handleDelete:function(e,t){var n=this;e.stopPropagation(),this.stateKeyNameList.forEach((function(e){var r="updateNode".concat(e.toUpperCase().slice(0,1)+e.slice(1));if("config"===e){var i=[];Object.keys(n[e]).forEach((function(e){e.includes(t)&&i.push(e),n[r]({del:!0,keys:i})}))}else{var o=s({},n[e]);Object.keys(n[e]).forEach((function(e){e.includes(t)&&delete o[e]})),n[r]({options:o,reset:!0})}})),t===this.activeNodeStateKey&&this.updateActiveNodeStateKey("");var r=i(this.activeNode.otherOptions.stateList),o=r.findIndex((function(e){return e.stateKey===t}));r.splice(o,1),this.updateNodeOtherOptions({options:{stateList:r}})}})};t.default=l},function(e,t,n){"use strict";n.r(t);var r=n(535),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=n(43);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u={components:{StyleFormItem:((r=n(381))&&r.__esModule?r:{default:r}).default},computed:a(a({},(0,i.mapGetters)(["activeNode"])),{},{boxStyle:function(){return this.activeNode.boxStyle}})};t.default=u},function(e,t,n){"use strict";n.r(t);var r=n(537),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(43),i=n(92);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l={props:{customFormData:{type:Object,default:function(){}},customFormMethods:{type:Object,default:function(){return{}}},formOptions:{type:Object,default:function(){return{}}},name:{type:String},comp:{type:Object}},computed:s(s(s({},(0,r.mapState)(["baseInfo","platMsg"])),(0,r.mapGetters)(["maxZIndexNode","activeFormData"])),{},{formMethods:function(){return s({updateNodeBoxStyle:this.updateNodeBoxStyle,moveNodeIndex:this.moveNodeIndex,updateNodeConfig:this.updateNodeConfig,updateNodesEditOptions:this.updateNodesEditOptions,checkEnable:this.checkEnable},this.customFormMethods)},formData:function(){return this.customFormData?s(s({},this.activeFormData),this.customFormData):this.activeFormData},envList:function(){var e=this.formData.activeNodePro.editOptions,t=e.noPosition,n=e.noResize,r=e.showEditOptions,i=e.noResizeHeight,o=e.fixAspectRatio,a=this.formData,s=a.activeNode,u=a.isMutiStateForm,l=s.boxStyle.position,c=s.nodeCategory;return{noPosition:t,noResize:n,noResizeHeight:i,fixAspectRatio:o,showEditOptions:r,isRelativeBox:"relative"===l,isNormalPage:"normal"===this.platMsg.mode,version:this.baseInfo.buildVer,isMutiStateForm:u,nodeCategory:c}},data:function(){var e=this.formData,t=e.activeNodePro,n=e.activeNode,r=t.parentNode,i=t.brotherList,o=t.index;return{parentNode:r,brotherList:i,id:n.id,curIndex:o,activeNode:n,maxZIndexNode:this.maxZIndexNode}},methods:function(){return s({},this.formMethods)}}),methods:s(s({},(0,r.mapActions)(["updateNodeBoxStyle","moveNodeIndex","updateNodeConfig","updateNodesEditOptions"])),{},{checkHitEnv:function(e){var t=this;return e.some((function(e){return"object"===o(e)?{version:function(){return(0,i.compareVersion)(t.envList.version,e.compare,e.version)},nodeCategory:function(){return t.envList.nodeCategory===e.category}}[e.type]():t.envList[e]}))},checkEnable:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(e=!t.length||this.checkHitEnv(t),n.length){var r=this.checkHitEnv(n);r&&(e=!1)}return e}})};t.default=l},function(e,t,n){"use strict";n.r(t);var r=n(539),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(467))&&r.__esModule?r:{default:r};function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u={props:{data:{type:Object,default:function(){return{}}},envList:{type:Object,default:function(){return{}}},methods:{type:Object,default:function(){return{}}},formOptions:{type:Object,default:function(){return{}}},name:{type:String}},computed:{curComponent:function(){var e=i.default[this.name];return a(a({},i.default[this.name]),{},{enable:this.methods.checkEnable(e.include,e.exclude),is:n(2204)("./".concat(this.name)).default})}}};t.default=u},function(e,t,n){"use strict";n.r(t);var r=n(541),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(127))&&r.__esModule?r:{default:r},o=n(92),a=n(461);var s={props:{data:{type:Object,default:function(){return{}}},methods:{type:Object,default:function(){return{}}}},computed:{activeNode:function(){return this.data.activeNode},boxStyle:function(){return this.activeNode.boxStyle},isRelative:function(){return"relative"===this.boxStyle.position},aligns:function(){var e=this,t=i.default.aligns[this.boxStyle.position]||i.default.aligns.all;return t.filter((function(t){return function(t){var n=e.boxStyle[t.dep],r=(0,o.getCssValAndUnit)(n);return!n||r&&"calc"!==r.unit}(t)}))}},methods:{doAlign:function(e){var t,n=this.methods.updateNodeBoxStyle,r=this.boxStyle;switch(e.name){case"t":n({options:{bottom:void 0,top:"0rem"}});break;case"b":n({options:{bottom:"0rem",top:void 0}});break;case"m":this.isRelative?(t=(0,o.getCssValAndUnit)(r.width),n({options:{marginLeft:"calc(50% - ".concat(t.val/2).concat(t.unit,")"),marginRight:void 0}})):"raw"===e.dir?(t=(0,o.getCssValAndUnit)(r.width),n({options:{left:"calc(50% - ".concat(t.val/2).concat(t.unit,")"),right:void 0}})):(t=(0,o.getCssValAndUnit)(r.height),n({options:{top:"calc(50% - ".concat(t.val/2).concat(t.unit,")"),bottom:void 0}}));break;case"l":this.isRelative?(t=(0,o.getCssValAndUnit)(r.width),n({options:{marginRight:void 0,marginLeft:void 0}})):n({options:{left:"0rem",right:void 0}});break;case"r":this.isRelative?(t=(0,o.getCssValAndUnit)(r.width),this.$set(r,"marginLeft","calc(100% - ".concat(t.val).concat(t.unit,")")),this.$set(r,"marginRight",void 0)):n({options:{right:"0rem",left:void 0}})}},positionType:function(e){if(this.isRelative)return!1;var t=(0,a.checkPositionType)(this.activeNode.boxStyle);return"raw"===e.dir?t[1]===e.name:t[0]===e.name}}};t.default=s},function(e,t,n){"use strict";n.r(t);var r=n(543),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(127))&&r.__esModule?r:{default:r};var o={props:{data:{type:Object,default:function(){return{}}},methods:{type:Object,default:function(){return{}}}},data:function(){return{predefineColors:i.default.predefineColors}},computed:{boxStyle:function(){return this.data.activeNode.boxStyle},backgroundColor:{get:function(){return this.boxStyle.backgroundColor},set:function(e){(0,this.methods.updateNodeBoxStyle)({options:{backgroundColor:e}})}}}};t.default=o},function(e,t,n){"use strict";n.r(t);var r=n(545),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var u=o?Object.getOwnPropertyDescriptor(e,s):null;u&&(u.get||u.set)?Object.defineProperty(i,s,u):i[s]=e[s]}i.default=e,n&&n.set(e,i);return i}(n(92)),o=n(1280);function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}var s={props:{data:{type:Object,default:function(){return{}}},methods:{type:Object,default:function(){return{}}},options:{type:Object,default:function(){return{}}},envList:{type:Object,default:function(){return{}}}},computed:{boxStyle:function(){return this.data.activeNode.boxStyle},backgroundImage:{get:function(){var e=this.boxStyle.backgroundImage;return i.getBgImg(e)},set:function(e){this.updateBackground(e)}}},methods:{updateBackground:function(e){var t=this.methods.updateNodeBoxStyle;t({options:{backgroundImage:e?"url(".concat(e,")"):void 0}}),this.options.suitBGSize&&!this.envList.noResize&&(0,o.loadImage)(e).then((function(e){var n=e.width,r=e.height;t({options:{width:i.dpx2rem(n),height:i.dpx2rem(r)}})})).catch((function(t){console.log("loadImage ".concat(e," err: "),t)}))}}};t.default=s},function(e,t,n){"use strict";n.r(t);var r=n(547),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(127))&&r.__esModule?r:{default:r};var o={props:{data:{type:Object,default:function(){return{}}},methods:{type:Object,default:function(){return{}}}},data:function(){return{backgroundPositionList:i.default.backgroundPosition}},computed:{boxStyle:function(){return this.data.activeNode.boxStyle},backgroundPosition:{get:function(){var e=this.methods.updateNodeBoxStyle;return this.boxStyle.backgroundPosition?this.boxStyle.backgroundPosition:(e({options:{backgroundPosition:"center"}}),"center")},set:function(e){(0,this.methods.updateNodeBoxStyle)({options:{backgroundPosition:e}})}}}};t.default=o},function(e,t,n){"use strict";n.r(t);var r=n(549),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={props:{data:{type:Object,default:function(){return{}}},methods:{type:Object,default:function(){return{}}}},computed:{boxStyle:function(){return this.data.activeNode.boxStyle},pointerEvents:{get:function(){return this.boxStyle.pointerEvents},set:function(e){(0,this.methods.updateNodeBoxStyle)({options:{pointerEvents:e||void 0}})}}}};t.default=r},function(e,t,n){"use strict";n.r(t);var r=n(551),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={props:{data:{type:Object,default:function(){return{}}},methods:{type:Object,default:function(){return{}}}},computed:{boxStyle:function(){return this.data.activeNode.boxStyle},backgroundSize:{get:function(){return this.boxStyle.backgroundSize},set:function(e){(0,this.methods.updateNodeBoxStyle)({options:{backgroundSize:e}})}}}};t.default=r},function(e,t,n){"use strict";n.r(t);var r=n(553),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(2206))&&r.__esModule?r:{default:r},o=n(1250);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l={components:{PxNum:i.default},props:{data:{type:Object,default:function(){return{}}},methods:{type:Object,default:function(){return{}}},envList:{type:Object,default:function(){return{}}}},data:function(){return{defaultProps:{children:"children",label:"label"},positionList:[{label:"左",type:"left"},{label:"上",type:"top"},{label:"右",type:"right"},{label:"下",type:"bottom"}],borderStyle:[{label:"无边框",value:"none"},{label:"实线",value:"solid"},{label:"虚线",value:"dashed"},{label:"双实线",value:"double"},{label:"圆点",value:"dotted"}],dataArr:[{}],defaultColor:"#000000"}},computed:{boxStyle:function(){return this.data.activeNode.boxStyle},border:function(){var e=this.boxStyle.border,t=void 0===e?"0.01rem none ".concat(this.defaultColor):e,n=t.split(" ");return{width:n[0],style:n[1],color:n[2]}},treeData:function(){var e=this;return{label:"边框",border:this.border,children:this.positionList.map((function(t){var n={};return Object.keys(e.border).forEach((function(r){n[r]=e.getBorderItem(t.type,r)})),s(s({},t),{},{border:n})}))}}},watch:{treeData:{immediate:!0,handler:function(e){var t=this;Object.keys(e).forEach((function(n){t.$set(t.dataArr[0],n,e[n])}))}}},methods:{getBorderItemKey:function(e,t){return"border".concat((0,o.initialToUpperCase)(e)).concat((0,o.initialToUpperCase)(t))},getBorderItem:function(e,t){return this.boxStyle[this.getBorderItemKey(e,t)]||this.border[t]},setBorder:function(e,t,n){var r=this,i={},a=t.border,s={};Object.keys(a).forEach((function(t){s[t]=t===e?n:a[t]})),t.type?Object.keys(s).forEach((function(e){i[r.getBorderItemKey(t.type,e)]=s[e]})):(Object.keys(this.boxStyle).forEach((function(t){new RegExp("^border(".concat(r.positionList.map((function(e){return(0,o.initialToUpperCase)(e.type)})).reduce((function(e,t){return"".concat(e,"|").concat(t)})),")").concat((0,o.initialToUpperCase)(e),"$")).test(t)&&(i[t]="")})),i.border=Object.values(s).reduce((function(e,t){return"".concat(e," ").concat(t)}))),this.methods.updateNodeBoxStyle({options:i})}}};t.default=l},function(e,t,n){"use strict";n.r(t);var r=n(555),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(2207))&&r.__esModule?r:{default:r},o=n(225);var a={components:{PzNumberInput:i.default},inheritAttrs:!1,props:{value:{type:[String],default:null}},computed:{val:{get:function(){return(0,o.toFixed)(100*(parseFloat(this.value)||0))},set:function(e){e=(0,o.toFixed)(e/100,2),this.$emit("input","".concat(e,"rem"))}}}};t.default=a},function(e,t,n){"use strict";n.r(t);var r=n(557),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={inheritAttrs:!1,props:{value:{type:[Number],default:null}},methods:{handleChange:function(e){this.$emit("input",e)}}};t.default=r},function(e,t,n){"use strict";n.r(t);var r=n(559),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(127));function i(e){return e&&e.__esModule?e:{default:e}}var o={components:{Num:i(n(132)).default},props:{data:{type:Object,default:function(){return{}}},methods:{type:Object,default:function(){return{}}}},computed:{boxStyle:function(){return this.data.activeNode.boxStyle},units:function(){return r.default.unit.filter((function(e){return["rem","%","none"].includes(e.value)}))},borderRadius:{get:function(){return this.boxStyle.borderRadius},set:function(e){var t=this.methods.updateNodeBoxStyle,n={borderRadius:e};e&&(n.willChange="opacity"),t({options:n})}}}};t.default=o},function(e,t,n){"use strict";n.r(t);var r=n(561),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(127))&&r.__esModule?r:{default:r},o=n(225);var a={name:"Num",components:{},props:{styleAttr:{type:[String,Number]},customUnits:{type:[Array]},minLimit:{type:[Boolean,Object],default:!1}},data:function(){return{styleConst:i.default,text:""}},computed:{computedAttr:function(){return"calc"===this.unit?this.value:this.combine(this.value,this.unit)},unitsMsg:function(){return this.customUnits||i.default.unit},units:function(){return this.unitsMsg.map((function(e){return e.value}))},valueMsg:function(){var e,t=this.styleAttr;return Number(t)==Number(t)?{val:0,unit:this.units[0]}:"string"==typeof t&&t?(e="auto"===t?{val:void 0,unit:"auto"}:(0,o.getCssValAndUnit)(t))&&this.units.includes(e.unit)?e:{val:String(t),unit:"other"}:{val:void 0,unit:"none"}},unit:function(){return this.valueMsg.unit},value:function(){return"rem"===this.unit?100*this.valueMsg.val:this.valueMsg.val}},watch:{value:{handler:function(e){this.text=e},immediate:!0}},methods:{changeVal:function(e,t){var n,r=this;if("unit"===t){var i={auto:function(){return"auto"},none:function(){},other:function(){return"calc(50% - 0.1rem)"},rem:function(){return"number"==typeof r.value?"".concat(r.value/100).concat(e):"".concat(0,e)},default:function(){return"number"==typeof r.value?"".concat(r.value).concat(e):"".concat(0,e)}};n=i[e]?i[e]():i.default()}else{var o={rem:function(){return"".concat(e/100,"rem")},other:function(){return e},default:function(){return"".concat(e).concat(r.unit)}};n=o[this.unit]?o[this.unit]():o.default()}this.$emit("update:styleAttr",n)}}};t.default=a},function(e,t,n){"use strict";n.r(t);var r=n(563),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(127));function i(e){return e&&e.__esModule?e:{default:e}}var o={components:{Num:i(n(132)).default},props:{data:{type:Object,default:function(){return{}}},methods:{type:Object,default:function(){return{}}},envList:{type:Object,default:function(){return{}}}},computed:{boxStyle:function(){return this.data.activeNode.boxStyle},isMutiStateForm:function(){return this.envList.isMutiStateForm},units:function(){return r.default.unit.filter((function(e){return!["calc","auto"].includes(e.value)}))},bottom:{get:function(){return this.boxStyle.bottom},set:function(e){var t=this.methods.updateNodeBoxStyle,n={bottom:e};this.isMutiStateForm||(n.top=void 0),t({options:n})}}}};t.default=o},function(e,t,n){"use strict";n.r(t);var r=n(565),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(127))&&r.__esModule?r:{default:r};var o={props:{data:{type:Object,default:function(){return{}}},methods:{type:Object,default:function(){return{}}}},data:function(){return{cursorValues:i.default.cursorValues}},computed:{boxStyle:function(){return this.data.activeNode.boxStyle},cursor:{get:function(){return this.boxStyle.cursor},set:function(e){(0,this.methods.updateNodeBoxStyle)({options:{cursor:e}})}}}};t.default=o},function(e,t,n){"use strict";n.r(t);var r=n(567),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={components:{Num:((r=n(132))&&r.__esModule?r:{default:r}).default},props:{data:{type:Object,default:function(){return{}}},methods:{type:Object,default:function(){return{}}},envList:{type:Object,default:function(){return{}}}},computed:{boxStyle:function(){return this.data.activeNode.boxStyle},units:function(){return[{value:"rem",label:"px",desc:"等于根节点的字体尺寸。"}]},fontSize:{get:function(){return this.boxStyle.fontSize},set:function(e){(0,this.methods.updateNodeBoxStyle)({options:{fontSize:e}})}}}};t.default=i},function(e,t,n){"use strict";n.r(t);var r=n(569),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=n(225);var o={components:{Num:((r=n(132))&&r.__esModule?r:{default:r}).default},props:{data:{type:Object,default:function(){return{}}},methods:{type:Object,default:function(){return{}}},envList:{type:Object,default:function(){return{}}}},computed:{boxStyle:function(){return this.data.activeNode.boxStyle},fixAspectRatio:function(){return this.envList.fixAspectRatio},height:{get:function(){return this.boxStyle.height},set:function(e){var t=this.methods.updateNodeBoxStyle,n=this.fixAspectRatioHandler(e),r={height:e};n&&(r.width=n),t({options:r})}}},methods:{fixAspectRatioHandler:function(e){if(this.fixAspectRatio){var t=(0,i.getCssValAndUnit)(this.boxStyle.width),n=(0,i.getCssValAndUnit)(this.boxStyle.height),r=(0,i.getCssValAndUnit)(e);if(![t,r,n].some((function(e){return!e||"calc"===e.unit||0===e.val}))&&n.unit===t.unit&&t.unit===r.unit){var o=t.val/n.val;return"".concat(r.val*o).concat(r.unit)}}}}};t.default=o},function(e,t,n){"use strict";n.r(t);var r=n(571),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(127));function i(e){return e&&e.__esModule?e:{default:e}}var o={components:{Num:i(n(132)).default},props:{data:{type:Object,default:function(){return{}}},methods:{type:Object,default:function(){return{}}},envList:{type:Object,default:function(){return{}}}},computed:{boxStyle:function(){return this.data.activeNode.boxStyle},isMutiStateForm:function(){return this.envList.isMutiStateForm},units:function(){return r.default.unit.filter((function(e){return!["auto"].includes(e.value)}))},left:{get:function(){return this.boxStyle.left},set:function(e){var t=this.methods.updateNodeBoxStyle,n={left:e};this.isMutiStateForm||(n.right=void 0),t({options:n})}}}};t.default=o},function(e,t,n){"use strict";n.r(t);var r=n(573),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(127));function i(e){return e&&e.__esModule?e:{default:e}}var o={components:{Num:i(n(132)).default},props:{data:{type:Object,default:function(){return{}}},methods:{type:Object,default:function(){return{}}}},computed:{boxStyle:function(){return this.data.activeNode.boxStyle},units:function(){return r.default.unit.filter((function(e){return"%"!==e.value}))},marginBottom:{get:function(){return this.boxStyle.marginBottom},set:function(e){(0,this.methods.updateNodeBoxStyle)({options:{marginBottom:e}})}}}};t.default=o},function(e,t,n){"use strict";n.r(t);var r=n(575),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(127));function i(e){return e&&e.__esModule?e:{default:e}}var o={components:{Num:i(n(132)).default},props:{data:{type:Object,default:function(){return{}}},methods:{type:Object,default:function(){return{}}}},computed:{boxStyle:function(){return this.data.activeNode.boxStyle},units:function(){return r.default.unit.filter((function(e){return"%"!==e.value}))},marginLeft:{get:function(){return this.boxStyle.marginLeft},set:function(e){(0,this.methods.updateNodeBoxStyle)({options:{marginLeft:e}})}}}};t.default=o},function(e,t,n){"use strict";n.r(t);var r=n(577),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(127));function i(e){return e&&e.__esModule?e:{default:e}}var o={components:{Num:i(n(132)).default},props:{data:{type:Object,default:function(){return{}}},methods:{type:Object,default:function(){return{}}}},computed:{boxStyle:function(){return this.data.activeNode.boxStyle},units:function(){return r.default.unit.filter((function(e){return"%"!==e.value}))},marginRight:{get:function(){return this.boxStyle.marginRight},set:function(e){(0,this.methods.updateNodeBoxStyle)({options:{marginRight:e}})}}}};t.default=o},function(e,t,n){"use strict";n.r(t);var r=n(579),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(127));function i(e){return e&&e.__esModule?e:{default:e}}var o={components:{Num:i(n(132)).default},props:{data:{type:Object,default:function(){return{}}},methods:{type:Object,default:function(){return{}}}},computed:{boxStyle:function(){return this.data.activeNode.boxStyle},units:function(){return r.default.unit.filter((function(e){return"%"!==e.value}))},marginTop:{get:function(){return this.boxStyle.marginTop},set:function(e){(0,this.methods.updateNodeBoxStyle)({options:{marginTop:e}})}}}};t.default=o},function(e,t,n){"use strict";n.r(t);var r=n(581),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={components:{Num:((r=n(132))&&r.__esModule?r:{default:r}).default},props:{data:{type:Object,default:function(){return{}}},methods:{type:Object,default:function(){return{}}}},computed:{boxStyle:function(){return this.data.activeNode.boxStyle},maxHeight:{get:function(){return this.boxStyle.maxHeight},set:function(e){(0,this.methods.updateNodeBoxStyle)({options:{maxHeight:e}})}}}};t.default=i},function(e,t,n){"use strict";n.r(t);var r=n(583),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={components:{Num:((r=n(132))&&r.__esModule?r:{default:r}).default},props:{data:{type:Object,default:function(){return{}}},methods:{type:Object,default:function(){return{}}}},computed:{boxStyle:function(){return this.data.activeNode.boxStyle},maxWidth:{get:function(){return this.boxStyle.maxWidth},set:function(e){(0,this.methods.updateNodeBoxStyle)({options:{maxWidth:e}})}}}};t.default=i},function(e,t,n){"use strict";n.r(t);var r=n(585),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={components:{Num:((r=n(132))&&r.__esModule?r:{default:r}).default},props:{data:{type:Object,default:function(){return{}}},methods:{type:Object,default:function(){return{}}}},computed:{boxStyle:function(){return this.data.activeNode.boxStyle},minHeight:{get:function(){return this.boxStyle.minHeight},set:function(e){(0,this.methods.updateNodeBoxStyle)({options:{minHeight:e}})}}}};t.default=i},function(e,t,n){"use strict";n.r(t);var r=n(587),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={components:{Num:((r=n(132))&&r.__esModule?r:{default:r}).default},props:{data:{type:Object,default:function(){return{}}},methods:{type:Object,default:function(){return{}}}},computed:{boxStyle:function(){return this.data.activeNode.boxStyle},minWidth:{get:function(){return this.boxStyle.minWidth},set:function(e){(0,this.methods.updateNodeBoxStyle)({options:{minWidth:e}})}}}};t.default=i},function(e,t,n){"use strict";n.r(t);var r=n(589),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={props:{data:{type:Object,default:function(){return{}}},methods:{type:Object,default:function(){return{}}}},data:function(){return{opacity:1}},computed:{boxStyle:function(){return this.data.activeNode.boxStyle}},watch:{"boxStyle.opacity":{handler:function(e){var t;e=Number(null!==(t=e)&&void 0!==t?t:1),Number(e)!==this.num&&(this.opacity=e)},immediate:!0}},methods:{change:function(e){(0,this.methods.updateNodeBoxStyle)({options:{opacity:String(e)}})}}};t.default=r},function(e,t,n){"use strict";n.r(t);var r=n(591),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={props:{data:{type:Object,default:function(){return{}}},methods:{type:Object,default:function(){return{}}}},data:function(){return{pointerEventsData:[{label:"继承",value:"inherit"},{label:"点击穿透",value:"none"},{label:"可点击",value:"auto"}]}},computed:{boxStyle:function(){return this.data.activeNode.boxStyle},pointerEvents:{get:function(){return this.boxStyle.pointerEvents||"inherit"},set:function(e){console.log(e),"inherit"===e&&(e=void 0),(0,this.methods.updateNodeBoxStyle)({options:{pointerEvents:e}})}}}};t.default=r},function(e,t,n){"use strict";n.r(t);var r=n(593),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={props:{data:{type:Object,default:function(){return{}}},methods:{type:Object,default:function(){return{}}},envList:{type:Object,default:function(){return{}}}},computed:{boxStyle:function(){return this.data.activeNode.boxStyle},position:{set:function(e){var t=this.data,n=t.id,i=t.brotherList,o=t.curIndex,a=this.methods,s=a.updateNodeBoxStyle,u=a.moveNodeIndex;"relative"===e?["bottom","right","left","top"].forEach((function(e){s({options:r({},e,void 0)})})):(["marginTop","marginLeft","marginRight","marginBottom"].forEach((function(e){s({options:r({},e,void 0)})})),this.envList.isRelativeBox&&["left","top"].forEach((function(e){s({options:r({},e,"0rem")})})),i.length>1&&o!==i.length-1&&u({id:n,type:"last"})),s({options:{position:e}})},get:function(){return this.boxStyle.position}},canFixed:function(){var e=!1,t=this.data.parentNode;return t&&"fullpageContainer"!==t.nodeCategory&&!this.envList.isNormalPage||(e=!0),e}}};t.default=i},function(e,t,n){"use strict";n.r(t);var r=n(595),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(127));function i(e){return e&&e.__esModule?e:{default:e}}var o={components:{Num:i(n(132)).default},props:{data:{type:Object,default:function(){return{}}},methods:{type:Object,default:function(){return{}}},envList:{type:Object,default:function(){return{}}}},computed:{boxStyle:function(){return this.data.activeNode.boxStyle},isMutiStateForm:function(){return this.envList.isMutiStateForm},units:function(){return r.default.unit.filter((function(e){return!["calc","auto"].includes(e.value)}))},right:{get:function(){return this.boxStyle.right},set:function(e){var t=this.methods.updateNodeBoxStyle,n={right:e};this.isMutiStateForm||(n.left=void 0),t({options:n})}}}};t.default=o},function(e,t,n){"use strict";n.r(t);var r=n(597),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(127));function i(e){return e&&e.__esModule?e:{default:e}}var o={components:{Num:i(n(132)).default},props:{data:{type:Object,default:function(){return{}}},methods:{type:Object,default:function(){return{}}},envList:{type:Object,default:function(){return{}}}},computed:{boxStyle:function(){return this.data.activeNode.boxStyle},isMutiStateForm:function(){return this.envList.isMutiStateForm},units:function(){return r.default.unit.filter((function(e){return!["auto"].includes(e.value)}))},top:{get:function(){return this.boxStyle.top},set:function(e){var t=this.methods.updateNodeBoxStyle,n={top:e};this.isMutiStateForm||(n.bottom=void 0),t({options:n})}}}};t.default=o},function(e,t,n){"use strict";n.r(t);var r=n(599),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=n(225);var o={components:{Num:((r=n(132))&&r.__esModule?r:{default:r}).default},props:{data:{type:Object,default:function(){return{}}},methods:{type:Object,default:function(){return{}}},envList:{type:Object,default:function(){return{}}}},computed:{boxStyle:function(){return this.data.activeNode.boxStyle},fixAspectRatio:function(){return this.envList.fixAspectRatio},width:{get:function(){return this.boxStyle.width},set:function(e){var t=this.methods.updateNodeBoxStyle,n=this.fixAspectRatioHandler(e),r={width:e};n&&(r.height=n),t({options:r})}}},methods:{fixAspectRatioHandler:function(e){if(this.fixAspectRatio){var t=(0,i.getCssValAndUnit)(this.boxStyle.height),n=(0,i.getCssValAndUnit)(this.boxStyle.width),r=(0,i.getCssValAndUnit)(e);if(![t,r,n].some((function(e){return!e||"calc"===e.unit||0===e.val}))&&n.unit===t.unit&&t.unit===r.unit){var o=t.val/n.val;return"".concat(r.val*o).concat(r.unit)}}}}};t.default=o},function(e,t,n){"use strict";n.r(t);var r=n(601),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={props:{data:{type:Object,default:function(){return{}}},methods:{type:Object,default:function(){return{}}},envList:{type:Object,default:function(){return{}}}},methods:{setTopZIndex:function(){var e=this.envList.isRelativeBox,t=this.data,n=t.id,r=t.activeNode,i=t.maxZIndexNode;if(e||this.methods.moveNodeIndex({id:n,type:"last"}),i.id!==r.id){var o=i.zIndex+1;this.methods.updateNodeBoxStyle({options:{zIndex:String(o)}})}},setBottomZIndex:function(){var e=this.envList.isRelativeBox,t=this.data.id;this.methods.updateNodeBoxStyle({options:{zIndex:void 0}}),e||this.methods.moveNodeIndex({id:t,type:"first"})}}};t.default=r},function(e,t,n){"use strict";n.r(t);var r=n(603),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(468))&&r.__esModule?r:{default:r};function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u={props:{data:{type:Object,default:function(){return{}}},envList:{type:Object,default:function(){return{}}},methods:{type:Object,default:function(){return{}}},formOptions:{type:Object,default:function(){return{}}},name:{type:String}},computed:{curComponent:function(){var e=i.default[this.name];return a(a({},i.default[this.name]),{},{enable:this.methods.checkEnable(e.include,e.exclude),is:n(2212)("./".concat(this.name)).default})}}};t.default=u},function(e,t,n){"use strict";n.r(t);var r=n(605),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={props:{data:{type:Object,default:function(){return{}}},methods:{type:Object,default:function(){return{}}}},computed:{disabled:{get:function(){var e=this.data.activeNode.disabled;return Boolean(e)},set:function(e){this.methods.updateNodeConfig({options:{disabled:e}})}}}};t.default=r},function(e,t,n){"use strict";n.r(t);var r=n(607),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={props:{data:{type:Object,default:function(){return{}}},methods:{type:Object,default:function(){return{}}}},computed:{enabled:{get:function(){return this.data.activeNode.enabled},set:function(e){this.methods.updateNodeConfig({options:{enabled:e}})}}}};t.default=r},function(e,t,n){"use strict";n.r(t);var r=n(609),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={props:{data:{type:Object,default:function(){return{}}},methods:{type:Object,default:function(){return{}}},envList:{type:Object,default:function(){return{}}}},computed:{fixAspectRatio:{get:function(){return this.envList.fixAspectRatio||!1},set:function(e){this.methods.updateNodesEditOptions({options:{fixAspectRatio:e}})}}}};t.default=r},function(e,t,n){"use strict";n.r(t);var r=n(611),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={props:{data:{type:Object,default:function(){return{}}},methods:{type:Object,default:function(){return{}}},envList:{type:Object,default:function(){return{}}}},computed:{showEditOptions:{get:function(){return this.envList.showEditOptions||!1},set:function(e){this.methods.updateNodesEditOptions({options:{showEditOptions:e}})}}}};t.default=r},function(e,t,n){"use strict";n.r(t);var r=n(613),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,o=n(43),a=n(336),s=n(303),u=n(92),l=(i=n(2213))&&i.__esModule?i:{default:i},c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}i.default=e,n&&n.set(e,i);return i}(n(92));function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m={components:{CompMi18nFormItem:l.default},data:function(){return{visible:!1,MI18N_RES_TYPES:a.MI18N_RES_TYPES,formData:{mi18nKeys:[]}}},computed:p(p(p({},(0,o.mapState)(["baseInfo"])),(0,o.mapGetters)(["activeNodePro","hasMi18n","activeNode","allMi18nMsgList","isPageCompType","pageConfig"])),{},{declarations:function(){return this.activeNodePro.declarations},mi18nList:function(){return this.declarations.mi18n||[]},canSetMi18n:function(){var e;return this.hasMi18n&&(null===(e=this.mi18nList)||void 0===e?void 0:e.length)&&this.compareVersion("ge","2.7.22")},compMi18nMsg:function(){return this.activeNode.otherOptions.mi18n||{}},allChecked:{get:function(){var e=Object.values(this.compMi18nMsg);return e.length===this.mi18nList.length&&e.every((function(e){return e.enabled}))},set:function(e){this.multiChange(e)}},sameCompList:function(){var e,t,n=this,r={},i=function(e,t){if(e!==n.activeNode&&e.name===n.activeNode.name){var i=e.id,o=e.alias;r[i]={alias:o,id:i,plat:t}}};return c.dfsNodes((null===(e=this.pageConfig.h5)||void 0===e?void 0:e.nodes)||[],(function(e){i(e,"h5")})),c.dfsNodes((null===(t=this.pageConfig.pc)||void 0===t?void 0:t.nodes)||[],(function(e){i(e,"pc")})),r},mi18nFromId:{get:function(){var e;return null===(e=this.activeNode.otherOptions.mi18nFrom)||void 0===e?void 0:e.id},set:function(e){var t={mi18nFrom:void 0};e&&(t.mi18nFrom={id:e,plat:this.sameCompList[e].plat}),this.updateNodeOtherOptions({options:t})}}}),methods:p(p({},(0,o.mapActions)(["updateNodeOtherOptions","updateNodeMi18n"])),{},{updateCustomMi18nKeys:function(){var e=this;this.$refs.form.validate((function(t){if(!t)return console.log("error submit!!"),!1;e.visible=!1;var n={};e.formData.mi18nKeys.forEach((function(e){var t=e.desc,r=e.key,i=e.type;n[r]={desc:t,type:i}})),e.baseInfo.customMi18nKey=n}))},validatePassKey:function(e,t,n){this.formData.mi18nKeys.filter((function(e){return e.key===t})).length>=2&&n(new Error("不能与其他项重复")),n()},getItemMsg:function(e){return this.compMi18nMsg[e]},createDefaultKeyMsg:function(){return{key:"",nodes:[],desc:"",type:s.MI18N_RES_TYPE.TEXT}},addMi18nCustomKey:function(){this.formData.mi18nKeys.push(p(p({},this.createDefaultKeyMsg()),{},{new:!0}))},handlerDeleteItem:function(e){this.formData.mi18nKeys.splice(this.formData.mi18nKeys.indexOf(e),1)},getCustomMi18nKey:function(){var e=this,t=[];return this.formData.mi18nKeys=Object.keys(this.baseInfo.customMi18nKey).forEach((function(n){var r=p(p(p({},e.createDefaultKeyMsg()),e.baseInfo.customMi18nKey[n]),{},{key:n});t.push(r),e.allMi18nMsgList.forEach((function(e){e.customKey===n&&e.node&&!r.nodes.includes(e.node)&&r.nodes.push(e.node)}))})),t},createCustomMi18nKey:function(){this.formData.mi18nKeys=this.getCustomMi18nKey(),this.formData.mi18nKeys.length||this.addMi18nCustomKey(),this.visible=!0},multiChange:function(e){var t=this,n={};this.mi18nList.forEach((function(r){var i,o=r.optionName;n[o]={enabled:e};var a=null===(i=t.compMi18nMsg[o])||void 0===i?void 0:i.desc;a&&(n[o].desc=a)})),this.updateNodeOtherOptions({options:{mi18n:n}})},itemChange:function(e,t){this.updateNodeMi18n({options:e,name:t})},compareVersion:function(e,t){return(0,u.compareVersion)(this.baseInfo.buildVer,e,t)}})};t.default=m},function(e,t,n){"use strict";n.r(t);var r=n(615),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(43),i=n(92);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u={props:{value:{type:Object,default:function(){return{}}},label:{type:String,default:""},type:{type:String,default:"text"}},computed:a(a(a({},(0,r.mapState)(["baseInfo"])),(0,r.mapGetters)(["isPageCompType"])),{},{enabled:{get:function(){return Boolean(this.value.enabled)},set:function(e){var t={enabled:e};this.$emit("update",t)}},desc:function(){var e,t=this.value,n=t.customKey,r=t.desc;return n?null===(e=this.baseInfo.customMi18nKey[n])||void 0===e?void 0:e.desc:r},canSetCustomKey:function(){return this.compareVersion("ge","2.10.45")},customMi18nKeys:function(){var e=this;return Object.keys(this.baseInfo.customMi18nKey).map((function(t){return a(a({},e.baseInfo.customMi18nKey[t]),{},{value:t})})).filter((function(t){return t.type===e.type}))}}),methods:{handlerChange:function(e,t){this.$emit("update",s({},e,t||""))},compareVersion:function(e,t){return(0,i.compareVersion)(this.baseInfo.buildVer,e,t)}}};t.default=u},function(e,t,n){"use strict";n.r(t);var r=n(617),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=n(43),o=n(92);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l={components:{CompCustomStateFormItem:((r=n(2217))&&r.__esModule?r:{default:r}).default},data:function(){return{visible:!1,formData:{mi18nKeys:[]}}},computed:s(s(s({},(0,i.mapState)(["baseInfo"])),(0,i.mapGetters)(["activeNodePro","activeNode","allMi18nMsgList","isPageCompType"])),{},{declarations:function(){return this.activeNodePro.declarations},mi18nList:function(){return this.declarations.mi18n||[]},canSetCustomState:function(){var e;return(null===(e=this.mi18nList)||void 0===e?void 0:e.length)&&this.compareVersion("ge","2.7.52")},compCustomStateMsg:function(){return this.activeNode.otherOptions.customState||{}}}),methods:s(s({},(0,i.mapActions)(["updateNodeCustomState"])),{},{getItemMsg:function(e){return this.compCustomStateMsg[e]},itemChange:function(e,t){this.updateNodeCustomState({options:e,name:t})},compareVersion:function(e,t){return(0,o.compareVersion)(this.baseInfo.buildVer,e,t)}})};t.default=l},function(e,t,n){"use strict";n.r(t);var r=n(619),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(43),i=n(92);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u={props:{value:{type:Object,default:function(){return{}}},label:{type:String,default:""},type:{type:String,default:"text"}},computed:a(a(a({},(0,r.mapState)(["baseInfo"])),(0,r.mapGetters)(["globalStateList"])),{},{curId:{get:function(){return this.value.id},set:function(e){this.$emit("update",a(a({},this.value),{},{key:void 0,params:void 0,customPropName:void 0,id:e||void 0}))}},curKey:{get:function(){return this.value.key},set:function(e){var t,n,r,i=(null===(t=this.curNodeMsg)||void 0===t||null===(n=t.linkStateMsg)||void 0===n||null===(r=n[e])||void 0===r?void 0:r.customPropName)||void 0;this.$emit("update",a(a({},this.value),{},{customPropName:i,key:e||void 0,params:void 0}))}},curName:function(){var e;return null===(e=this.globalStateList[this.curId])||void 0===e?void 0:e.node.alias},curKeyName:function(){var e,t;return null===(e=this.curNodeMsg.linkStateMsg)||void 0===e||null===(t=e[this.curKey])||void 0===t?void 0:t.label},curParams:{get:function(){return this.value.params},set:function(e){this.$emit("update",a(a({},this.value),{},{params:e||void 0}))}},curNodeMsg:function(){return this.globalStateList[this.curId]||{}}}),methods:{compareVersion:function(e,t){return(0,i.compareVersion)(this.baseInfo.buildVer,e,t)}}};t.default=u},function(e,t,n){"use strict";n.r(t);var r=n(621),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(43),i=s(n(2223)),o=s(n(2226)),a=s(n(2229));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d={components:{ConfigForm:i.default,StyleForm:o.default,OptionsForm:a.default},computed:l(l({},(0,r.mapGetters)(["activeNodePro","isPageCompType"])),{},{supportMi18nForm:function(){return this.activeNodePro.declarations.supportMi18nForm}})};t.default=d},function(e,t,n){"use strict";n.r(t);var r=n(623),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={components:{ConfigFormItem:((r=n(2224))&&r.__esModule?r:{default:r}).default}};t.default=i},function(e,t,n){"use strict";n.r(t);var r=n(625),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={components:{StyleFormItem:((r=n(1328))&&r.__esModule?r:{default:r}).default},props:{name:{type:String,default:""}}};t.default=i},function(e,t,n){"use strict";n.r(t);var r=n(627),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(43),i=a(n(382)),o=a(n(468));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c={components:{configFormItem:i.default},inheritAttrs:!1,props:{name:{type:String,default:""},customStateKey:{type:String,default:void 0},customStateConfig:{type:Object,default:void 0}},computed:u(u(u({},(0,r.mapState)(["activeNodeStateKey"])),(0,r.mapGetters)(["activeNode","mi18nStateKey","activeNodeMi18nStateConfig","activeNodeOtherStateConfig"])),{},{stateKey:function(){var e;return null!==(e=this.customStateKey)&&void 0!==e?e:this.activeNodeStateKey},stateConfig:function(){var e;return null!==(e=this.customStateConfig)&&void 0!==e?e:this.activeNodeOtherStateConfig},customFormData:function(){return{activeNode:u(u(u({},this.activeNode),this.activeNodeMi18nStateConfig),this.stateConfig),isMutiStateForm:!0}},customFormMethods:function(){var e=this;return{updateNodeConfig:function(t){e.setConfig(t)}}},bindConfig:function(){return o.default[this.name].bindConfig},curKey:function(){return"".concat(this.mi18nStateKey).concat(this.activeNodeStateKey).concat(this.bindConfig)},isModified:function(){return this.bindConfig&&void 0!==this.activeNode[this.curKey]}}),methods:u(u({},(0,r.mapActions)(["updateNodeConfig"])),{},{clearCurOtherState:function(){this.updateNodeConfig({del:!0,keys:[this.curKey]})},setConfig:function(e){var t=this,n=e.options,r={};Object.keys(n).forEach((function(e){r["".concat(t.mi18nStateKey).concat(t.activeNodeStateKey).concat(e)]=n[e]})),this.updateNodeConfig({options:r})}})};t.default=c},function(e,t,n){"use strict";n.r(t);var r=n(629),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=n(43);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u={components:{StyleFormItem:((r=n(2227))&&r.__esModule?r:{default:r}).default},computed:a(a({},(0,i.mapGetters)(["activeNode"])),{},{boxStyle:function(){return this.activeNode.boxStyle}})};t.default=u},function(e,t,n){"use strict";n.r(t);var r=n(631),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={components:{StyleFormItem:((r=n(1330))&&r.__esModule?r:{default:r}).default},props:{name:{type:String,default:""}}};t.default=i},function(e,t,n){"use strict";n.r(t);var r=n(633),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(43),i=a(n(381)),o=a(n(467));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c={components:{StyleFormItem:i.default},inheritAttrs:!1,props:{name:{type:String,default:""},customStateKey:{type:String,default:void 0},customStateBoxStyle:{type:Object,default:void 0}},computed:u(u(u({},(0,r.mapState)(["activeNodeStateKey"])),(0,r.mapGetters)(["activeNode","mi18nStateKey","activeNodeMi18nStateBoxStyle","activeNodeOtherStateBoxStyle"])),{},{stateKey:function(){var e;return null!==(e=this.customStateKey)&&void 0!==e?e:this.activeNodeStateKey},stateBoxStyle:function(){var e;return null!==(e=this.customStateBoxStyle)&&void 0!==e?e:this.activeNodeOtherStateBoxStyle},customFormData:function(){return{activeNode:u(u({},this.activeNode),{},{boxStyle:u(u(u({},this.activeNode.boxStyle),this.activeNodeMi18nStateBoxStyle),this.stateBoxStyle)}),isMutiStateForm:!0}},bindStyle:function(){return o.default[this.name].bindStyle},curKey:function(){return"".concat(this.mi18nStateKey).concat(this.stateKey).concat(this.bindStyle)},isModified:function(){return this.bindStyle&&Object.prototype.hasOwnProperty.call(this.activeNode.boxStyle,this.curKey)}}),methods:u(u({},(0,r.mapActions)(["updateNodeBoxStyle"])),{},{clearCurOtherState:function(){var e=u({},this.activeNode.boxStyle);delete e[this.curKey],this.updateNodeBoxStyle({reset:!0,options:e})}})};t.default=c},function(e,t,n){"use strict";n.r(t);var r=n(635),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=n(43);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u={components:{OptionFormItem:((r=n(1332))&&r.__esModule?r:{default:r}).default},props:{name:{type:String,default:""}},computed:a(a(a({},(0,i.mapState)(["compList"])),(0,i.mapGetters)(["activeNode","mi18nStateKey","activeNodeMi18nStateOptions"])),{},{customFormComp:function(){var e,t,n;return null===(e=this.compList[null===(n=this.activeNode)||void 0===n?void 0:n.name])||void 0===e||null===(t=e.main)||void 0===t?void 0:t.mi18nForm}})};t.default=u},function(e,t,n){"use strict";n.r(t);var r=n(637),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=n(43);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u={components:{CompOptionsForm:((r=n(854))&&r.__esModule?r:{default:r}).default},inheritAttrs:!1,props:{customStateKey:{type:String,default:void 0},customStateOptions:{type:Object,default:void 0},customFormComp:{type:[Object,Function],default:void 0}},computed:a(a(a({},(0,i.mapState)(["activeNodeStateKey"])),(0,i.mapGetters)(["activeNode","activeNodeOtherStateOptions"])),{},{stateKey:function(){var e;return null!==(e=this.customStateKey)&&void 0!==e?e:this.activeNodeStateKey},stateOptions:function(){var e;return null!==(e=this.customStateOptions)&&void 0!==e?e:this.activeNodeOtherStateOptions},options:function(){return a(a({},this.activeNode.options),this.stateOptions)},curStateKeys:function(){var e=this;return Object.keys(this.activeNode.options).filter((function(t){return t.startsWith(e.stateKey)}))},isModified:function(){return this.curStateKeys.length},compFormHelpers:function(){return{setImgSize:function(){}}},customMethods:function(){return{updateStyle:function(){},updateEditOptions:function(){}}}}),methods:a(a({},(0,i.mapActions)(["updateNodeOptions"])),{},{clearCurOtherState:function(){var e=a({},this.activeNode.options);this.curStateKeys.forEach((function(t){delete e[t]})),this.updateNodeOptions({reset:!0,options:e})}})};t.default=u},function(e,t,n){"use strict";n.r(t);var r=n(639),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(43),i=s(n(2232)),o=s(n(2233)),a=s(n(1332));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d={components:{ConfigForm:i.default,StyleForm:o.default,OptionsForm:a.default},computed:l(l({},(0,r.mapState)(["lang"])),(0,r.mapGetters)(["activeState"])),methods:l({},(0,r.mapMutations)(["updateActiveNodeStateKey"]))};t.default=d},function(e,t,n){"use strict";n.r(t);var r=n(641),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={components:{ConfigFormItem:((r=n(1328))&&r.__esModule?r:{default:r}).default}};t.default=i},function(e,t,n){"use strict";n.r(t);var r=n(643),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=n(43);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u={components:{StyleFormItem:((r=n(1330))&&r.__esModule?r:{default:r}).default},computed:a(a({},(0,i.mapGetters)(["activeNode"])),{},{boxStyle:function(){return this.activeNode.boxStyle}})};t.default=u},function(e,t,n){"use strict";n.r(t);var r=n(645),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=n(43);function o(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c={components:{LinkFormItem:((r=n(2235))&&r.__esModule?r:{default:r}).default},computed:u(u(u({},(0,i.mapState)(["compList","baseInfo","platMsg"])),(0,i.mapGetters)(["activeNode","canLinkList"])),{},{linkMsgList:function(){return this.activeNode.otherOptions.linkMsgList||[]}}),methods:u(u({},(0,i.mapActions)(["updateNodeOtherOptions"])),{},{pushEventConfig:function(){this.updateNodeOtherOptions({options:{linkMsgList:[].concat(o(this.linkMsgList),[{state:{},paramStateMap:{},target:"",fastSync:"",stateKey:"",name:void 0}])}})},handleDeleteEvent:function(e){var t=o(this.linkMsgList);t.splice(e,1),this.updateNodeOtherOptions({options:{linkMsgList:t}})}})};t.default=c},function(e,t,n){"use strict";n.r(t);var r=n(647),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=n(43),o=(r=n(1228))&&r.__esModule?r:{default:r};function a(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d={props:{linkMsg:{type:Object,default:function(){return{}}},canLinkList:{type:Object,default:function(){return{}}}},data:function(){return{booleanList:[{label:"yes",value:!0},{label:"no",value:!1},{label:"忽略",value:null}]}},computed:l(l(l({},(0,i.mapState)(["baseInfo","compList"])),(0,i.mapGetters)(["mapNodes","activeNode"])),{},{target:{get:function(){return this.linkMsg.target},set:function(e){var t;e!==this.linkMsg.target&&(this.$set(this.linkMsg,"target",e),this.$set(this.linkMsg,"state",{}),this.$set(this.linkMsg,"paramStateMap",this.paramStateMap),this.$set(this.linkMsg,"fastSync",""),this.$set(this.linkMsg,"name",null===(t=this.curFastSyncMsg)||void 0===t?void 0:t.name))}},paramStateMap:function(){var e=this,t={};return Object.keys(this.targetStateDeclarations).forEach((function(n){t[n]={linkType:e.targetStateDeclarations[n].linkType||o.default.DEFAULT}})),t},curFastSyncMsg:function(){var e;return null===(e=this.canLinkList[this.target])||void 0===e?void 0:e.fastSync},state:{get:function(){return this.linkMsg.stateKey},set:function(e){this.$set(this.linkMsg,"stateKey",e)}},stateItemList:function(){return this.activeNode.otherOptions.stateList||[]},targetStateDeclarations:function(){return this.target?this.canLinkList[this.target].linkStateMsg:{}},sourceDeclarationsEmitters:function(){var e,t,n=this.mapNodes[this.activeNode.id];if(!n)return[];var r=(null===(e=this.compList[n.name].main.declarations)||void 0===e||null===(t=e.event)||void 0===t?void 0:t.emitters)||[];return[{label:"无",name:""}].concat(a(r))},stateList:function(){var e=this;if(this.target)return Object.keys(this.linkMsg.state).map((function(t){return{key:t,val:e.linkMsg.state[t]}}))}}),methods:{handleChange:function(e,t){var n=t.type,r=t.key;"number"===n&&(e=Number(e))!=e&&(e=void 0),this.$set(this.linkMsg.state,r,e)}}};t.default=d},function(e,t,n){"use strict";n.r(t);var r=n(649),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(43),i=a(n(2237)),o=a(n(2243));function a(e){return e&&e.__esModule?e:{default:e}}function s(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f={components:{EnvLinkFormItem:i.default},data:function(){return{canLinkList:o.default}},computed:c(c(c({},(0,r.mapState)(["compList","baseInfo"])),(0,r.mapGetters)(["activeNode","dfsNodes"])),{},{envStateList:function(){return this.activeNode.otherOptions.envStateList||[]}}),methods:c(c({},(0,r.mapActions)(["updateNodeOtherOptions"])),{},{getDefaultData:function(){return{stateKey:"",type:void 0}},pushEventConfig:function(){this.updateNodeOtherOptions({options:{envStateList:[].concat(s(this.envStateList),[this.getDefaultData()])}})},handleResetEvent:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=s(this.envStateList);if(t){var r=n[e],i=r.stateKey,o=r.type;n.splice(e,1,{stateKey:i,type:o})}else n.splice(e,1);this.updateNodeOtherOptions({options:{envStateList:n}})}})};t.default=f},function(e,t,n){"use strict";n.r(t);var r=n(651),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=n(43),o=(r=n(2238))&&r.__esModule?r:{default:r},a=n(1334);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c={components:{StateItem:o.default},props:{linkMsg:{type:Object,default:function(){return{}}},canLinkList:{type:Object,default:function(){return{}}}},computed:u(u(u({},(0,i.mapState)(["baseInfo","compList"])),(0,i.mapGetters)(["mapNodes","activeNode"])),{},{type:{get:function(){return this.linkMsg.type},set:function(e){if(e!==this.linkMsg.type){this.$set(this.linkMsg,"type",e);var t=this.formType;this.typeChangeHandler(t)}}},state:{get:function(){return this.linkMsg.stateKey},set:function(e){this.$set(this.linkMsg,"stateKey",e)}},declarations:function(){return this.canLinkList[this.type]},formType:function(){var e;return null===(e=this.declarations)||void 0===e?void 0:e.formType},stateItemList:function(){return this.activeNode.otherOptions.stateList||[]}}),methods:{typeChangeHandler:function(e){var t,n=this;this.$emit("handleResetEvent");var r={time:{timeType:"normal",startTime:null,endTime:null,timeZone:null!==(t=1===this.baseInfo.bizList.length?(0,a.getDefaultZone)(this.baseInfo.bizList[0]):void 0)&&void 0!==t?t:8,timeMap:{}},default:{val:null,key:null,equal:!0}},i=r[e]||r.default;Object.keys(i).forEach((function(e){n.$set(n.linkMsg,e,i[e])}))}}};t.default=c},function(e,t,n){"use strict";n.r(t);var r=n(653),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(2239)),i=o(n(2240));function o(e){return e&&e.__esModule?e:{default:e}}var a={components:{NormalStateItem:r.default,TimeStateItem:i.default},props:{declarations:{type:Object},linkMsg:{type:Object,default:function(){return{}}}}};t.default=a},function(e,t,n){"use strict";n.r(t);var r=n(655),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={props:{declarations:{type:Object,default:function(){return{}}},linkMsg:{type:Object,default:function(){return{}}}},computed:{formType:function(){return this.declarations.formType||""}},methods:{handleChange:function(e,t){this.$set(this.linkMsg,t,e)}}};t.default=r},function(e,t,n){"use strict";n.r(t);var r=n(657),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=n(43),o=(r=n(2241))&&r.__esModule?r:{default:r},a=n(1334);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c={components:{TimeSelector:o.default},props:{declarations:{type:Object,default:function(){return{}}},linkMsg:{type:Object,default:function(){return{}}}},data:function(){return{timeTypeList:[{label:"对应时区时间",value:"normal"},{label:"页面投放当地时间",value:"local"},{label:"不同区服自定义",value:"biz"}]}},computed:u(u({},(0,i.mapState)(["baseInfo"])),{},{timeZone:function(){return"normal"===this.linkMsg.timeType?this.linkMsg.timeZone:void 0}}),methods:{handleTimeChange:function(e){var t=e.val,n=e.key,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.linkMsg;this.$set(r,n,t)},handlerZoneChange:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.linkMsg;this.$set(t,"timeZone",e)},handlerTimeTypeChange:function(e){var t=this,n=u({},this.linkMsg.timeMap);"biz"===e&&this.baseInfo.bizList.forEach((function(e){var r;n[e]||(n[e]={startTime:null,endTime:null,timeZone:null!==(r=(0,a.getDefaultZone)(e))&&void 0!==r?r:t.linkMsg.timeZone})})),this.linkMsg.timeMap=n}}};t.default=c},function(e,t,n){"use strict";n.r(t);var r=n(659),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(1276)),i=o(n(1277));function o(e){return e&&e.__esModule?e:{default:e}}var a={components:{ZeroZoneTimeSelector:r.default,ZoneSelector:i.default},props:{startTime:{type:Number,default:null},endTime:{type:Number,default:null},timeZone:{require:!0,type:Number}},computed:{sTime:{get:function(){return this.startTime},set:function(e){this.$emit("timeChange",{key:"startTime",val:e})}},eTime:{get:function(){return this.endTime},set:function(e){this.$emit("timeChange",{key:"endTime",val:e})}}}};t.default=a},function(e,t,n){"use strict";n.r(t);var r=n(661),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=n(43);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u={components:{EventFormItem:((r=n(2245))&&r.__esModule?r:{default:r}).default},computed:a(a(a({},(0,i.mapState)(["baseInfo","activeNodeId"])),(0,i.mapGetters)(["activeNode","declarations"])),{},{eventsConfig:function(){return this.activeNode.events||[]},resetCompareData:function(){var e;return{enable:!1,compareSymbol:null===(e=this.declarations.compareSymbolMap)||void 0===e?void 0:e.EQUAL,compareValue:void 0}}}),methods:a(a({},(0,i.mapActions)(["updateNodeConfig","updateNodeEvents"])),{},{itemChange:function(e,t){this.updateNodeEvents({options:e,index:t})},handleDeleteEvent:function(e){this.updateNodeEvents({index:e,del:!0})},pushEventConfig:function(){var e={source:this.activeNodeId,compare:a({},this.resetCompareData),emitter:void 0,target:this.baseInfo.publish_key,listener:void 0,data:void 0};this.updateNodeEvents({options:e})}})};t.default=u},function(e,t,n){"use strict";n.r(t);var r=n(663),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=n(43),o=n(92);function a(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d={components:{customActionDataForm:((r=n(2246))&&r.__esModule?r:{default:r}).default},props:{value:{type:Object,default:function(){return{}}},resetCompareData:{type:Object,default:function(){return{}}}},computed:l(l(l({},(0,i.mapState)(["activeNodeId","compList","baseInfo","platMsg"])),(0,i.mapGetters)(["activeCompMain","compListArray","dfsNodes","mapNodes","activeNode","declarations","isFullScreen"])),{},{compareSymbolMap:function(){return this.declarations.compareSymbolMap||{}},sourceDeclarationsEmitters:function(){var e,t;if(this.source===this.baseInfo.publish_key){var n,r,i=(null===(n=this.declarations.globalEvents)||void 0===n||null===(r=n.allPage)||void 0===r?void 0:r.emitters)||[];if(this.isFullScreen){var o,s,u=(null===(o=this.declarations.globalEvents)||void 0===o||null===(s=o.fullScreen)||void 0===s?void 0:s.emitters)||[];i=[].concat(a(u),a(i))}return i}var l=this.mapNodes[this.source];return l&&(null===(e=this.compList[l.name].main.declarations)||void 0===e||null===(t=e.event)||void 0===t?void 0:t.emitters)||[]},targetDeclarationsMethods:function(){var e,t,n=this,r=this.declarations.globalEvents;if(this.target===this.baseInfo.publish_key){var i,s=(null==r||null===(i=r.allPage)||void 0===i?void 0:i.methods)||[];if(this.isFullScreen){var u,l=(null==r||null===(u=r.fullScreen)||void 0===u?void 0:u.methods)||[];s=[].concat(a(l),a(s))}else{var c,d=(null==r||null===(c=r.normalPage)||void 0===c?void 0:c.methods)||[];s=[].concat(a(d),a(s))}return s.filter((function(e){return!e.version||(0,o.compareVersion)(n.baseInfo.buildVer,"ge",e.version)}))}var f=this.mapNodes[this.target];return f&&(null===(e=this.compList[f.name].main.declarations)||void 0===e||null===(t=e.event)||void 0===t?void 0:t.methods)||[]},eventNodes:function(){var e=a(this.dfsNodes);return e.unshift(l(l({},e.splice(e.indexOf(this.activeNode),1)[0]),{},{alias:"【当前节点】"})),[{id:this.baseInfo.publish_key,alias:"【全局】"}].concat(a(e))},source:{get:function(){return this.value.source||this.activeNode.id},set:function(e){this.$emit("input",l(l({},this.value),{},{emitter:void 0,source:e}))}},compareSymbol:{get:function(){return this.value.compare.compareSymbol},set:function(e){this.$emit("input",l(l({},this.value),{},{compare:l(l({},this.value.compare),{},{compareSymbol:e})}))}},compareValue:{get:function(){return this.value.compare.compareValue},set:function(e){this.$emit("input",l(l({},this.value),{},{compare:l(l({},this.value.compare),{},{compareValue:"string"==typeof e?e.trim():e})}))}},emitter:{get:function(){var e;return null===(e=this.value)||void 0===e?void 0:e.emitter},set:function(e){this.$emit("input",l(l({},this.value),{},{emitter:e})),"click"!==e||this.activeNodeId!==this.source||this.activeNode.boxStyle.cursor||this.updateNodeBoxStyle({options:{cursor:"pointer"}})}},compareEnable:{get:function(){return this.value.compare.enable},set:function(e){this.value.compare||this.$emit("input",l(l({},this.value),{},{compare:l({},this.resetCompareData)})),this.value.compare.enable=e}},target:{get:function(){var e;return null===(e=this.value)||void 0===e?void 0:e.target},set:function(e){this.$emit("input",l(l({},this.value),{},{listener:void 0,target:e}))}},listener:{get:function(){var e;return null===(e=this.value)||void 0===e?void 0:e.listener},set:function(e){this.$emit("input",l(l({},this.value),{},{data:void 0,listener:e}))}},eventData:{get:function(){var e;return null===(e=this.value)||void 0===e?void 0:e.data},set:function(e){this.$emit("input",l(l({},this.value),{},{data:e}))}},delay:{get:function(){var e;return(null===(e=this.value)||void 0===e?void 0:e.delay)||0},set:function(e){this.$emit("input",l(l({},this.value),{},{delay:e||void 0}))}},showMi18nButton:function(){return this.baseInfo.mi18n.key&&"object"!==this.nowListenerType},mi18n:{get:function(){return Boolean(this.value.mi18n)},set:function(e){this.$emit("input",l(l({},this.value),{},{mi18n:e}))}},nowListenerType:function(){var e,t=this;return(null===(e=this.targetDeclarationsMethods.find((function(e){return e.name===t.listener})))||void 0===e?void 0:e.dataType)||"string"}}),methods:l({},(0,i.mapActions)(["updateNodeBoxStyle"]))};t.default=d},function(e,t,n){"use strict";n.r(t);var r=n(665),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";function r(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u={name:"CustomActionDataForm",props:{eventType:{type:String,default:"default"},value:{type:[String,Object],default:""}},data:function(){return{}},computed:{statVal:{get:function(){return"statTrackEvent"===this.eventType&&this.value?this.value.split(",").concat(Array(4).fill("")).slice(0,4):Array(4).fill("")},set:function(e){var t=e.join(",");this.$emit("input",t)}},copyVal:{get:function(){return"copy"===this.eventType&&this.value?a({},this.value):{text:"",stext:""}},set:function(e){this.$emit("input",e)}}},mounted:function(){},methods:{handleInputStat:function(e,t){var n=r(this.statVal);n[t]=e,this.statVal=n},handleInputCopy:function(e,t){this.copyVal=a(a({},this.copyVal),{},s({},t,e))}}};t.default=u},function(e,t,n){"use strict";n.r(t);var r=n(667),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=n(43);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u={components:{transitionForm:((r=n(857))&&r.__esModule?r:{default:r}).default},data:function(){return{showTransitionForm:!1,currentDialogTransitionMsg:{},isUpdateTransition:!1,editKey:""}},computed:a(a({},(0,i.mapGetters)(["activeNode"])),{},{otherOptions:function(){return this.activeNode.otherOptions||{}},transitions:function(){return this.activeNode.otherOptions.transitions},aliasName:{get:function(){return this.currentDialogTransitionMsg.aliasName||this.currentDialogTransitionMsg.name||""},set:function(e){this.currentDialogTransitionMsg.aliasName=e}}}),methods:a(a({},(0,i.mapActions)(["updateNodeOtherOptions","updateNodeModId"])),{},{openCreateTransitionDialog:function(){this.currentDialogTransitionMsg={aliasName:"",hover:!1,duration:"300",timingFunction:"ease-in-out"},this.showTransitionForm=!0,this.isUpdateTransition=!1},editTransitionDialog:function(e){this.currentDialogTransitionMsg=a({},this.transitions[e]),this.editKey=e,this.showTransitionForm=!0,this.isUpdateTransition=!0},createTransition:function(){if(this.isUpdateTransition)return this.updateNodeOtherOptions({options:{transitions:a(a({},this.otherOptions.transitions),{},s({},this.editKey,a(a({},this.currentDialogTransitionMsg),{},{aliasName:this.aliasName})))}}),void(this.showTransitionForm=!1);var e=this.activeNode.modId;this.updateNodeOtherOptions({options:{transitions:a(a({},this.otherOptions.transitions),{},s({},"transition".concat(e),a(a({},this.currentDialogTransitionMsg),{},{aliasName:this.aliasName})))}}),this.updateNodeModId(),this.showTransitionForm=!1},handleDelete:function(e,t){e.preventDefault();var n=a({},this.transitions);delete n[t],this.updateNodeOtherOptions({options:{transitions:n}})},updateStyles:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.currentDialogTransitionMsg=a(a({},this.currentDialogTransitionMsg),{},{styles:a(a({},this.currentDialogTransitionMsg.styles||{}),e)})},updateConfig:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.currentDialogTransitionMsg=a(a({},this.currentDialogTransitionMsg),e)},initConfig:function(e){var t=this.currentDialogTransitionMsg,n=t.aliasName,r=t.hover;this.currentDialogTransitionMsg=a(a({},e),{},{aliasName:n,hover:r})}})};t.default=u},function(e,t,n){"use strict";n.r(t);var r=n(669),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(858))&&r.__esModule?r:{default:r};function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u={props:{value:{type:Object,default:function(){return{}}}},data:function(){return{formList:a({none:{label:"无"}},i.default),timingFunctionList:[{label:"默认",value:"ease"},{label:"缓入",value:"ease-in"},{label:"缓出",value:"ease-out"},{label:"缓入缓出",value:"ease-in-out"}]}},computed:{styles:function(){return this.value.styles},curComponent:function(){if("none"!==this.transitionName)return{is:n(2249)("./".concat(this.transitionName)).default}},duration:{get:function(){return Number(this.value.duration)||300},set:function(e){this.$emit("updateConfig",{duration:String(e)})}},transitionName:{get:function(){return this.value.name||"none"},set:function(e){var t,n;"none"!==e&&(t=a(a({},null===(n=this.formList[e])||void 0===n?void 0:n.initConfig),{},{name:e,duration:String(this.duration),timingFunction:this.timingFunction}));this.$emit("initConfig",t)}},timingFunction:{get:function(){return this.value.timingFunction||""},set:function(e){this.$emit("updateConfig",{timingFunction:e||"ease-in-out"})}}}};t.default=u},function(e,t,n){"use strict";n.r(t);var r=n(671),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={props:{value:{type:Object,required:!0,default:function(){return{}}}},data:function(){return{num:0}},watch:{"value.opacity":{handler:function(e){e=Number(e),Number(e)!==this.num&&(this.num=e)},immediate:!0}},methods:{change:function(e){this.$emit("updateStyles",{opacity:String(e)})}}};t.default=r},function(e,t,n){"use strict";n.r(t);var r=n(673),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(225),i={props:{value:{type:Object,required:!0,default:function(){return{}}}},data:function(){return{num:0}},watch:{"value.transform":{handler:function(e){(e=(0,r.formatScale)(e))!==this.num&&(this.num=e)},immediate:!0}},methods:{change:function(e){this.$emit("updateStyles",{transform:"scale(".concat(e,")")})}}};t.default=i},function(e,t,n){"use strict";n.r(t);var r=n(675),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(225),i=o(n(127));function o(e){return e&&e.__esModule?e:{default:e}}var a={components:{Num:o(n(132)).default},props:{value:{type:Object,required:!0,default:function(){return{}}}},data:function(){return{}},computed:{units:function(){return i.default.unit.filter((function(e){return"calc"!==e.value}))},xLength:{get:function(){var e;return(null===(e=(0,r.formatTranslate)(this.value.transform))||void 0===e?void 0:e.x.value)||"0rem"},set:function(e){this.$emit("updateStyles",{transform:"translate(".concat(e,",").concat(this.yLength,")")})}},yLength:{get:function(){var e;return(null===(e=(0,r.formatTranslate)(this.value.transform))||void 0===e?void 0:e.y.value)||"0rem"},set:function(e){this.$emit("updateStyles",{transform:"translate(".concat(this.xLength,",").concat(e,")")})}}}};t.default=a},function(e,t,n){"use strict";n.r(t);var r=n(677),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(859)),i=o(n(860));function o(e){return e&&e.__esModule?e:{default:e}}var a={components:{Fade:r.default,Slide:i.default},props:{value:{type:Object,required:!0,default:function(){return{}}}},data:function(){return{}}};t.default=a},function(e,t,n){"use strict";n.r(t);var r=n(679),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(43);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s={computed:o(o({},(0,r.mapGetters)(["activeNode"])),{},{otherOptions:function(){return this.activeNode.otherOptions||{}},transitions:function(){return this.otherOptions.transitions||{}},transitionEnter:function(){return this.otherOptions.transitionEnter||{}},transitionLeave:function(){return this.otherOptions.transitionLeave||{}},transitionEnterKey:{get:function(){return this.transitionEnter.transitionKey},set:function(e){this.updateNodeOtherOptions({options:{transitionEnter:o(o({},this.transitionEnter),{},{transitionKey:e})}})}},transitionLeaveKey:{get:function(){return this.transitionLeave.transitionKey},set:function(e){this.updateNodeOtherOptions({options:{transitionLeave:o(o({},this.transitionLeave),{},{transitionKey:e})}})}}}),methods:o({},(0,r.mapActions)(["updateNodeOtherOptions"]))};t.default=s},function(e,t,n){"use strict";n.r(t);var r=n(681),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=n(43);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u={components:{AnimationForm:((r=n(862))&&r.__esModule?r:{default:r}).default},computed:a(a({},(0,i.mapGetters)(["activeNode"])),{},{otherOptions:function(){return this.activeNode.otherOptions||{}},animation:function(){return this.otherOptions.animation||{}}}),methods:a(a({},(0,i.mapActions)(["updateNodeOtherOptions"])),{},{updateParams:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.otherOptions.animation||{};this.updateNodeOtherOptions({options:{animation:a(a({},t),{},{params:a(a({},t.params||{}),e)})}})},updateConfig:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.otherOptions.animation||{};this.updateNodeOtherOptions({options:{animation:a(a({},t),e)}})},initConfig:function(e){this.updateNodeOtherOptions({options:{animation:e}})}})};t.default=u},function(e,t,n){"use strict";n.r(t);var r=n(683),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(863))&&r.__esModule?r:{default:r};function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u={props:{value:{type:Object,default:function(){return{}}}},data:function(){return{formList:a({none:{label:"无"}},i.default)}},computed:{params:function(){return this.value.params},curComponent:function(){if("none"!==this.animationName)return{is:n(2252)("./".concat(this.animationName)).default}},animationName:{get:function(){return this.value.name||"none"},set:function(e){var t,n;"none"!==e&&(t=a(a({},null===(n=this.formList[e])||void 0===n?void 0:n.initConfig),{},{name:e}));this.$emit("initConfig",t)}}}};t.default=u},function(e,t,n){"use strict";n.r(t);var r=n(685),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={props:{value:{type:Object,required:!0,default:function(){return{}}}},data:function(){return{ease:void 0}},computed:{start:{get:function(){return Number(this.value.start||0)},set:function(e){this.$emit("updateParams",{start:String(e||0)})}},end:{get:function(){return Number(this.value.end||0)},set:function(e){this.$emit("updateParams",{end:String(e||0)})}},duration:{get:function(){var e;return(null===(e=this.value.duration)||void 0===e?void 0:e.length)&&Number(this.value.duration.slice(0,-2))||2e3},set:function(e){this.$emit("updateParams",{duration:"".concat(e,"ms")})}}},watch:{"value.ease":{handler:function(e){e!==this.ease&&(this.ease=e)},immediate:!0}},methods:{easeChange:function(e){this.$emit("updateParams",{ease:e})}}};t.default=r},function(e,t,n){"use strict";n.r(t);var r=n(687),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={props:{value:{type:Object,required:!0,default:function(){return{}}}},data:function(){return{ease:void 0}},computed:{direction:{get:function(){return"normal"!==this.value.direction},set:function(e){this.$emit("updateParams",{direction:e?"reverse":"normal"})}},duration:{get:function(){var e;return(null===(e=this.value.duration)||void 0===e?void 0:e.length)&&Number(this.value.duration.slice(0,-2))||2e3},set:function(e){this.$emit("updateParams",{duration:"".concat(e,"ms")})}}},watch:{"value.ease":{handler:function(e){e!==this.ease&&(this.ease=e)},immediate:!0}},methods:{easeChange:function(e){this.$emit("updateParams",{ease:e})}}};t.default=r},function(e,t,n){"use strict";n.r(t);var r=n(689),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(127));function i(e){return e&&e.__esModule?e:{default:e}}var o={components:{Num:i(n(132)).default},props:{value:{type:Object,required:!0,default:function(){return{}}}},data:function(){return{ease:void 0}},computed:{units:function(){return r.default.unit.filter((function(e){return"calc"!==e.value}))},start:{get:function(){return this.value.start||"0rem"},set:function(e){this.$emit("updateParams",{start:e})}},end:{get:function(){return this.value.end||"0rem"},set:function(e){this.$emit("updateParams",{end:e})}},duration:{get:function(){var e;return(null===(e=this.value.duration)||void 0===e?void 0:e.length)&&Number(this.value.duration.slice(0,-2))||2e3},set:function(e){this.$emit("updateParams",{duration:"".concat(e,"ms")})}}},watch:{"value.ease":{handler:function(e){e!==this.ease&&(this.ease=e)},immediate:!0}},methods:{easeChange:function(e){this.$emit("updateParams",{ease:e})}}};t.default=o},function(e,t,n){"use strict";n.r(t);var r=n(691),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=n(2256),o=(r=n(1249))&&r.__esModule?r:{default:r};function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u={props:{lang:{type:String,default:"javascript"},value:{type:String,default:""},options:{type:Object,default:function(){return{}}}},data:function(){return{codeEditor:null}},watch:{value:function(e){this.codeEditor&&e!==this.codeEditor.getValue()&&this.codeEditor.setValue(e||"")}},mounted:function(){this.init()},methods:{init:function(){var e=this.lang;this.codeEditor=i.editor.create(this.$el,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({language:e||"javascript",value:this.value,theme:"vs-dark",lineNumbers:"javascript"===e?"on":"off",lineNumbersMinChars:3,scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:5,horizontalScrollbarSize:5},foldingHighlight:!0},this.options)),this.codeEditor.onDidChangeModelContent((0,o.default)(this.onChange,1e3))},onChange:function(){this.$emit("change",this.codeEditor.getValue())}}};t.default=u},function(e,t,n){"use strict";n.r(t);var r=n(693),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(465))&&r.__esModule?r:{default:r};function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){u(o,r,i,a,s,"next",e)}function s(e){u(o,r,i,a,s,"throw",e)}a(void 0)}))}}var c={name:"PageTemplate",data:function(){return{queryForm:{search:""},modalVisible:!1,tempInfo:{id:"",name:"",img:""},isSubmitting:!1,list:[],pagination:{ps:10,pn:1,total:100}}},mounted:function(){this.init()},methods:{init:function(){var e=this;return l(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.default.getTemplateList({page:e.pagination.pn,limit:e.pagination.limit,search:e.queryForm.search});case 3:n=t.sent,console.log("getTemplateList: ",n),e.pagination.total=n.count,e.list=n.list,t.next=11;break;case 9:t.prev=9,t.t0=t.catch(0);case 11:case"end":return t.stop()}}),t,null,[[0,9]])})))()},handleDel:function(e){var t=this;return l(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.$confirm("是否删除模板: ".concat(e.template_name,"？"),"提示",{type:"warning"});case 3:return n.next=5,i.default.deleteTemplate({id:e.id});case 5:t.init(),n.next=10;break;case 8:n.prev=8,n.t0=n.catch(0);case 10:case"end":return n.stop()}}),n,null,[[0,8]])})))()},handPageChange:function(e){this.pagination.pn=e,this.init()},handleEdit:function(e){this.isSubmitting=!1,this.modalVisible=!0,this.tempInfo=e},onSearchSubmit:function(){this.pagination.page=1,this.init()},handleEditSubmit:function(e){var t=this;return l(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.tempInfo=e,t.isSubmitting=!0,n.next=4,i.default.updateTemplate(a({},e));case 4:t.init(),t.isSubmitting=!1,t.modalVisible=!1;case 7:case"end":return n.stop()}}),n)})))()}}};t.default=c},function(e,t,n){"use strict";n.r(t);var r=n(695),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={name:"App",beforeCreate:function(){}}},function(e,t,n){"use strict";n.r(t);var r=n(697),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(43),i=a(n(462)),o=a(n(2429));function a(e){return e&&e.__esModule?e:{default:e}}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){c(o,r,i,a,s,"next",e)}function s(e){c(o,r,i,a,s,"throw",e)}a(void 0)}))}}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}var h={components:{codeMode:function(){return Promise.resolve().then((function(){return function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==s(e)&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(1343))}))},ResourceDialog:a(n(2433)).default},data:function(){return{codeModeInited:!1,codeModeDialogVisible:!1,resourceListDialogVisible:!1,codeModeVal:"",editList:[]}},computed:p(p({},(0,r.mapState)(["baseInfo","nodes","platMsg","mi18nAdminUrl","canvasTransformData"])),{},{inited:function(){return!!this.baseInfo.id},pageConfig:function(){return JSON.stringify({baseInfo:this.baseInfo,platMsg:this.platMsg,nodes:this.nodes},null,2)},dirty:function(){return this.codeModeVal&&this.pageConfig!==this.codeModeVal},eventId:function(){return this.$route.params.eventId},templateId:function(){return this.$route.params.templateId}}),methods:p(p(p({},(0,r.mapMutations)(["updateNodes"])),(0,r.mapActions)(["handleZoomIn","handleZoomOut"])),{},{handleEditList:function(){this.getEventVersionList()},handleUndo:function(){this.$gemit("undo")},handleRedo:function(){this.$gemit("redo")},handleOpenCodeMode:function(){this.codeModeInited=!0,this.codeModeDialogVisible=!0},confirmChangePageConfig:function(){var e=this;return d(regeneratorRuntime.mark((function t(){var n,r,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.dirty){t.next=3;break}return e.codeModeDialogVisible=!1,t.abrupt("return");case 3:return t.next=5,e.$async(e.$confirm("确认更新页面配置?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}));case 5:if(n=t.sent,r=u(n,1),!r[0]){t.next=10;break}return t.abrupt("return");case 10:i=JSON.parse(e.codeModeVal),e.$store.commit("updateBaseInfo",i.baseInfo),e.$store.commit("initPlatMsg",{platMsg:i.platMsg}),e.updateNodes({newNodes:i.nodes}),e.codeModeDialogVisible=!1;case 15:case"end":return t.stop()}}),t)})))()},handleOpenResource:function(){this.resourceListDialogVisible=!0},onCodeChange:function(e){this.codeModeVal=e},handleConfirm:function(e){var t=this;return d(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.rollbackEventVersion(e.version);case 2:window.location.reload();case 3:case"end":return n.stop()}}),n)})))()},rollbackEventVersion:function(e){var t=this;return d(regeneratorRuntime.mark((function n(){var r,o,a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r={id:t.eventId,version:e},n.next=4,i.default.rollbackEventVersion(r);case 4:o=n.sent,a=o.list,t.editList=a,n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),console.error(n.t0);case 12:case"end":return n.stop()}}),n,null,[[0,9]])})))()},openFullScreen:function(){this.$commonModal(o.default,{transitionType:"scale",hasContainer:!1,closeCb:function(){document.exitFullscreen()}}).el.requestFullscreen()},getEventVersionList:function(){var e=this;return d(regeneratorRuntime.mark((function t(){var n,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n={id:e.eventId,page:1,limit:30},t.next=4,i.default.getEventVersionList(n);case 4:r=t.sent,o=r.list,e.editList=o,t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()}})};t.default=h},function(e,t,n){"use strict";n.r(t);var r=n(699),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={components:{PreviewIframe:((r=n(1266))&&r.__esModule?r:{default:r}).default},data:function(){return{iframeLoaded:!1}},methods:{onLoad:function(){this.iframeLoaded=!0}}};t.default=i},function(e,t,n){"use strict";n.r(t);var r=n(701),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(43),i=n(336),o=n(1223),a=u(n(1365)),s=u(n(2457));function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p={components:{Media:a.default,Upload:s.default},props:{value:{type:Boolean,default:!0}},data:function(){return{tabName:"image",searchCompenontAlias:"",searchUrl:"",RES_TYPE_LIST:i.RES_TYPE_LIST,RES_TYPE:i.RES_TYPE,allResources:{},typeResources:{},preloadNum:0,preloadIsChange:!1}},computed:d(d(d({},(0,r.mapState)(["baseInfo","platMsg","nodes"])),(0,r.mapGetters)(["platResources","dfsNodes"])),{},{curUploadLists:function(){var e=this,t=[],n=[],r={};return Object.values(this.allResources).forEach((function(i){var a,s=i.src;(i.fileMsg.startUpload&&t.push(s),i.fileMsg.uploadError&&n.push(s),i.fileMsg.url&&!e.isBlobUrl(i.fileMsg.url))&&(r[s]={url:i.fileMsg.url,extension:null===(a=(0,o.getResMsgByUrl)(i.fileMsg.url))||void 0===a?void 0:a[0].extension})})),{startUploadList:t,uploadErrorList:n,replaceUrlList:r}},filterResources:function(){var e=this.searchUrl.toLowerCase(),t=this.searchCompenontAlias.toLowerCase();if(!e&&!t)return this.typeResources;var n=d({},this.typeResources);return Object.keys(n).forEach((function(r){n[r]=n[r].filter((function(n){return n.src.toLowerCase().includes(e)&&n.compList.find((function(e){return e.name.toLowerCase().includes(t)}))}))})),n}}),created:function(){this.init()},beforeDestroy:function(){this.revokeAllObjectURL()},methods:d(d({},(0,r.mapMutations)(["updateBaseInfo","initPlatMsg","updateNodes"])),{},{init:function(){var e=this;this.preloadNum=this.platMsg.preloadNum,this.allResources=JSON.parse(JSON.stringify(this.platResources));var t={};Object.values(i.RES_TYPE).forEach((function(e){t[e]=[]})),Object.keys(this.allResources).forEach((function(n,r){var i=e.allResources[n];e.$set(i,"preload",i.preload||void 0),e.$set(i,"fileMsg",{url:"",file:void 0,name:"",startUpload:!1,uploadId:0,progerss:0,uploadError:!1}),e.$set(i,"index",r),t[i.type].push(i)})),this.typeResources=t},preventDragDefault:function(e){e.dataTransfer.dropEffect="none"},getCanUploadResType:function(e,t){return e!==i.RES_TYPE.IMAGE?".".concat(t):i.TYPE_RES_MAP[e].map((function(e){return".".concat(e)})).join(",")},isBlobUrl:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return 0===e.indexOf("blob:")},revokeAllObjectURL:function(){var e=this;Object.values(this.allResources).forEach((function(t){e.revokeObjectURL(t.fileMsg.src)}))},revokeObjectURL:function(e){this.isBlobUrl(e)&&URL.revokeObjectURL(e)},sortMethod:function(e,t){var n=e.index,r=t.index;return(e=Number(e.preload||e.autoPreload)||0)-(t=Number(t.preload||t.autoPreload)||0)==0?r-n:e-t},getrowClassName:function(e){var t=e.row,n=e.rowIndex;return"puzzle-res-".concat(t.type,"-").concat(n)},goToView:function(e){var t=this;this.searchCompenontAlias=this.searchUrl="";var n="upload"===e?this.curUploadLists.startUploadList[0]:this.curUploadLists.uploadErrorList[0];this.tabName=this.allResources[n].type,this.$nextTick((function(){var e=t.typeResources[t.tabName].findIndex((function(e){return e.src===n}));document.querySelector(".".concat(t.getrowClassName({row:{type:t.tabName},rowIndex:e}))).scrollIntoView({block:"center"}),t.$refs["table".concat(t.tabName)][0].setCurrentRow(t.allResources[n])}))},searcnChange:function(){var e=this;this.filterResources[this.tabName].length||Object.keys(this.filterResources).some((function(t){if(e.filterResources[t].length)return e.tabName=t,!0}))},preloadChange:function(e,t){t.preload=e,this.preloadIsChange=!0},changePreloadNum:function(e){var t=this;this.preloadNum=e,Object.values(this.allResources).forEach((function(n){var r=n.noPreload,i=n.type;!r&&"image"===i&&e>0?(e-=1,t.$set(n,"autoPreload",!0)):t.$set(n,"autoPreload",void 0)}))},checkUpload:function(){return this.curUploadLists.startUploadList.length?(this.goToView("upload"),this.$alert("请等待资源上传完毕后再进行保存","提示",{type:"warning"}),!1):!this.curUploadLists.uploadErrorList.length||(this.goToView("error"),this.$alert("有资源上传失败，请调整后再进行保存","提示",{type:"error"}),!1)},checkChanged:function(){var e=this.curUploadLists,t=e.startUploadList,n=e.uploadErrorList,r=e.replaceUrlList;return t.length||n.length||Object.keys(r).length||this.preloadIsChange},save:function(){var e=this;if(this.checkUpload())if(this.checkChanged()){var t={};Object.values(this.allResources).forEach((function(e){t[e.src]={type:e.type,preload:e.preload||void 0}}));var n=JSON.stringify({baseInfo:this.baseInfo,platMsg:d(d({},this.platMsg),{},{resources:t,preloadNum:this.preloadNum}),nodes:this.nodes});Object.keys(this.curUploadLists.replaceUrlList).forEach((function(t){var r=e.curUploadLists.replaceUrlList[t].url;n=n.replaceAll(t,r)})),n=JSON.parse(n);var r=this.$loading({text:"保存中"});this.$emit("close"),setTimeout((function(){e.updateBaseInfo(n.baseInfo),e.initPlatMsg({platMsg:n.platMsg}),e.updateNodes({newNodes:n.nodes}),r.close()}),200)}else this.$emit("close")},closeHandler:function(){var e,t=this;return(e=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.checkChanged()){e.next=10;break}return e.prev=1,e.next=4,t.$confirm("您的操作将不会被保存，确定要关闭吗？","提示",{type:"warning"});case 4:t.$emit("close"),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(1);case 9:return e.abrupt("return");case 10:t.$emit("close");case 11:case"end":return e.stop()}}),e,null,[[1,7]])})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){l(o,r,i,a,s,"next",e)}function s(e){l(o,r,i,a,s,"throw",e)}a(void 0)}))})()}})};t.default=p},function(e,t,n){"use strict";n.r(t);var r=n(703),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(336),i=a(n(2434)),o=a(n(2440));function a(e){return e&&e.__esModule?e:{default:e}}var s={components:{VideoPreview:i.default,PzAudio:o.default},props:{type:{type:String,default:""},src:{type:String,default:""},needPreview:{type:Boolean,default:!0},extension:{type:String},isBlob:{type:Boolean,default:!1}},data:function(){return{RES_TYPE:r.RES_TYPE,showVideoDialog:!1}},computed:{previewIcon:function(){return this.needPreview?this.type===r.RES_TYPE.IMAGE?"el-icon-zoom-in":[r.RES_TYPE.VIDEO,r.RES_TYPE.AUDIO].includes(this.type)?"el-icon-video-play":"":""},showPreviewIcon:function(){return this.needPreview&&[r.RES_TYPE.IMAGE,r.RES_TYPE.VIDEO].includes(this.type)}},methods:{openVideoDialog:function(){this.needPreview&&(this.showVideoDialog=!0)}}};t.default=s},function(e,t,n){"use strict";n.r(t);var r=n(705),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(2435)),i=o(n(2437));function o(e){return e&&e.__esModule?e:{default:e}}var a={props:{src:{type:String},type:{type:String,default:"normal"},autoplay:{type:Boolean,default:!1},controls:{type:Boolean,default:!1},muted:{type:Boolean,default:!0},isBlob:{type:Boolean,default:!1}},computed:{videoPlayer:function(){return"ts"===this.type?i.default:r.default}}};t.default=a},function(e,t,n){"use strict";n.r(t);var r=n(707),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={inheritAttrs:!1,props:{src:{type:String},autoplay:{type:Boolean,default:!0},controls:{type:Boolean,default:!0},loop:{type:Boolean,default:!1},muted:{type:Boolean}},computed:{params:function(){return{autoplay:this.autoplay?"autoplay":void 0,controls:this.controls?"controls":void 0,loop:this.loop?"loop":void 0}}},mounted:function(){var e=this;setTimeout((function(){var t;e.autoplay&&(null===(t=e.$refs.player)||void 0===t||t.play())}),0)},methods:{play:function(){var e;null===(e=this.$refs.player)||void 0===e||e.play()},pause:function(){var e;null===(e=this.$refs.player)||void 0===e||e.pause()}}};t.default=r},function(e,t,n){"use strict";n.r(t);var r=n(709),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(2438))&&r.__esModule?r:{default:r};var o={props:{src:{type:String,default:""},loop:{type:Boolean,default:!1},autoplay:{type:Boolean,default:!1},muted:{type:Boolean},isBlob:{type:Boolean}},data:function(){return{showPoster:!0}},mounted:function(){var e,t,n=this,r=this.$refs["video-canvas"];this.player=new i.default.Player(this.src,{canvas:r,autoplay:this.autoplay,loop:this.loop,audio:this.muted,pauseWhenHidden:!1,progressive:!this.isBlob,disableWebAssembly:!0,onSourceEstablished:function(){n.showPoster=!1},onEnded:function(){n.canvasEnded=!0},onPlay:function(){n.$emit("play")},onPause:function(){n.$emit("pause")}}),null===(e=this.player)||void 0===e||null===(t=e.audioOut)||void 0===t||t.unlock()},beforeDestroy:function(){var e,t=this;"function"==typeof(null===(e=this.player)||void 0===e?void 0:e.destroy)&&(this.pause(),setTimeout((function(){t.player.destroy()}),200))},methods:{play:function(){var e;null===(e=this.player)||void 0===e||e.play()},pause:function(){var e;null===(e=this.player)||void 0===e||e.pause()},playCanvasVideo:function(){this.canvasEnded&&(this.player.currentTime=0,this.play(),this.canvasEnded=!1)}}};t.default=o},function(e,t,n){"use strict";n.r(t);var r=n(711),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=n(2441),o=(r=n(2454))&&r.__esModule?r:{default:r};var a={name:"PzAudio",components:{bgAudio:i.bgAudio},props:{srcList:{type:Array,default:function(){return[]}}},data:function(){return{audioManage:void 0}},computed:{audioOptions:function(){return{cache:!1,autoplay:!1,loop:!1,doPlay:!1,src:this.srcList}},audio:function(){return this.$refs.audio}},created:function(){var e=this;this.audioManage=o.default.register({playState:!1,pause:function(){e.pause()},play:function(){e.play()}})},beforeDestroy:function(){var e;null===(e=this.audioManage)||void 0===e||e.destroy()},methods:{handleTap:function(e){e?this.pause():this.play()},onPlayed:function(e){var t;null===(t=this.audioManage)||void 0===t||t.changeState(e)},play:function(){var e;null===(e=this.audio)||void 0===e||e.play()},pause:function(){var e;null===(e=this.audio)||void 0===e||e.pause()}}};t.default=a},function(e,t,n){"use strict";n.r(t);var r=n(713),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=n(1359),o=n(336);function a(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}var s={components:{Media:((r=n(1365))&&r.__esModule?r:{default:r}).default},props:{accept:{type:String,default:""},fileMsg:{type:Object},isBlobUrl:{type:Function},revokeObjectURL:{type:Function},extension:{type:String},type:{type:String}},computed:{blobUrl:function(){return this.isBlobUrl(this.fileMsg.url)},uploadSuccess:function(){return this.fileMsg.url&&!this.blobUrl},stateIcon:function(){return this.uploadSuccess?{icon:"el-icon-success",color:"#67C23A",tip:"上传成功"}:this.fileMsg.uploadError?{icon:"el-icon-warning",color:"red",tip:"上传失败，点击重新上传"}:void 0}},methods:{checkFileSzie:function(e){if(!e)return!0;var t=e.size,n=!0;switch(this.type){case o.RES_TYPE.IMAGE:t>10485760&&(this.$alert("请上传10M以内的资源!","提示",{type:"error"}),n=!1);break;case o.RES_TYPE.VIDEO:t>104857600&&(this.$alert("请上传100M以内的资源!","提示",{type:"error"}),n=!1);break;case o.RES_TYPE.AUDIO:t>20971520&&(this.$alert("请上传20M以内的资源!","提示",{type:"error"}),n=!1)}return n},changeFile:function(e){var t,n=this;return(t=regeneratorRuntime.mark((function t(){var r,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.checkFileSzie(e)){t.next=2;break}return t.abrupt("return");case 2:return n.fileMsg.startUpload=!0,!0===n.fileMsg.uploadError&&(n.fileMsg.uploadError=!1),n.$refs.upload.clearFiles(),e&&(n.setFileMsgUrl(URL.createObjectURL(e.raw)),n.fileMsg.file=e.raw,n.fileMsg.name=e.name),n.fileMsg.uploadId+=1,r=n.fileMsg.uploadId,t.prev=8,t.next=11,n.upload(r);case 11:i=t.sent;case 12:if(t.prev=12,r===n.fileMsg.uploadId){t.next=15;break}return t.abrupt("return");case 15:if(n.cancelOrFinishCurUpload(),!i){t.next=19;break}return n.setFileMsgUrl(i),t.abrupt("return");case 19:return n.fileMsg.uploadError=!0,t.finish(12);case 21:case"end":return t.stop()}}),t,null,[[8,,12,21]])})),function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function s(e){a(o,r,i,s,u,"next",e)}function u(e){a(o,r,i,s,u,"throw",e)}s(void 0)}))})()},cancelOrFinishCurUpload:function(){this.fileMsg.uploadId+=1,this.fileMsg.startUpload=!1,this.fileMsg.progerss=0},setFileMsgUrl:function(e){this.revokeObjectURL(this.fileMsg.url),this.fileMsg.url=e},clearFile:function(){this.setFileMsgUrl(""),this.fileMsg.file=void 0,this.fileMsg.name=void 0,this.fileMsg.uploadError=!1,this.fileMsg.startUpload&&this.cancelOrFinishCurUpload()},upload:function(e){var t=this;return new Promise((function(n,r){(0,i.ossFileUpload)({biz:"puzzle",async:!0,env:"test",rowFile:t.fileMsg.file,onSuccess:function(e){n(e.data.url)},onError:function(e){r(e)},onProgress:function(n){e===t.fileMsg.uploadId&&(n.total?t.fileMsg.progerss=n.loaded/n.total*100||0:t.fileMsg.progerss=0)}})}))},reUpload:function(){this.fileMsg.uploadError&&this.changeFile()},dragOver:function(e){this.fileMsg.startUpload?e.dataTransfer.dropEffect="none":e.dataTransfer.dropEffect="copy"}}};t.default=s},function(e,t,n){"use strict";n.r(t);var r=n(715),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=n(43),o=(r=n(143))&&r.__esModule?r:{default:r};function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l={name:"TemplateCard",props:{item:{type:Object,default:function(){return{}}},showAction:{type:Boolean,default:!1},extraStyle:{type:Object,default:function(){return{}}},size:{type:String,default:"normal"}},data:function(){return{deviceMap:o.default.deviceMap,screenMap:o.default.screenMap,defaultCover:"https://webstatic-sea.hoyoverse.com/upload/event/2020/12/18/ef3b49863e3203fc87f70363ae0665b8_3444115010630571652.png"}},computed:s(s({},(0,i.mapGetters)(["bizMap"])),{},{screenMode:function(){var e;return null===(e=this.screenMap[this.item.screen_mode])||void 0===e?void 0:e.label},deviceMode:function(){var e;return null===(e=this.deviceMap[this.item.device_mode])||void 0===e?void 0:e.label}}),methods:{handleEditInfo:function(){this.$emit("edit",this.item)},handleEditTpl:function(){window.open(this.$router.resolve({name:"templateEdit",params:{templateId:this.item.id},query:{eventId:this.item.event_id}}).href)},handleDel:function(){this.$emit("delete",this.item)}}};t.default=l},function(e,t,n){"use strict";n.r(t);var r=n(717),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={name:"TemplateAddModal",props:{curItem:{type:Object,default:function(){return{}}},title:String,show:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},data:function(){return{templateForm:{id:this.curItem.id||0,template_name:this.curItem.template_name||"",cover:this.curItem.cover||""},formRules:{template_name:[{required:!0,message:"请填写模板名称",trigger:"blur"}],cover:[{required:!1,message:"请填写模板封面",trigger:"blur"}]},visible:this.show}},watch:{curItem:function(e){if(e){var t=e.id,n=e.template_name,r=e.cover;this.templateForm.id=t,this.templateForm.template_name=n,this.templateForm.cover=r}else this.resetForm()},show:function(e){this.visible=e}},methods:{resetForm:function(){this.templateForm.template_name="",this.templateForm.cover=""},handleSubmit:function(){var e=this;this.$refs.form.validate((function(t){t&&e.$emit("submit",e.templateForm)}))}}};t.default=r},function(e,t,n){"use strict";n.r(t);var r=n(719),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(2466));function i(e){return e&&e.__esModule?e:{default:e}}function o(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c={name:"CommonBackgroundForm",components:{bgConfigItem:i(n(2472)).default},props:{value:{type:[Object,Array],default:function(){}}},computed:{bgConfigList:{get:function(){var e,t=null===(e=this.value)||void 0===e?void 0:e.backgroundListConfig,n=t&&0!==(null==t?void 0:t.length),r=null==t?void 0:t.map((function(e,t){return u(u({},e),{},{id:t})}));return n?r:[]},set:function(e){this.$emit("update-mutil",e)}},backgroundColor:{get:function(){return this.value.backgroundColor||""},set:function(e){this.handleUpdateSingle({key:"backgroundColor",val:e})}}},methods:{addBgConfig:function(){var e,t=((null===(e=this.bgConfigList[this.bgConfigList.length-1])||void 0===e?void 0:e.id)||0)+1;this.bgConfigList=[].concat(o(this.bgConfigList),[{id:t}]).map((function(e){return(0,r.default)(e,["id"])}))},handleUpdateSingle:function(e){var t=e.key,n=e.val;this.$emit("update-single",t,n)},handleUpdateMutil:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{del:!1},t=e.key,n=e.val,i=e.del,a=arguments.length>1?arguments[1]:void 0,s=this.bgConfigList.findIndex((function(e){return e.id===a}));if(-1!==s){var u=this.bgConfigList[s],l=o(this.bgConfigList);i?l.splice(s,1):(u[t]=n,l.splice(s,1,u)),this.bgConfigList=l.map((function(e){return(0,r.default)(e,["id"])}))}}}};t.default=c},function(e,t,n){"use strict";n.r(t);var r=n(721),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={name:"BackgroundConfigItem",components:{bgForm:((r=n(2473))&&r.__esModule?r:{default:r}).default},props:{value:{type:[Object,Array],required:!0,default:function(){}},isShowDel:{type:Boolean,default:!0}},computed:{backgroundImage:{get:function(){return this.value.backgroundImage||""},set:function(e){this.handleUpdateData({key:"backgroundImage",val:e})}}},methods:{handleUpdateData:function(e){this.$emit("update-bg-data",e)}}};t.default=i},function(e,t,n){"use strict";n.r(t);var r=n(723),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(43);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s={name:"BackgroundForm",props:{value:{type:Object,required:!0,default:function(){}}},data:function(){return{backgroundPositionList:[{value:"top",label:"上"},{value:"bottom",label:"下"},{value:"left",label:"左"},{value:"right",label:"右"},{value:"center",label:"居中"}],backgroundRepeatList:[{value:"no-repeat",label:"不重复"},{value:"repeat-y",label:"y轴重复"},{value:"repeat-x",label:"x轴重复"},{value:"repeat",label:"两轴重复"}],backgroundAttachmentList:[{value:"scroll",label:"相对元素内容固定"},{value:"local",label:"相对元素固定"}],backgroundClipList:[{value:"border-box",label:"背景延伸至边框外沿"},{value:"padding-box",label:"背景延伸至内边距"},{value:"content-box",label:"背景被裁剪至内容区外沿"}],backgroundOriginList:[{value:"border-box",label:"背景图片的摆放以 border 区域为参考"},{value:"padding-box",label:"背景图片的摆放以 padding 区域为参考"},{value:"content-box",label:"背景图片的摆放以 content 区域为参考"}]}},computed:o(o({},(0,r.mapState)(["platform"])),{},{backgroundPosition:{get:function(){return this.value.backgroundPosition||"center"},set:function(e){this.emitUpdateData("backgroundPosition",e)}},backgroundSize:{get:function(){return this.value.backgroundSize||"cover"},set:function(e){this.emitUpdateData("backgroundSize",e)}},custombackgroundSizeHeight:{get:function(){var e=this.value.custombackgroundSizeHeight||0;return Math.round(100*e)},set:function(e){e=(e/100).toFixed(2),this.emitUpdateData("custombackgroundSizeHeight",e)}},custombackgroundSizeWidth:{get:function(){var e=this.value.custombackgroundSizeWidth||0;return Math.round(100*e)},set:function(e){e=(e/100).toFixed(2),this.emitUpdateData("custombackgroundSizeWidth",e)}},backgroundRepeat:{get:function(){return this.value.backgroundRepeat||"no-repeat"},set:function(e){this.emitUpdateData("backgroundRepeat",e)}},backgroundAttachment:{get:function(){return this.value.backgroundAttachment||"scroll"},set:function(e){this.emitUpdateData("backgroundAttachment",e)}},backgroundClip:{get:function(){return this.value.backgroundClip||"border-box"},set:function(e){this.emitUpdateData("backgroundClip",e)}},backgroundOrigin:{get:function(){return this.value.backgroundOrigin||"padding-box"},set:function(e){this.emitUpdateData("backgroundOrigin",e)}}}),methods:{emitUpdateData:function(e,t){this.$emit("update-data",{key:e,val:t})}}};t.default=s},function(e,t,n){"use strict";n.r(t);var r=n(725),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={inheritAttrs:!1}},function(e,t,n){"use strict";n.r(t);var r=n(727),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={inheritAttrs:!1}},function(e,t,n){"use strict";n.r(t);var r=n(729),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={inheritAttrs:!1}},function(e,t,n){"use strict";n.r(t);var r=n(731),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={inheritAttrs:!1,props:{value:{type:String,default:""}}};t.default=r},function(e,t,n){"use strict";n.r(t);var r=n(733),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={inheritAttrs:!1}},function(e,t,n){"use strict";n.r(t);var r=n(735),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={inheritAttrs:!1}},function(e,t,n){"use strict";n.r(t);var r=n(737),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t.default=i.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={inheritAttrs:!1,props:{value:{type:Boolean,default:!1}},computed:{val:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}}};t.default=r},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e){e.exports=JSON.parse('{"admin":"./lib/admin/index.js","adminLogin":"./lib/adminLogin/index.js"}')},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(783),i={log:function(){var e;(e=console)[r.Log].apply(e,arguments)},info:function(){var e;(e=console)[r.Info].apply(e,arguments)},warn:function(){var e;(e=console)[r.Warn].apply(e,arguments)},error:function(){var e;(e=console)[r.Error].apply(e,arguments)}};t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Warn=t.Log=t.Info=t.Error=void 0;t.Log="log";t.Info="info";t.Warn="warn";t.Error="error"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(n(1604)),i=l(n(797)),o=l(n(909)),a=n(1675),s=l(n(1676)),u=["url","data","query","onSuccess","onError"];function l(e){return e&&e.__esModule?e:{default:e}}function c(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function h(e,t,n){var r=this,o=a.dealConfigsBeforeRequest?a.dealConfigsBeforeRequest.bind(this)(e):e,s=o.url,l=o.data,d=o.query,f=o.onSuccess,v=void 0===f?function(){}:f,h=o.onError,b=void 0===h?function(){}:h,g=m(o,u),y=[l,p({params:d},g)];return"get"===n?y=[p({params:l},g)]:"delete"===n&&(y=[p({params:d,data:l},g)]),t[n].apply(t,[s].concat(c(y))).then((function(t){return a.requestComplete.bind(r)(t,e)?null:(v.bind(r)((0,i.default)(t,"data")),t)}),(function(t){var n=(0,i.default)(t,"response");return a.requestComplete.bind(r)(n,e,t)?null:(b.bind(r)(n),Promise.reject(t))}))}function b(e){var t=this;return{get:function(n){return h.bind(t)(n,e,"get")},post:function(n){return h.bind(t)(n,e,"post")},put:function(n){return h.bind(t)(n,e,"put")},delete:function(n){return h.bind(t)(n,e,"delete")}}}t.default=function(e){var t=e;(0,r.default)(o.default.defaults,s.default),Object.defineProperty(t.prototype,"$http",{get:function(){return b.bind(this)(o.default)}})}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isWindows=t.default=void 0;var r,i=(r=n(845))&&r.__esModule?r:{default:r};t.default={mobile:[{name:"Mobile S",width:"320px",height:"568px"},{name:"iphone6/7/8",width:"375px",height:"667px"},{name:"iphone6/7/8 Plus",width:"414px",height:"736px"},{name:"iPad",width:"768px",height:"1024px"},{name:"iPad Pro",width:"1024px",height:"1366px"}],desktop:[{name:"Desktop S",width:"1280px",height:"720px"},{name:"Desktop M",width:"1366px",height:"768px"},{name:"Desktop L",width:"1920px",height:"1080px"}]};var o=i.default.isWindows();t.isWindows=o},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.maxVersion=t.compareVersion=t.compareBuildver=void 0;var r,i=(r=n(377))&&r.__esModule?r:{default:r};var o=function(){for(var e=[],t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){var n=t.split("."),r=n.map((function(e){return Number(e)}));e.length?e.forEach((function(i,o){var a=i.split("."),s=a.map((function(e){return Number(e)})),u=Math.max(a.length,n.length);if(s.join(".")!==r.join("."))for(var l=0;l<u;l++){var c=r[l],d=s[l];if(c>d){e.splice(o,0,t);break}if(c<d&&o===e.length-1){e.push(t);break}l===u-1&&(r>s?e.splice(o,0,t):o===e.length-1&&e.push(t))}else e.splice(o,0,t)})):e.unshift(t)})),e[0]};t.maxVersion=o;var a=function(e,t,n){var r=function(e,t){return e===t?"eq":o(e,t)===e?"gt":"lt"}(e,n);return"eq"===r?["eq","ge","le"].includes(t):!!["ne"].includes(t)||("lt"===r?["le","lt"].includes(t):"gt"===r&&["ge","gt"].includes(t))};t.compareVersion=a;t.compareBuildver=function(e,t){return a(i.default.state.baseInfo.buildVer,e,t)}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(68)),i=o(n(377));function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(n,o){return new r.default({store:i.default,name:"OpenDialog",created:function(){this.$mount(),document.body.appendChild(this.$el)},destroyed:function(){document.body.removeChild(this.$el)},methods:{onResolve:function(e){n(e),this.$destroy()},onReject:function(e){o(e),this.$destroy()}},render:function(n){return n("div",{class:"open-dialog"},[n(e,s(s({},t),{},{on:s(s({},t.on),{},{resolve:this.onResolve,reject:this.onReject})}))])}})}))}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.formatComp=u,t.formatEventFuncModule=l;var r=n(378),i=n(173);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){return{id:e.id,name:e.module_name,label:e.show_name,latestVer:e.module_ver,version:"",type:e.module_type,icon:e.module_icon,is_h5:e.is_h5,is_pc:e.is_pc,pageType:e.page_type,main:null}}function l(e){var t=Object.fromEntries(e.fe_list.map((function(t){return[t.module_name,a(a({},u(t)),{},{type:"BEModuleTypeFE",beData:{flowList:e.flow_id_list,versionList:e.version_list}})]})));return a(a({},e),{},{feComps:t})}var c={getFeFuncModuleList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=function(e){var t=e.list,n={};return t.forEach((function(e){e.fe_list.forEach((function(e){n[e.module_name]=u(e)}))})),n};return(0,r.get)("".concat(i.merlinBase,"event/getFeFuncModuleList"),e,r.defaultFormatParams,t)},getEventFuncModuleList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=function(e){var t=e.list,n=e.event,r=n.eventKey,i=n.domain_list,o={},a=t.map((function(e){return l(e)}));return a.forEach((function(e){var t=e.feComps;Object.keys(t).forEach((function(e){o[e]=t[e]}))})),{list:a,allComps:o,eventKey:r,domain_list:i}};return(0,r.get)("".concat(i.merlinBase,"event/getEventFuncModuleList"),e,r.defaultFormatParams,t)},getAvailableEventFuncModuleList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.get)("".concat(i.merlinBase,"event/getAvailableEventFuncModuleList"),e,r.defaultFormatParams,r.defaultFormatResult)},createConst:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.post)("".concat(i.merlinBase,"event/createConst"),e,r.defaultFormatParams,r.defaultFormatResult)},deleteConst:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.post)("".concat(i.merlinBase,"event/deleteConst"),e,r.defaultFormatParams,r.defaultFormatResult)},editConst:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.post)("".concat(i.merlinBase,"event/editConst"),e,r.defaultFormatParams,r.defaultFormatResult)},constList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.get)("".concat(i.merlinBase,"event/constList"),e,r.defaultFormatParams,r.defaultFormatResult)},importFuncModule:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.post)("".concat(i.merlinBase,"event/importFuncModule"),e,r.defaultFormatParams,r.defaultFormatResult)},deleteEventFuncModule:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.post)("".concat(i.merlinBase,"event/deleteEventFuncModule"),e,r.defaultFormatParams,r.defaultFormatResult)}};t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uidLoginList=t.accountSeaRoleThemeMap=t.accountCnRoleThemeMap=t.STAT_MAP=t.PAGE_ICON_MAP=t.DEFAULT_LANG_MAP=void 0;t.PAGE_ICON_MAP={bh3:{cn:"https://bh3.mihoyo.com/favicon.ico",sea:"https://honkaiimpact3.hoyoverse.com/favicon.ico"},hk4e:{cn:"https://ys.mihoyo.com/main/favicon.ico",sea:"https://genshin.hoyoverse.com/favicon.ico"},nxx:{cn:"https://wd.mihoyo.com/favicon.ico",sea:"https://tot.hoyoverse.com/favicon.ico"},bbs:{cn:"https://bbs.mihoyo.com/favicon.ico",sea:"https://img-os-static.hoyolab.com/favicon.ico"},hkrpg:{cn:"https://sr.mihoyo.com/favicon-mi.ico",sea:"https://www.honkaistarrail.com/favicon.ico"},nap:{cn:"https://juequling.mihoyo.com/favicon-mi.ico",sea:"https://zenless.hoyoverse.com/favicon.ico"},default:{cn:"https://www.mihoyo.com/favicon.ico",sea:"https://www.hoyoverse.com/favicon.ico"}};t.STAT_MAP={bh3:"bh3",hk4e:"hk4e",bh2:"bh2",bbs:"bbs",nxx:"nxx",dp:"dp",clgm:"cg",hkrpg:"hkrpg",plat:"plat",nap:"nap"};t.uidLoginList={hk4e:!0};t.accountCnRoleThemeMap={bh3:"bh3",hk4e:"ys",nxx:"wd",hkrpg:"sr",mall:"mall"};t.accountSeaRoleThemeMap={bh3:"bh3",hk4e:"ys",nxx:"wd",bbs:"bbs"};t.DEFAULT_LANG_MAP={hk4e_global:["zh-cn","zh-tw","de-de","en-us","es-es","fr-fr","id-id","ja-jp","ko-kr","pt-pt","ru-ru","th-th","vi-vn"]}},,,function(e,t,n){"use strict";n.r(t);var r=n(958),i=n(526);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,null,null);s.options.__file="src/main/edit/docks/inspector/compOptionsForm.vue",t.default=s.exports},function(e,t,n){"use strict";n.r(t);var r=n(1006),i=n(538);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,null,null);s.options.__file="src/main/edit/docks/inspector/styleForms/formItem.vue",t.default=s.exports},function(e,t,n){"use strict";n.r(t);var r=n(996),i=n(602);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,null,null);s.options.__file="src/main/edit/docks/inspector/configForms/formItem.vue",t.default=s.exports},function(e,t,n){"use strict";n.r(t);var r=n(991),i=n(668);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,null,null);s.options.__file="src/main/edit/docks/inspector/transitionForms/transitionForm.vue",t.default=s.exports},function(e){e.exports=JSON.parse('{"slide":{"initConfig":{"styles":{"transform":"translate(0rem,0rem)"}},"label":"位移"},"fade":{"initConfig":{"styles":{"opacity":"0"}},"label":"渐隐/显"},"slidefade":{"initConfig":{"styles":{"opacity":"0","transform":"translate(0rem,0rem)"}},"label":"渐显位移"},"scale":{"initConfig":{"styles":{"transform":"scale(0)"}},"label":"缩放"}}')},function(e,t,n){"use strict";n.r(t);var r=n(1007),i=n(670);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,null,null);s.options.__file="src/main/edit/docks/inspector/transitionForms/fade.vue",t.default=s.exports},function(e,t,n){"use strict";n.r(t);var r=n(1009),i=n(674);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,null,null);s.options.__file="src/main/edit/docks/inspector/transitionForms/slide.vue",t.default=s.exports},function(e,t,n){"use strict";n.r(t);var r=n(968),i=n(678);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,null,null);s.options.__file="src/main/edit/docks/inspector/transitionForms/transitionEnterLeaveForm.vue",t.default=s.exports},function(e,t,n){"use strict";n.r(t);var r=n(992),i=n(682);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,null,null);s.options.__file="src/main/edit/docks/inspector/animationForms/animationForm.vue",t.default=s.exports},function(e){e.exports=JSON.parse('{"slidey":{"initConfig":{"params":{"start":"-8%","end":"8%","duration":"2000ms","ease":"ease-in-out"}},"label":"上下浮动"},"opacity":{"initConfig":{"params":{"start":"1","end":"0","duration":"1600ms","ease":"ease-in-out"}},"label":"渐隐渐显"},"rotate":{"initConfig":{"params":{"duration":"1600ms","direction":"normal"}},"label":"旋转"}}')},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"root"}},[t("router-view")],1)},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[n("el-container",[e.inComponentsPage||e.inMerlin?e._e():n("el-aside",{staticStyle:{"background-color":"rgb(238, 241, 246)"},attrs:{width:"65px"}},[n("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":e.defaultActive,collapse:""}},e._l(e.pages,(function(t,r){return n("el-menu-item",{directives:[{name:"mihoyo-auth",rawName:"v-mihoyo-auth",value:{authKey:t.authKey},expression:"{authKey: page.authKey}"}],key:t.name,attrs:{index:""+(r+1)},on:{click:function(n){return e.routeTo(t.name)}}},[n("i",{class:t.icon}),e._v(" "),n("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.title))])])})),1)],1),e._v(" "),n("el-main",[n("router-view")],1)],1),e._v(" "),n("dev-panel")],1)},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"puzzle-event"},[n("div",{staticClass:"puzzle-event__query"},[n("el-card",[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("el-breadcrumb",{attrs:{separator:"/"}},[n("el-breadcrumb-item",[e._v("活动管理")])],1)],1),e._v(" "),n("el-form",{attrs:{"label-position":"left","label-width":"80px",model:e.queryForm}},[n("el-row",[n("el-col",{attrs:{span:6}},[n("el-form-item",{attrs:{label:"活动标识"}},[n("el-input",{attrs:{placeholder:"请输入活动名或活动标识"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSearchSubmit.apply(null,arguments)}},model:{value:e.queryForm.search,callback:function(t){e.$set(e.queryForm,"search",t)},expression:"queryForm.search"}})],1)],1),e._v(" "),n("el-col",{attrs:{span:6}},[n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:e.onSearchSubmit}},[e._v("\n                查询\n              ")])],1)],1)],1)],1)],1)],1),e._v(" "),n("div",{staticClass:"puzzle-event__list"},[n("el-card",[n("div",{staticClass:"flex-right",attrs:{slot:"header"},slot:"header"},[n("el-button",{directives:[{name:"mihoyo-auth",rawName:"v-mihoyo-auth",value:{authKey:"puzzle"},expression:"{authKey: 'puzzle'}"}],attrs:{type:"primary"},on:{click:e.handleAdd}},[e._v("\n          新建活动\n        ")])],1),e._v(" "),n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.eventList,border:""},on:{"expand-change":e.handleExpand}},[n("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",{staticClass:"expand-container"},[n("el-card",{staticClass:"box-card"},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("div",{staticClass:"expand-list"},[n("div",{staticClass:"expand-list__item"},[e._v("\n                      创建人：\n                      "),n("span",[e._v(e._s(t.row.creator))])]),e._v(" "),n("div",{staticClass:"expand-list__item"},[e._v("\n                      创建时间：\n                      "),n("span",[e._v(e._s(t.row.ctime))])])])]),e._v(" "),t.row.publishList?n("el-table",{staticStyle:{width:"80%"},attrs:{data:t.row.publishList,border:"","max-height":"250"}},[n("el-table-column",{attrs:{prop:"env",label:"发布环境"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-tag",{attrs:{"disable-transitions":!0,type:e._f("releaseStatus")(t.row.env)}},[e._v("\n                        "+e._s(e._f("releaseLabel")(t.row.env))+"\n                      ")])]}}],null,!0)}),e._v(" "),n("el-table-column",{attrs:{label:"发布状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-tag",{attrs:{"disable-transitions":!0,type:e._f("publishStatus")(t.row.status)}},[e._v("\n                        "+e._s(e._f("publishLabel")(t.row.status))+"\n                      ")])]}}],null,!0)}),e._v(" "),n("el-table-column",{attrs:{prop:"version",label:"配置版本"}}),e._v(" "),n("el-table-column",{attrs:{prop:"mtime",label:"发布时间"}}),e._v(" "),n("el-table-column",{attrs:{prop:"opt_user",label:"操作人"}}),e._v(" "),n("el-table-column",{attrs:{label:"发布操作",width:"240"},scopedSlots:e._u([{key:"default",fn:function(t){return["ReleaseEnvProd"===t.row.env&&"PublishStatusOK"===t.row.status?n("el-button",{directives:[{name:"mihoyo-auth",rawName:"v-mihoyo-auth",value:{authKey:"release"},expression:"{authKey: 'release'}"}],attrs:{type:"text",size:"small"},on:{click:function(n){return e.rollbackEventPublish(t.row)}}},[n("i",{staticClass:"el-icon-refresh-left"}),e._v("回滚文件\n                      ")]):e._e(),e._v(" "),"PublishStatusOK"!==t.row.status&&"PublishStatusFail"!==t.row.status?n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return e.handleRefreshStatus(t.row)}}},[n("i",{staticClass:"el-icon-edit"}),e._v("刷新结果\n                      ")]):e._e(),e._v(" "),"PublishStatusFail"===t.row.status?n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return e.handleErrorLog(t.row)}}},[n("i",{staticClass:"el-icon-info"}),e._v("失败原因\n                      ")]):e._e()]}}],null,!0)})],1):e._e()],1)],1)]}}])}),e._v(" "),n("el-table-column",{attrs:{prop:"id",label:"活动id",width:"80"}}),e._v(" "),n("el-table-column",{attrs:{prop:"event_key",label:"活动标识","min-width":"150"}}),e._v(" "),n("el-table-column",{attrs:{prop:"event_name",label:"活动名称","min-width":"200"}}),e._v(" "),n("el-table-column",{attrs:{label:"活动业务",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return e._l(r.biz_list,(function(t){return n("el-tag",{key:t,staticStyle:{"margin-bottom":"2px"},attrs:{"disable-transitions":!0}},[e._v("\n              "+e._s(e.bizMap[t])+"\n            ")])}))}}])}),e._v(" "),n("el-table-column",{attrs:{label:"多语言",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[n("el-tag",{attrs:{"disable-transitions":!0,type:r.is_mi18n?"success":"info"}},[e._v("\n              "+e._s(r.is_mi18n?"支持":"不支持")+"\n            ")])]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"发布环境",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-tag",{attrs:{"disable-transitions":!0,type:e._f("releaseStatus")(t.row.release_status)}},[e._v("\n              "+e._s(e._f("releaseLabel")(t.row.release_status))+"\n            ")])]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"状态",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-tag",{attrs:{"disable-transitions":!0,type:e._f("updateStatus")(t.row.update_status)}},[e._v("\n              "+e._s(e._f("updateLabel")(t.row.update_status))+"\n            ")])]}}])}),e._v(" "),n("el-table-column",{attrs:{prop:"creator",label:"创建人","min-width":"100"}}),e._v(" "),n("el-table-column",{attrs:{prop:"ctime",label:"创建时间",width:"160"}}),e._v(" "),n("el-table-column",{attrs:{prop:"mtime",label:"最后修改时间",width:"160"}}),e._v(" "),n("el-table-column",{attrs:{label:"操作",width:"300"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",{staticClass:"table-actions"},[n("el-button",{directives:[{name:"mihoyo-auth",rawName:"v-mihoyo-auth",value:{authKey:"puzzle"},expression:"{authKey: 'puzzle'}"}],attrs:{type:"text",size:"small"},on:{click:function(n){return e.handleEdit(t.row)}}},[n("i",{staticClass:"el-icon-edit"}),e._v("配置页面\n              ")]),e._v(" "),n("el-button",{directives:[{name:"mihoyo-auth",rawName:"v-mihoyo-auth",value:{authKey:"puzzle"},expression:"{authKey: 'puzzle'}"}],attrs:{type:"text",size:"small"},on:{click:function(n){return e.handleUpdate(t.row)}}},[n("i",{staticClass:"el-icon-edit"}),e._v("编辑信息\n              ")]),e._v(" "),n("el-dropdown",{on:{command:e.handleCommand}},[n("span",{staticClass:"el-dropdown-link"},[n("i",{staticClass:"el-icon-upload"}),e._v("发布\n                ")]),e._v(" "),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{directives:[{name:"mihoyo-auth",rawName:"v-mihoyo-auth",value:{authKey:"puzzle"},expression:"{authKey: 'puzzle'}"}],attrs:{command:{row:t.row,env:1}}},[e._v("\n                    发布测试\n                  ")]),e._v(" "),n("el-dropdown-item",{directives:[{name:"mihoyo-auth",rawName:"v-mihoyo-auth",value:{authKey:"puzzle"},expression:"{authKey: 'puzzle'}"}],attrs:{command:{row:t.row,env:2}}},[e._v("\n                    发布预发布\n                  ")]),e._v(" "),n("el-dropdown-item",{directives:[{name:"mihoyo-auth",rawName:"v-mihoyo-auth",value:{authKey:"release"},expression:"{authKey: 'release'}"}],attrs:{command:{row:t.row,env:3}}},[e._v("\n                    发布正式\n                  ")])],1)],1),e._v(" "),n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return e.handleView(t.row)}}},[n("i",{staticClass:"el-icon-notebook-2"}),e._v("查看\n              ")]),e._v(" "),n("el-button",{directives:[{name:"mihoyo-auth",rawName:"v-mihoyo-auth",value:{authKey:"puzzle"},expression:"{authKey: 'puzzle'}"}],staticClass:"btn-danger",attrs:{type:"text",size:"small"},on:{click:function(n){return e.handleDeleteEvent(t.row)}}},[n("i",{staticClass:"el-icon-delete"}),e._v("删除\n              ")]),e._v(" "),"ReleaseEnvProd"===t.row.release_status?n("el-button",{directives:[{name:"mihoyo-auth",rawName:"v-mihoyo-auth",value:{authKey:"release"},expression:"{authKey: 'release'}"}],staticClass:"btn-danger",attrs:{type:"text",size:"small"},on:{click:function(n){return e.handleOffline(t.row)}}},[n("i",{staticClass:"el-icon-download"}),e._v("下线\n              ")]):e._e(),e._v(" "),n("el-dropdown",{attrs:{placement:"bottom",trigger:"click"},on:{command:function(n){return e.handlerPublishRes(n,t.row)}}},[n("span",{staticClass:"el-dropdown-link"},[e._v("\n                  手动重发资源"),n("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e._v(" "),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{attrs:{command:"ReleaseEnvPre"}},[e._v("\n                    预发\n                  ")]),e._v(" "),n("el-dropdown-item",{attrs:{command:"ReleaseEnvProd"}},[e._v("\n                    生产\n                  ")])],1)],1)],1)]}}])})],1),e._v(" "),e.total>e.limit?n("el-pagination",{attrs:{background:"","current-page":e.page,layout:"prev, pager, next",total:e.total},on:{"current-change":e.onPageChange}}):e._e()],1)],1),e._v(" "),n("el-dialog",{attrs:{title:e.isDialogUpdateEvent?"更新活动":"新建活动",top:"12vh",visible:e.dialogFormVisible,width:"600px","close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogFormVisible=t},close:e.clearEventFormValidate}},[n("el-form",{ref:"eventForm",attrs:{model:e.eventForm,rules:e.eventFormRules,"label-width":"100px"}},[n("el-form-item",{attrs:{label:"活动名称",prop:"event_name"}},[n("el-input",{attrs:{autocomplete:"off"},model:{value:e.eventForm.event_name,callback:function(t){e.$set(e.eventForm,"event_name",t)},expression:"eventForm.event_name"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"活动标识",prop:"event_key"}},[n("el-input",{attrs:{disabled:e.isDialogUpdateEvent,autocomplete:"off"},model:{value:e.eventForm.event_key,callback:function(t){e.$set(e.eventForm,"event_key",t)},expression:"eventForm.event_key"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"pc页模式",prop:"event_mode"}},[n("el-radio-group",{attrs:{disabled:e.isDialogUpdateEvent||!!e.tempInfo,size:"small"},model:{value:e.eventForm.pc_page_mode,callback:function(t){e.$set(e.eventForm,"pc_page_mode",t)},expression:"eventForm.pc_page_mode"}},e._l(e.pageModeMap.filter((function(e){return e.pcInitState})),(function(t,r){return n("el-radio-button",{key:r,attrs:{label:t.value}},[e._v("\n            "+e._s(t.label)+"\n          ")])})),1)],1),e._v(" "),n("el-form-item",{attrs:{label:"移动页模式",prop:"event_mode"}},[n("el-radio-group",{attrs:{disabled:e.isDialogUpdateEvent||!!e.tempInfo,size:"small"},model:{value:e.eventForm.mobile_page_mode,callback:function(t){e.$set(e.eventForm,"mobile_page_mode",t)},expression:"eventForm.mobile_page_mode"}},e._l(e.pageModeMap.filter((function(e){return e.h5InitState})),(function(t,r){return n("el-radio-button",{key:r,attrs:{label:t.value}},[e._v("\n            "+e._s(t.label)+"\n          ")])})),1)],1),e._v(" "),n("el-form-item",{attrs:{label:"多语言"}},[n("el-switch",{attrs:{disabled:e.isDialogUpdateEvent,"active-text":"需要","inactive-text":"不需要"},model:{value:e.is_mi18n,callback:function(t){e.is_mi18n=t},expression:"is_mi18n"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"活动时间",prop:"eventTimeRange"}},[n("el-date-picker",{attrs:{"default-time":["00:00:00","23:59:59"],type:"datetimerange","range-separator":"至","start-placeholder":"开始时间","end-placeholder":"结束时间","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.eventForm.eventTimeRange,callback:function(t){e.$set(e.eventForm,"eventTimeRange",t)},expression:"eventForm.eventTimeRange"}})],1),e._v(" "),e.isDialogUpdateEvent?e._e():n("el-form-item",{attrs:{label:"页面模板"}},[e.tempInfo?n("div",{staticClass:"puzzle-event__temp"},[n("div",{staticClass:"puzzle-event__mask"},[n("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.tempModalVisible=!0}}},[e._v("\n              更换模板\n            ")]),e._v(" "),n("el-button",{attrs:{type:"warning",size:"small"},on:{click:e.clearTemplate}},[e._v("\n              清除模板\n            ")])],1),e._v(" "),n("template-card",{attrs:{"extra-style":{marginLeft:0,marginBottom:0},item:e.tempInfo,size:"small"}})],1):n("el-button",{attrs:{type:"text"},on:{click:function(t){e.tempModalVisible=!0}}},[e._v("\n          选择模板\n        ")])],1),e._v(" "),n("el-form-item",{attrs:{prop:"biz_list"}},[n("el-tooltip",{attrs:{slot:"label",content:"可关联同一游戏下的多个区服",placement:"top"},slot:"label"},[n("span",[e._v("关联业务 "),n("i",{staticClass:"el-icon-info"})])]),e._v(" "),n("el-cascader",{ref:"cascader",attrs:{disabled:e.isDialogUpdateEvent,options:e.curGameCascaderList,props:{multiple:!0,expandTrigger:"hover",emitPath:!1},size:"medium","show-all-levels":!1,filterable:"",clearable:"",placeholder:"请选择要关联的业务"},model:{value:e.biz_list,callback:function(t){e.biz_list=t},expression:"biz_list"}})],1),e._v(" "),e.eventForm.lang_config?[n("el-row",[e._v("\n          区服对应语言列表\n        ")]),e._v(" "),e._l(e.eventForm.lang_config,(function(t,r){return n("el-form-item",{key:t.game_biz,attrs:{prop:"lang_config."+r+".lang.0",label:t.game_biz,rules:{required:!0,message:"语言不能为空",trigger:"blur"}}},[n("el-select",{attrs:{value:t.lang,multiple:"",filterable:"","allow-create":"",clearable:"","default-first-option":"",placeholder:"请选择所需的语言"},on:{change:function(t){e.langListChange(t,r)}}},e._l(e.allLangList,(function(e){return n("el-option",{key:e.value,attrs:{label:e.value,value:e.value}})})),1)],1)}))]:e._e(),e._v(" "),e.eventForm.is_mi18n?e._e():n("el-form-item",{attrs:{prop:"lang",rules:{required:!0,message:"语言不能为空",trigger:"blur"},label:"页面语言"}},[n("el-select",{attrs:{filterable:"",placeholder:"请选择页面语言类型"},model:{value:e.eventForm.lang,callback:function(t){e.$set(e.eventForm,"lang",t)},expression:"eventForm.lang"}},e._l(e.allLangList,(function(e){return n("el-option",{key:e.value,attrs:{label:e.value,value:e.value}})})),1)],1),e._v(" "),n("el-form-item",{attrs:{label:"授权用户"}},[n("mihoyo-staff-selector",{attrs:{placeholder:"搜索域账号",multiple:!0},model:{value:e.eventForm.user_list,callback:function(t){e.$set(e.eventForm,"user_list",t)},expression:"eventForm.user_list"}})],1)],2),e._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("\n        取消\n      ")]),e._v(" "),n("el-button",{attrs:{type:"primary",loading:e.isSubmitting},on:{click:e.handleSubmit}},[e._v("\n        提交\n      ")])],1)],1),e._v(" "),n("el-dialog",{attrs:{title:"失败原因",visible:e.errorLogVisible,width:"500px"},on:{"update:visible":function(t){e.errorLogVisible=t}}},[n("span",{staticStyle:{"white-space":"pre-wrap"}},[e._v("\n      "+e._s(e.errorLog)+"\n    ")])]),e._v(" "),n("template-dialog",{attrs:{show:e.tempModalVisible,"cur-item":e.tempInfo},on:{close:function(t){e.tempModalVisible=!1},select:e.setTempInfo}}),e._v(" "),n("el-dialog",{attrs:{visible:e.copyModalShow,title:"复制活动","close-on-click-modal":!1,width:"600px"},on:{"update:visible":function(t){e.copyModalShow=t}}},[n("el-form",{ref:"copyForm",attrs:{model:e.copyForm,rules:e.eventFormRules,"label-width":"100px"}},[n("el-form-item",{attrs:{label:"活动名称",prop:"event_name"}},[n("el-input",{model:{value:e.copyForm.event_name,callback:function(t){e.$set(e.copyForm,"event_name",t)},expression:"copyForm.event_name"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"活动标识",prop:"event_key"}},[n("el-input",{model:{value:e.copyForm.event_key,callback:function(t){e.$set(e.copyForm,"event_key",t)},expression:"copyForm.event_key"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"活动时间",prop:"eventTimeRange"}},[n("el-date-picker",{attrs:{"default-time":["00:00:00","23:59:59"],type:"datetimerange","range-separator":"至","start-placeholder":"开始时间","end-placeholder":"结束时间","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.copyForm.eventTimeRange,callback:function(t){e.$set(e.copyForm,"eventTimeRange",t)},expression:"copyForm.eventTimeRange"}})],1)],1),e._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.copyModalShow=!1}}},[e._v("\n        取 消\n      ")]),e._v(" "),n("el-button",{attrs:{type:"primary",loading:e.isCopying},on:{click:e.handleCopySubmit}},[e._v("\n        提 交\n      ")])],1)],1)],1)},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"puzzle-edit"},[n("div",{staticClass:"puzzle-edit__header"},[n("div",{staticClass:"left-nav"},[n("div",{staticClass:"page-title"},[e._v("\n        项目名：\n        "),n("el-tag",{attrs:{"disable-transitions":!0,effect:"dark",size:"medium"}},[e._v("\n          "+e._s(e.templateName||e.event.event_name)+"\n        ")])],1)]),e._v(" "),n("div",{staticClass:"ft-actions"},[n("div",{staticClass:"keyboard",on:{click:function(t){e.dialogShortCutVisible=!0}}}),e._v(" "),e.compareVersion("gt","2.7.21")&&e.event.mi18n_key&&e.event.is_mi18n?n("el-cascader",{attrs:{options:e.bizSelectOptions,size:"mini",clearable:"",placeholder:"请选择预览语言",props:{expandTrigger:"hover"}},model:{value:e.mi18nMsg,callback:function(t){e.mi18nMsg=t},expression:"mi18nMsg"}}):e._e(),e._v(" "),n("el-dropdown",{directives:[{name:"mihoyo-auth",rawName:"v-mihoyo-auth",value:{authKey:"module"},expression:"{authKey: 'module'}"}],on:{command:e.handleDevCommand}},[n("el-button",{attrs:{size:"small",type:"primary"}},[e._v("\n          开发者选项"),n("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e._v(" "),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{attrs:{command:"handleOpenCodeMode"}},[e._v("\n            自定义页面配置\n          ")]),e._v(" "),n("el-dropdown-item",{attrs:{command:"copy"}},[e._v("\n            复制页面配置\n          ")]),e._v(" "),n("el-dropdown-item",{attrs:{command:"updatePage"}},[e._v("\n            一键升级页面\n          ")])],1)],1),e._v(" "),e.inMerlin?e._e():n("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.saveAsTemplate}},[e._v("\n        "+e._s(e.isEditingTpl?"更新模板":"保存为模板")+"\n      ")]),e._v(" "),e.isEditingTpl?e._e():n("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.updateEventConfig}},[e._v("\n        保存\n      ")]),e._v(" "),e.event.is_mi18n?n("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.handleUpdateMi18n}},[e._v("\n        更新多语言字段\n      ")]):e._e(),e._v(" "),e.event.is_mi18n?n("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){e.showDownloadMi18n=!0}}},[e._v("\n        批量导出多语言多媒体资源\n      ")]):e._e(),e._v(" "),e.event.is_mi18n?n("el-dialog",{attrs:{"append-to-body":"",title:"多语言内容导出",top:"8vh",visible:e.showDownloadMi18n},on:{"update:visible":function(t){e.showDownloadMi18n=t}}},[n("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.downloadMi18n("image")}}},[e._v("\n          导出图片\n        ")]),e._v(" "),n("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.downloadMi18n("video")}}},[e._v("\n          导出视频\n        ")]),e._v(" "),n("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.downloadMi18n("audio")}}},[e._v("\n          导出音频\n        ")]),e._v(" "),n("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.downloadMi18n("")}}},[e._v("\n          全部导出\n        ")])],1):e._e(),e._v(" "),e.isEditingTpl||e.inMerlin?e._e():n("el-dropdown",{on:{command:e.handleCommand}},[n("el-button",{attrs:{type:"primary",size:"small",loading:e.publishing}},[e.publishing?n("span",[e._v("发布中")]):n("span",[e._v("\n            发布"),n("i",{staticClass:"el-icon-arrow-down el-icon--right"})])]),e._v(" "),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{attrs:{command:{env:1}}},[e._v("\n            发布测试\n          ")]),e._v(" "),n("el-dropdown-item",{attrs:{command:{env:2}}},[e._v("\n            发布预发布\n          ")]),e._v(" "),n("el-dropdown-item",{attrs:{command:{env:3}}},[e._v("\n            发布正式\n          ")])],1)],1),e._v(" "),e.isEditingTpl?e._e():n("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.handleViewPage}},[e._v("\n        查看页面\n      ")])],1)]),e._v(" "),n("div",{staticClass:"puzzle-edit__container row-1"},[!e.isPageCompType||e.isPageCompType&&e.inMerlin?n("div",{staticClass:"pane-lf-container"},[n("el-tabs",{staticClass:"pane-lf",attrs:{type:"border-card"},model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[e.isPageCompType?e.inMerlin?n("el-tab-pane",{attrs:{label:"后端模块",name:"be"}},[n("FuncModule")],1):e._e():[e.lang?e._e():n("el-tab-pane",{key:"component",attrs:{name:"component",label:"功能库"}},[n("compLibrary")],1),e._v(" "),n("el-tab-pane",{key:"node",attrs:{name:"node",label:"页面节点"}},[n("el-collapse",{attrs:{accordion:""},model:{value:e.treeActiveName,callback:function(t){e.treeActiveName=t},expression:"treeActiveName"}},[n("el-collapse-item",{attrs:{title:"页面节点",name:"nodes"}},[n("nodeTree",{attrs:{"all-nodes":e.nodes,"search-nodes-list":e.dfsNodes}})],1),e._v(" "),n("el-collapse-item",{attrs:{title:"弹窗列表",name:"dialog"}},[n("el-checkbox",{model:{value:e.showAllDialog,callback:function(t){e.showAllDialog=t},expression:"showAllDialog"}},[e._v("\n                  显示所有弹窗\n                ")]),e._v(" "),n("nodeTree",{attrs:{category:"dialog","all-nodes":e.dialogNodes,"search-nodes-list":e.dfsDialogNodes}})],1)],1)],1)]],2),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:"preview"===e.modeType&&!e.isPageCompType,expression:"modeType === 'preview'&&!isPageCompType"}],staticClass:"pane-mask"})],1):e._e(),e._v(" "),e.initFinish?[n("preview",{ref:"preview",on:{changePlatform:e.changePlatform}}),e._v(" "),n("inspector",{attrs:{"event-name":e.event.event_name,"template-name":e.templateName}})]:e._e(),e._v(" "),n("el-dialog",{attrs:{title:"快捷键",visible:e.dialogShortCutVisible,width:"30%"},on:{"update:visible":function(t){e.dialogShortCutVisible=t}}},e._l(e.shortCutsDescMap,(function(t){return n("div",{key:t.key,staticClass:"dialogshortcut-body"},[n("div",{staticClass:"dialogshortcut-item"},[n("div",{staticClass:"dialogshortcut-item-left"},[e._v("\n            "+e._s(t.key)+"\n          ")]),e._v(" "),n("div",{staticClass:"dialogshortcut-item-right"},[n("span",{domProps:{innerHTML:e._s(t.button[0])}}),e._v(" "),n("i",{staticClass:"dialogshortcut-plus"},[e._v("+")]),e._v(" "),n("span",{domProps:{innerHTML:e._s(t.button[1])}}),e._v(" "),t.button[2]?n("div",[n("i",{staticClass:"dialogshortcut-plus"},[e._v("+")]),e._v(" "),n("span",[e._v(e._s(t.button[2]))])]):e._e()])])])})),0)],2),e._v(" "),n("template-add-modal",{attrs:{show:e.tempAddShow,loading:e.tempLoading,title:"新建模板"},on:{close:function(t){e.tempAddShow=!1},submit:e.handleTempAdd}}),e._v(" "),n("diff",{attrs:{"old-str":e.oldStr,"new-str":e.newStr},on:{confirm:e.handleConfirmSaveConfig},model:{value:e.showDiffDialog,callback:function(t){e.showDiffDialog=t},expression:"showDiffDialog"}}),e._v(" "),e.codeModeInited?n("el-dialog",{staticClass:"code-mode-dialog",attrs:{"append-to-body":"",title:"页面配置",top:"8vh",visible:e.codeModeDialogVisible},on:{"update:visible":function(t){e.codeModeDialogVisible=t}}},[n("codeMode",{tag:"component",staticClass:"page-config-code-mode",attrs:{lang:"json",value:"{}"},on:{change:function(t){return e.codeModeVal=t}}}),e._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.codeModeDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:e.confirmChangePageConfig}},[e._v("\n        确定\n      ")])],1)],1):e._e()],1)},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"puzzle-temp"},[n("div",{staticClass:"puzzle-temp__header"},[n("el-card",[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("el-breadcrumb",{attrs:{separator:"/"}},[n("el-breadcrumb-item",[e._v("页面模板管理")])],1)],1),e._v(" "),n("el-form",{attrs:{"label-position":"left","label-width":"80px",model:e.queryForm}},[n("el-row",[n("el-col",{attrs:{span:6}},[n("el-form-item",{attrs:{label:"模板名称"}},[n("el-input",{attrs:{placeholder:"请输入模板名称"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSearchSubmit.apply(null,arguments)}},model:{value:e.queryForm.search,callback:function(t){e.$set(e.queryForm,"search",t)},expression:"queryForm.search"}})],1)],1),e._v(" "),n("el-col",{attrs:{span:6}},[n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:e.onSearchSubmit}},[e._v("\n                查询\n              ")])],1)],1)],1)],1)],1)],1),e._v(" "),n("div",{staticClass:"puzzle-temp__main"},[n("el-card",{staticClass:"puzzle-temp__list"},[e._l(e.list,(function(t){return n("template-card",{key:t.id,attrs:{"show-action":"",item:t},on:{edit:e.handleEdit,delete:e.handleDel}})})),e._v(" "),n("el-pagination",{attrs:{"current-page":e.pagination.pn,"page-size":e.pagination.ps,total:e.pagination.total,layout:"prev, pager, next",background:""},on:{"current-change":e.handPageChange}})],2)],1),e._v(" "),n("template-add-modal",{attrs:{title:"编辑模板",show:e.modalVisible,"cur-item":e.tempInfo,loading:e.isSubmitting},on:{close:function(t){e.modalVisible=!1},submit:e.handleEditSubmit}})],1)},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"puzzle-toolsbar"},[n("div",{staticClass:"puzzle-toolsbar__actions"},[e.mi18nAdminUrl?n("el-tooltip",{staticClass:"puzzle-toolsbar__action",attrs:{effect:"dark",content:"前往多语言翻译页",enterable:!1,placement:"left"}},[n("el-link",{attrs:{href:e.mi18nAdminUrl,target:"_blank"}},[n("i",{staticClass:"el-icon-link"})])],1):e._e(),e._v(" "),n("el-tooltip",{staticClass:"puzzle-toolsbar__action",attrs:{effect:"dark",content:"撤销",enterable:!1,placement:"left"}},[n("i",{staticClass:"iconfont icon-revocation",on:{click:e.handleUndo}})]),e._v(" "),n("el-tooltip",{staticClass:"puzzle-toolsbar__action",attrs:{effect:"dark",content:"重做",enterable:!1,placement:"left"}},[n("i",{staticClass:"iconfont icon-forward",on:{click:e.handleRedo}})]),e._v(" "),e.templateId?e._e():n("el-popover",{attrs:{placement:"right",trigger:"click"},on:{show:e.handleEditList}},[n("el-table",{attrs:{data:e.editList,"max-height":"250"}},[n("el-table-column",{attrs:{width:"60",property:"version",label:"版本"}}),e._v(" "),n("el-table-column",{attrs:{width:"150",property:"ctime",label:"保存时间"}}),e._v(" "),n("el-table-column",{attrs:{width:"120",property:"user",label:"操作人"}}),e._v(" "),n("el-table-column",{attrs:{label:"操作",width:"80",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-popconfirm",{attrs:{title:"确认使用当前配置覆盖吗？"},on:{confirm:function(n){return e.handleConfirm(t.row)}}},[t.$index?n("el-button",{directives:[{name:"mihoyo-auth",rawName:"v-mihoyo-auth",value:{authKey:"puzzle"},expression:"{authKey: 'puzzle'}"}],attrs:{slot:"reference",type:"text",size:"small"},slot:"reference"},[e._v("\n                回滚配置\n              ")]):n("span",{attrs:{slot:"reference"},slot:"reference"},[e._v("/")])],1)]}}],null,!1,308389692)})],1),e._v(" "),n("el-tooltip",{staticClass:"puzzle-toolsbar__action",attrs:{slot:"reference",effect:"dark",content:"历史编辑记录",enterable:!1,placement:"left"},slot:"reference"},[n("i",{staticClass:"el-icon-notebook-2"})])],1),e._v(" "),n("el-tooltip",{staticClass:"puzzle-toolsbar__action",attrs:{effect:"dark",content:"放大",enterable:!1,placement:"left"}},[n("i",{staticClass:"el-icon-circle-plus-outline",on:{click:e.handleZoomOut}})]),e._v(" "),n("el-tooltip",{staticClass:"puzzle-toolsbar__action",attrs:{effect:"dark",content:"缩小",enterable:!1,placement:"left"}},[n("i",{staticClass:"el-icon-remove-outline",on:{click:e.handleZoomIn}})]),e._v(" "),n("el-tooltip",{staticClass:"puzzle-toolsbar__action",attrs:{effect:"dark",content:"适应屏幕大小",enterable:!1,placement:"left"}},[n("i",{staticClass:"el-icon-aim",on:{click:function(t){return e.$emit("initCanvasTransform")}}})]),e._v(" "),n("el-tooltip",{directives:[{name:"mihoyo-auth",rawName:"v-mihoyo-auth",value:{authKey:"admin"},expression:"{authKey: 'admin'}"}],staticClass:"puzzle-toolsbar__action",attrs:{effect:"dark",content:"打开代码模式配置",enterable:!1,placement:"left"}},[n("i",{staticClass:"el-icon-document",on:{click:e.handleOpenCodeMode}})]),e._v(" "),n("el-tooltip",{staticClass:"puzzle-toolsbar__action",attrs:{effect:"dark",content:"多媒体资源管理",enterable:!1,placement:"left"}},[n("i",{staticClass:"el-icon-folder",on:{click:e.handleOpenResource}})]),e._v(" "),n("el-tooltip",{staticClass:"puzzle-toolsbar__action",attrs:{effect:"dark",content:"全屏预览",enterable:!1,placement:"left"}},[n("i",{staticClass:"el-icon-full-screen",on:{click:e.openFullScreen}})])],1),e._v(" "),e.codeModeInited?n("el-dialog",{staticClass:"code-mode-dialog",attrs:{"append-to-body":"",title:"页面配置",top:"8vh",visible:e.codeModeDialogVisible},on:{"update:visible":function(t){e.codeModeDialogVisible=t}}},[n("codeMode",{tag:"component",staticClass:"page-config-code-mode",attrs:{lang:"json",value:e.pageConfig},on:{change:e.onCodeChange}}),e._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.codeModeDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:e.confirmChangePageConfig}},[e._v("\n        "+e._s(e.dirty?"更新":"确定")+"\n      ")])],1)],1):e._e(),e._v(" "),n("el-dialog",{attrs:{"append-to-body":"",title:"多媒体资源管理","close-on-click-modal":!1,"close-on-press-escape":!1,top:"30px",width:"1200px","show-close":!1,visible:e.resourceListDialogVisible}},[e.resourceListDialogVisible?n("ResourceDialog",{on:{close:function(t){e.resourceListDialogVisible=!1}}}):e._e()],1)],1)},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"template",class:e.size,style:e.extraStyle,attrs:{slot:"reference"},slot:"reference"},[n("div",{staticClass:"template-info__img",style:{backgroundImage:"url("+(e.item.cover||e.defaultCover)+")"}},[n("el-form",{staticClass:"template-detail-card",attrs:{model:e.item,"label-width":"80px"},nativeOn:{submit:function(e){e.preventDefault()}}},[n("el-form-item",{attrs:{label:"模板id"}},[n("span",[e._v(e._s(e.item.id))])]),e._v(" "),n("el-form-item",{attrs:{label:"模板名称"}},[n("span",{staticClass:"txt-inline"},[e._v(e._s(e.item.template_name))])]),e._v(" "),n("el-form-item",{attrs:{label:"创建人"}},[n("span",[e._v(e._s(e.item.creator))])]),e._v(" "),n("el-form-item",{attrs:{label:"创建时间"}},[n("span",[e._v(e._s(e.item.ctime))])]),e._v(" "),n("el-form-item",{attrs:{label:"修改时间"}},[n("span",[e._v(e._s(e.item.mtime))])]),e._v(" "),n("el-form-item",{attrs:{label:"游戏业务"}},[n("span",[e._v(e._s(e.bizMap[e.item.game_biz]))])])],1)],1),e._v(" "),n("p",{staticClass:"template-info__name txt-in2lines"},[e._v("\n    "+e._s(e.item.template_name)+"\n  ")]),e._v(" "),e.showAction?n("div",{directives:[{name:"mihoyo-auth",rawName:"v-mihoyo-auth",value:{authKey:"puzzle"},expression:"{authKey: 'puzzle'}"}],staticClass:"template-action"},[n("el-button",{staticClass:"template-action__edit",attrs:{type:"text"},on:{click:e.handleEditInfo}},[e._v("\n      编辑信息\n    ")]),e._v(" "),n("el-button",{staticClass:"template-action__edit",attrs:{type:"text"},on:{click:e.handleEditTpl}},[e._v("\n      编辑模板\n    ")]),e._v(" "),n("el-button",{staticClass:"template-action__del",attrs:{type:"text"},on:{click:e.handleDel}},[e._v("\n      删除\n    ")])],1):e._e()])},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dialog",{staticClass:"template-add",attrs:{title:e.title,visible:e.visible,width:"600px","close-on-click-modal":!1},on:{"update:visible":function(t){e.visible=t},close:function(t){return e.$emit("close")}}},[n("el-form",{ref:"form",attrs:{model:e.templateForm,rules:e.formRules,"label-width":"100px"},nativeOn:{submit:function(e){e.preventDefault()}}},[n("el-form-item",{attrs:{label:"模板名称",prop:"template_name"}},[n("el-input",{attrs:{autocomplete:"off",placeholder:"请输入模板名称",maxlength:"30"},model:{value:e.templateForm.template_name,callback:function(t){e.$set(e.templateForm,"template_name",t)},expression:"templateForm.template_name"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"模板封面",prop:"cover"}},[n("puzzle-upload",{attrs:{accept:".png,.jpeg,.jpg,gif"},model:{value:e.templateForm.cover,callback:function(t){e.$set(e.templateForm,"cover",t)},expression:"templateForm.cover"}})],1)],1),e._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){return e.$emit("close")}}},[e._v("\n      取 消\n    ")]),e._v(" "),n("el-button",{attrs:{type:"primary",loading:e.loading},on:{click:e.handleSubmit}},[e._v("\n      提 交\n    ")])],1)],1)},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-form",{staticClass:"background-form-index",attrs:{size:"mini","label-position":"left","label-width":"80px"},nativeOn:{submit:function(e){e.preventDefault()}}},[n("el-divider",{attrs:{"content-position":"left"}},[e._v("\n    背景图\n  ")]),e._v(" "),n("bg-config-item",{attrs:{value:e.value,"is-show-del":!1},on:{"update-bg-data":e.handleUpdateSingle}}),e._v(" "),n("el-row",{ref:"sortable-wrapper",staticStyle:{"margin-bottom":"10px"}},[n("el-collapse",{staticClass:"more-collapse"},[n("el-collapse-item",{attrs:{title:"更多背景"}},[n("el-button",{staticStyle:{"margin-bottom":"10px"},attrs:{type:"success",size:"mini"},on:{click:e.addBgConfig}},[e._v("\n          添加背景\n        ")]),e._v(" "),e._l(e.bgConfigList,(function(t){return n("bg-config-item",{key:t.id,attrs:{value:t},on:{"update-bg-data":function(n){return e.handleUpdateMutil(n,t.id)}}})}))],2)],1)],1),e._v(" "),n("el-form-item",{attrs:{label:"背景色"}},[n("el-color-picker",{attrs:{"show-alpha":""},model:{value:e.backgroundColor,callback:function(t){e.backgroundColor=t},expression:"backgroundColor"}})],1)],1)},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this.$createElement;return(this._self._c||e)("el-collapse",this._g(this._b({staticClass:"pz-collapse"},"el-collapse",this.$attrs,!1),this.$listeners),[this._t("default")],2)},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this.$createElement,t=this._self._c||e;return t("el-collapse-item",this._b({},"el-collapse-item",this.$attrs,!1),[t("template",{slot:"title"},[this._t("title")],2),this._v(" "),this._t("default")],2)},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"pz-collapse-row"},[this._t("default")],2)},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement;return(e._self._c||t)("el-input",e._b({staticClass:"pz-input",attrs:{value:e.value},on:{input:function(t){return e.$emit("input",t)}}},"el-input",e.$attrs,!1))},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this.$createElement;return(this._self._c||e)("el-option",this._b({staticClass:"pz-option"},"el-option",this.$attrs,!1),[this._t("default")],2)},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this.$createElement;return(this._self._c||e)("el-select",this._g(this._b({staticClass:"pz-select"},"el-select",this.$attrs,!1),this.$listeners),[this._t("default")],2)},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement;return(e._self._c||t)("el-switch",e._b({staticClass:"pz-switch",model:{value:e.val,callback:function(t){e.val=t},expression:"val"}},"el-switch",e.$attrs,!1))},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.enabled,expression:"enabled"}],staticClass:"dev-panel"},[n("div",{staticClass:"switch",on:{click:e.showPanel}}),e._v(" "),n("el-drawer",{staticClass:"drawer",attrs:{title:"本地组件调试面板",size:"60%",direction:"rtl",visible:e.visible,"append-to-body":!0},on:{"update:visible":function(t){e.visible=t}}},[n("el-collapse",{staticClass:"collapse-container",model:{value:e.activeCollapses,callback:function(t){e.activeCollapses=t},expression:"activeCollapses"}},[n("el-collapse-item",{attrs:{name:"forms"},scopedSlots:e._u([{key:"title",fn:function(){return[n("el-tag",[e._v("调试组件类型")])]},proxy:!0}])},[e._v(" "),n("el-radio-group",{on:{change:e.onChangeDevCompType},model:{value:e.devCompType,callback:function(t){e.devCompType=t},expression:"devCompType"}},[n("el-radio",{attrs:{label:"component"}},[e._v("默认")]),e._v(" "),n("el-radio",{attrs:{label:"page"}},[e._v("页面级组件")])],1)],1),e._v(" "),n("el-collapse-item",{staticClass:"intercepting-comp-container",attrs:{name:"interceptingCompList"},scopedSlots:e._u([{key:"title",fn:function(){return[n("el-tag",[e._v("组件替换列表")])]},proxy:!0}])},[e._v(" "),n("el-table",{staticClass:"comp-list",staticStyle:{width:"100%"},attrs:{data:e.interceptedCompArray,"row-key":function(e){return e.compName+"@"+e.version},border:""}},[n("el-table-column",{attrs:{prop:"compName",label:"线上组件",width:"300"}}),e._v(" "),n("el-table-column",{attrs:{prop:"version",label:"线上版本",width:"180"}}),e._v(" "),n("el-table-column",{attrs:{prop:"devCompName",label:"本地组件",width:"300"}}),e._v(" "),n("el-table-column",{attrs:{prop:"cnt",label:"加载次数"}})],1)],1),e._v(" "),n("el-collapse-item",{staticClass:"dev-comp-container",attrs:{name:"devCompList"},scopedSlots:e._u([{key:"title",fn:function(){return[n("el-tag",[e._v("本地组件列表")])]},proxy:!0}])},[e._v(" "),n("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入 dev 服务 url"},model:{value:e.devServer.baseURL,callback:function(t){e.$set(e.devServer,"baseURL",t)},expression:"devServer.baseURL"}},[n("el-select",{attrs:{slot:"prepend",placeholder:"请选择"},slot:"prepend",model:{value:e.devServer.protocol,callback:function(t){e.$set(e.devServer,"protocol",t)},expression:"devServer.protocol"}},[n("el-option",{attrs:{label:"HTTP://",value:"http"}}),e._v(" "),n("el-option",{attrs:{label:"HTTPS://",value:"https"}})],1),e._v(" "),n("el-button",{attrs:{slot:"append",icon:"el-icon-refresh-right"},on:{click:function(t){return e.refreshDevCompList(e.devServer)}},slot:"append"})],1),e._v(" "),n("el-table",{staticClass:"comp-list",staticStyle:{width:"100%"},attrs:{data:e.devCompList,"empty-text":e.devServerError&&e.devServerError.message||"暂无数据",border:""}},[n("el-table-column",{attrs:{prop:"name",label:"本地组件",width:"300"}}),e._v(" "),n("el-table-column",{attrs:{prop:"oriName",label:"线上组件",width:"300"}}),e._v(" "),n("el-table-column",{attrs:{prop:"comp.version",label:"线上版本",width:"180"}}),e._v(" "),n("el-table-column",{attrs:{label:"状态",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row,i=r.buttonType,o=r.state;return[n("el-tag",{attrs:{type:i}},[e._v("\n                "+e._s(o||"未加载")+"\n              ")])]}}])}),e._v(" "),n("el-table-column",{attrs:{fixed:"right",label:"替换线上同名组件"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row,i=r.name,o=r.oriName,a=r.intercepting;return[n("el-switch",{attrs:{name:"开启",value:a},on:{change:function(t){return e.setInterceptingComp({compName:o,devCompName:t?i:void 0})}}})]}}])})],1)],1)],1)],1)],1)},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dialog",{attrs:{title:"查看地址",width:"600px","close-on-click-modal":!0,"close-on-press-escape":!0,visible:e.visible},on:{"update:visible":function(t){e.visible=t},closed:e.onClosed}},[n("div",{staticClass:"page-url"},[n("el-row",{staticClass:"addr-filter"},[n("el-col",{attrs:{span:12}},[n("div",{staticClass:"biz-selector"},[n("span",[e._v("选择业务：")]),e._v(" "),n("el-select",{attrs:{placeholder:"请选择"},model:{value:e.curBiz,callback:function(t){e.curBiz=t},expression:"curBiz"}},e._l(e.event.biz_list,(function(t){return n("el-option",{key:t,attrs:{label:e.bizMap[t],value:t}})})),1)],1)]),e._v(" "),n("el-col",{attrs:{span:12}},[n("div",{staticClass:"type-selector"},[n("span",[e._v("选择类型：")]),e._v(" "),n("el-select",{attrs:{disabled:1===e.typeOptions.length,placeholder:"请选择"},model:{value:e.curType,callback:function(t){e.curType=t},expression:"curType"}},e._l(e.typeOptions,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)])],1),e._v(" "),n("ul",{staticClass:"page-url__list"},e._l(e.envMap,(function(t){return n("li",{key:t.name},[n("el-tag",{attrs:{type:t.tagType,"disable-transitions":!0}},[e._v("\n          "+e._s(t.label)+"\n        ")]),e._v(" "),n("div",{staticClass:"page-url__list-qrcode"},[n("img",{attrs:{src:e.pageQrcode[t.name],alt:""}})]),e._v(" "),n("div",[n("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.pageUrls[t.name],expression:"pageUrls[env.name]",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.handleCopy,expression:"handleCopy",arg:"success"}],attrs:{slot:"append",size:"mini",icon:"el-icon-copy-document"},slot:"append"},[e._v("\n            复制\n          ")]),e._v(" "),e.hasOpenButton?n("el-button",{attrs:{slot:"append",type:"primary",size:"mini",plain:"",icon:"el-icon-position"},on:{click:function(n){return e.openUrl(e.pageUrls[t.name])}},slot:"append"},[e._v("\n            打开\n          ")]):e._e()],1)],1)})),0)],1)])},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dialog",{attrs:{visible:e.visible,width:"1150px",top:"40px","close-on-click-modal":!1,"close-on-press-escape":!1,title:"选择模板"},on:{"update:visible":function(t){e.visible=t},close:function(t){return e.$emit("close")}}},[n("div",{staticClass:"template-dialog"},[n("div",{staticClass:"template-dialog__list"},[n("el-radio-group",{model:{value:e.tempInfo,callback:function(t){e.tempInfo=t},expression:"tempInfo"}},e._l(e.list,(function(e){return n("el-radio",{key:e.id,attrs:{label:e}},[n("template-card",{attrs:{item:e,"extra-style":{marginLeft:0}}})],1)})),1)],1),e._v(" "),e.pagination.total>e.pagination.limit?n("el-pagination",{attrs:{"current-page":e.pagination.page,"page-size":e.pagination.limit,total:e.pagination.total,layout:"prev, pager, next",background:""},on:{"current-change":e.handPageChange}}):e._e()],1),e._v(" "),n("div",{staticClass:"puzzle-event__tempFoot",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){return e.$emit("close")}}},[e._v("\n      取 消\n    ")]),e._v(" "),n("el-button",{attrs:{type:"primary",disabled:!e.tempInfo},on:{click:e.confirm}},[e._v("\n      确 定\n    ")])],1)])},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dialog",{attrs:{title:"变更提示",visible:e.show,width:"70%"},on:{"update:visible":function(t){e.show=t}}},[e.show?n("div",{staticClass:"main-content",domProps:{innerHTML:e._s(e.prettyHtml)}}):e._e(),e._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:e.handleClose}},[e._v("取 消")]),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:e.handleConfirm}},[e._v("确 定")])],1)])},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"puzzle-tools"},[n("div",{staticClass:"puzzle-coms"},[n("el-tabs",{model:{value:e.activetab,callback:function(t){e.activetab=t},expression:"activetab"}},[n("el-tab-pane",{attrs:{label:"前端组件",name:"fe"}},[n("div",{staticClass:"puzzle-base"},[n("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},on:{click:e.createDialog}},[e._v("\n            添加弹窗\n          ")])],1),e._v(" "),n("div",{staticClass:"puzzle-tools-group"},e._l(e.feCompList,(function(t){return n("div",{key:t.name,staticClass:"puzzle-comp",class:{"puzzle-comp--disable":"PageTypePage"===t.pageType&&e.isPageCompType},attrs:{draggable:"true","drag-type":"comp","comp-name":t.name}},[n("i",{class:t.__dev__?e.getDevCompIcon(t):t.icon}),e._v("\n            "+e._s(t.label)+" "+e._s(t.nodeCategory)+"\n          ")])})),0)]),e._v(" "),e.inMerlin?n("el-tab-pane",{attrs:{label:"后端模块",name:"be"}},[n("func-module")],1):e._e()],1)],1)])},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"puzzle-func-module"},[n("div",{staticClass:"puzzle-base"},[n("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},on:{click:e.createModule}},[e._v("\n      添加功能模块\n    ")]),e._v(" "),n("div",{staticClass:"puzzle-func-module__content"},[n("el-collapse",{attrs:{accordion:""},model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},e._l(e.funcModules,(function(t){return n("el-collapse-item",{key:t.id,attrs:{disabled:e.isPageCompType}},[n("template",{slot:"title"},[n("div",{staticClass:"puzzle-func-module-actions"},[n("el-tooltip",{attrs:{effect:"dark",content:t.func_name,placement:"top-start"}},[n("el-tag",{attrs:{"disable-transitions":!0}},[e._v("\n                  "+e._s(t.func_name)+e._s(t.func_name)+e._s(t.func_name)+"\n                ")])],1),e._v(" "),n("el-dropdown",{attrs:{trigger:"click","hide-on-click":!1}},[n("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(e){e.stopPropagation()}}},[e._v("\n                  模块配置"),n("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e._v(" "),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},e._l(t.space_list[0].modules,(function(t){return n("el-dropdown-item",{key:t.act_id},[t.biz_module_info.filter((function(e){return e.menu.config.url})).length?n("el-dropdown",{attrs:{trigger:"click"}},[n("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){e.stopPropagation()}}},[e._v("\n                        "+e._s(t.module_info.module_name)),n("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e._v(" "),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},e._l(t.biz_module_info.filter((function(e){return e.menu.config.url})),(function(t){return n("el-dropdown-item",{key:t.game_biz,nativeOn:{click:function(n){return n.stopPropagation(),e.handleEditModule(t)}}},[e._v("\n                          "+e._s(e.bizMap[t.game_biz])+"\n                        ")])})),1)],1):e._e()],1)})),1)],1),e._v(" "),n("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(n){return n.stopPropagation(),e.handleConst(t)}}},[e._v("\n                参数配置\n              ")]),e._v(" "),n("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(n){return n.stopPropagation(),e.handleDelete(t)}}},[e._v("\n                删除\n              ")])],1)]),e._v(" "),n("div",{staticClass:"puzzle-tools-group"},e._l(t.feComps,(function(t){return n("div",{key:t.name,staticClass:"puzzle-comp",class:{"puzzle-comp--disable":"PageTypePage"===t.pageType&&e.isPageCompType},attrs:{draggable:"true","drag-type":"comp","comp-name":t.name,"be-data":JSON.stringify(t.beData)}},[n("i",{class:t.icon}),e._v("\n              "+e._s(t.label)+"\n            ")])})),0)],2)})),1)],1)],1),e._v(" "),n("el-dialog",{staticClass:"available-dialog",attrs:{"append-to-body":"",width:"800px",title:"功能模块列表",visible:e.dialogAvailableVisible},on:{"update:visible":function(t){e.dialogAvailableVisible=t}}},[n("el-form",{attrs:{inline:!0,size:"mini",model:e.availableSearchForm}},[n("el-form-item",{attrs:{label:"关键词"}},[n("el-input",{attrs:{clearable:"",placeholder:"输入关键词"},model:{value:e.availableSearchForm.keyword,callback:function(t){e.$set(e.availableSearchForm,"keyword",t)},expression:"availableSearchForm.keyword"}})],1),e._v(" "),n("el-form-item",{attrs:{label:""}},[n("el-checkbox",{model:{value:e.availableSearchForm.is_dev,callback:function(t){e.$set(e.availableSearchForm,"is_dev",t)},expression:"availableSearchForm.is_dev"}},[e._v("\n          开发模式\n        ")])],1),e._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:e.handleAvailableList}},[e._v("\n          查询\n        ")])],1)],1),e._v(" "),n("el-table",{attrs:{data:e.availableList}},[n("el-table-column",{attrs:{property:"id",label:"id"}}),e._v(" "),n("el-table-column",{attrs:{property:"func_name",label:"名称"}}),e._v(" "),n("el-table-column",{attrs:{property:"version",label:"版本"}}),e._v(" "),n("el-table-column",{attrs:{property:"creator",label:"创建人"}}),e._v(" "),n("el-table-column",{attrs:{width:"160",property:"mtime",label:"修改时间"}}),e._v(" "),n("el-table-column",{attrs:{fixed:"right",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return e.handleAddAvailable(t.row)}}},[e._v("\n            添加\n          ")])]}}])})],1),e._v(" "),e.availableSearchForm.total>e.availableSearchForm.page_size?n("el-pagination",{attrs:{"current-page":e.availableSearchForm.page,"page-size":e.availableSearchForm.page_size,total:e.availableSearchForm.total,layout:"total, pager, prev, next"},on:{"update:currentPage":function(t){return e.$set(e.availableSearchForm,"page",t)},"update:current-page":function(t){return e.$set(e.availableSearchForm,"page",t)},"update:pageSize":function(t){return e.$set(e.availableSearchForm,"page_size",t)},"update:page-size":function(t){return e.$set(e.availableSearchForm,"page_size",t)},"current-change":e.handleAvailableChange}}):e._e()],1),e._v(" "),n("el-dialog",{staticClass:"const-dialog",attrs:{"append-to-body":"",width:"600px",title:"参数列表",visible:e.dialogConstVisible},on:{"update:visible":function(t){e.dialogConstVisible=t}}},[n("div",{staticClass:"constdialog-actions"},[n("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.handleNewConst}},[e._v("\n        添 加\n      ")])],1),e._v(" "),n("el-table",{attrs:{data:e.constList}},[n("el-table-column",{attrs:{property:"name",label:"名称"}}),e._v(" "),n("el-table-column",{attrs:{property:"key",label:"key"}}),e._v(" "),n("el-table-column",{attrs:{property:"value_type",label:"类型"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[e._v("\n          "+e._s(e.options.find((function(e){return e.value===n.value_type})).label)+"\n        ")]}}])}),e._v(" "),n("el-table-column",{attrs:{property:"value",label:"值"}}),e._v(" "),n("el-table-column",{attrs:{fixed:"right",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return e.handleEditConst(t.row)}}},[e._v("\n            编辑\n          ")])]}}])})],1)],1),e._v(" "),n("el-dialog",{attrs:{width:"600px",title:e.isEditConst?"参数编辑":"新增参数","append-to-body":"",visible:e.dialogConstFormVisible},on:{"update:visible":function(t){e.dialogConstFormVisible=t}}},[n("el-form",{ref:"constForm",attrs:{model:e.constForm,rules:e.constRules}},[n("el-form-item",{attrs:{label:"名称","label-width":"60px",prop:"name"}},[n("el-input",{attrs:{autocomplete:"off"},model:{value:e.constForm.name,callback:function(t){e.$set(e.constForm,"name",t)},expression:"constForm.name"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"key","label-width":"60px",prop:"key"}},[n("el-input",{attrs:{autocomplete:"off"},model:{value:e.constForm.key,callback:function(t){e.$set(e.constForm,"key",t)},expression:"constForm.key"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"类型","label-width":"60px",prop:"value_type"}},[n("el-select",{attrs:{disabled:e.isEditConst,placeholder:"请选择"},model:{value:e.constForm.value_type,callback:function(t){e.$set(e.constForm,"value_type",t)},expression:"constForm.value_type"}},e._l(e.options,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),n("el-form-item",{attrs:{label:"值","label-width":"60px",prop:"value"}},[n("el-input",{attrs:{autocomplete:"off"},model:{value:e.constForm.value,callback:function(t){e.$set(e.constForm,"value",t)},expression:"constForm.value"}})],1)],1),e._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{size:"mini"},on:{click:function(t){e.dialogConstFormVisible=!1}}},[e._v("\n        取 消\n      ")]),e._v(" "),n("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.handleSubmitConst}},[e._v("\n        提 交\n      ")])],1)],1)],1)},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"puzzle-tree"},[n("div",{staticClass:"node-search-wrapper"},[n("el-input",{attrs:{size:"mini",placeholder:"搜索节点（支持别名、类型）","suffix-icon":"el-icon-search"},model:{value:e.searchVal,callback:function(t){e.searchVal=t},expression:"searchVal"}}),e._v(" "),n("i",{directives:[{name:"show",rawName:"v-show",value:e.searchVal,expression:"searchVal"}],staticClass:"el-icon-error",on:{click:function(t){e.searchVal=""}}})],1),e._v(" "),n("el-tree",{attrs:{data:e.searchResults,"show-checkbox":!1,"highlight-current":"","node-key":"id","default-expanded-keys":e.expandedKeys,props:e.defaultProps,draggable:"","allow-drop":e.allowDrop,"allow-drag":e.allowDrag,"expand-on-click-node":!1},on:{"node-drag-start":e.handlerDragStart,"node-drag-over":e.handlerDragOver,"node-click":e.handleClick,"node-expand":e.handleNodeExpand,"node-collapse":e.handleNodeCollapse,"node-drag-end":e.handleDragEnd},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.node;return n("div",{staticClass:"puzzle-tree-node"},[n("div",{ref:e.activeNodeId===r.data.id?"active":"",staticClass:"puzzle-tree-node-wrapper",class:{active:e.activeNodeId===r.data.id}},[e.isEdit&&e.activeId===r.data.id?n("el-input",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.handleOutside,expression:"handleOutside"}],staticClass:"puzzle-tree-input",class:{"is-active":e.isEdit&&e.activeId===r.data.id},attrs:{placeholder:"请填写组件名",size:"mini",autofocus:!0},on:{blur:e.handleOutside},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleOutside.apply(null,arguments)}},model:{value:r.data.alias,callback:function(t){e.$set(r.data,"alias",t)},expression:"node.data.alias"}}):e._e(),e._v(" "),n("div",{staticClass:"puzzle-tree-node__text",on:{dblclick:function(t){return e.handleEdit(r)}}},[e.isEdit&&e.activeId===r.data.id?e._e():n("span",[e._v("\n            "+e._s(r.label)+"\n          ")])]),e._v(" "),n("div",{staticClass:"puzzle-tree-node__btns"},[e.isPageCompType?e._e():n("div",{staticClass:"puzzle-tree-node__btns-wrapper"},[n("el-tooltip",{attrs:{offset:10,content:"编辑",enterable:!1,placement:"top"}},[n("i",{staticClass:"el-icon-edit",on:{click:function(t){return t.stopPropagation(),e.handleEdit(r)}}})]),e._v(" "),n("el-tooltip",{attrs:{offset:10,content:"复制",enterable:!1,placement:"top"}},[n("i",{staticClass:"el-icon-copy-document",on:{click:function(t){return t.stopPropagation(),e.handleCopy(r)}}})]),e._v(" "),n("el-tooltip",{attrs:{offset:10,content:r.data.enabled?"隐藏节点":"显示节点",enterable:!1,placement:"top"}},[n("span",{on:{click:function(t){return t.stopPropagation(),e.handleView(r)}}},[r.data.enabled?n("img",{attrs:{src:"https://uploadstatic.mihoyo.com/bh3/upload/operation/202009/view_1601008066_1471.svg"}}):n("img",{attrs:{src:"https://uploadstatic.mihoyo.com/bh3/upload/operation/202009/view_off_1601008066_3003.svg"}})])]),e._v(" "),n("el-tooltip",{attrs:{offset:10,content:e.isLocked(r)?"解锁":"锁定",enterable:!1,placement:"top"}},[n("i",{class:e.isLocked(r)?"el-icon-lock":"el-icon-unlock",on:{click:function(t){return t.stopPropagation(),e.handleLock(r)}}})])],1),e._v(" "),n("el-tooltip",{attrs:{offset:10,content:"删除",enterable:!1,placement:"top"}},[n("i",{staticClass:"el-icon-delete",on:{click:function(t){return e.handleDelete(r)}}})])],1)],1)])}}])})],1)},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"puzzle-preview"},[e.isPageCompType?n("div",{staticClass:"module-action"},[n("div",{staticClass:"module-action__select"},[n("el-select",{attrs:{width:"100px",size:"small",placeholder:"切换模块",clearable:""},model:{value:e.module,callback:function(t){e.module=t},expression:"module"}},e._l(e.modules,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),n("div",{staticClass:"module-action__select"},[n("el-select",{attrs:{size:"small",placeholder:"切换状态"},model:{value:e.status,callback:function(t){e.status=t},expression:"status"}},e._l(e.statusList,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)]):e._e(),e._v(" "),n("tools-bar",{on:{initCanvasTransform:e.initCanvasTransform,resetCanvasClientData:e.resetCanvasClientData}}),e._v(" "),e.isPageCompType?e._e():n("el-button",{staticClass:"plat-action",attrs:{type:"primary",icon:"el-icon-refresh",size:"small"},on:{click:e.checkoutPlatType}},[e._v("\n    切换至"+e._s(e.otherType)+"端\n  ")]),e._v(" "),n("TopToolsBar"),e._v(" "),e.isFullScreen?n("pageList"):e._e(),e._v(" "),n("div",{ref:"canvasContainer",staticClass:"puzzle-preview-scroller",on:{mousewheel:e.mousewheel,mousedown:e.startDragCanvas,"!scroll":function(t){return e.scrollHandler.apply(null,arguments)}}},[n("div",{staticClass:"screens-container",class:{"drop-tip":!e.stopCanvasMove},style:e.screensContainerStyle,on:{click:e.puzzleClick}},[n("MainScreen",{attrs:{"active-page":e.activePage}}),e._v(" "),e._l(e.activeScreenNode,(function(e){return[n(e.type+"Screen",{key:e.node.id,tag:"component",attrs:{node:e.node}})]}))],2),e._v(" "),n("EditBox",{directives:[{name:"show",rawName:"v-show",value:e.showEditBox,expression:"showEditBox"}]}),e._v(" "),n("DragBox")],1)],1)},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"puzzle-setting",style:{width:e.formWidth}},[n("el-tabs",{staticClass:"tab-header",attrs:{type:"border-card"},model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[e.lang?e._e():n("el-tab-pane",{key:"page",attrs:{label:"页面",name:"page"}},[n("div",{staticClass:"puzzle-setting__container"},[n("div",{staticClass:"puzzle-setting-page"},[n("pageForm")],1)])]),e._v(" "),e.isPageCompType?n("el-tab-pane",{key:"component",attrs:{label:"组件",name:"component"}},[e.lang?n("Mi18nForm"):[n("el-form",{ref:"PageCompForm",attrs:{size:"mini","label-position":"left","label-width":"80px"},nativeOn:{submit:function(e){e.preventDefault()}}},[n("CompOptionsForm"),e._v(" "),e.isPageCompInitMi18n?e._e():n("CompMi18n")],1)]],2):e.activeNode?[n("el-tab-pane",{key:"component",attrs:{label:"组件",name:"component"}},["component"===e.activeTab?n("el-form",{ref:"compForm",attrs:{size:"mini","label-position":"left","label-width":"80px"},nativeOn:{submit:function(e){e.preventDefault()}}},[n("el-form-item",{attrs:{label:"组件类型"}},[n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.activeNode.id,placement:"top-start"}},[n("el-tag",{attrs:{size:"small","disable-transitions":!0}},[e._v("\n                "+e._s(e.activeNode.label)+"\n              ")])],1),e._v(" "),n("el-tag",{attrs:{size:"small","disable-transitions":!0}},[e._v("\n              "+e._s(("latest"===e.activeNode.version?"":"v")+e.activeNode.version)+"\n            ")])],1),e._v(" "),n("el-form-item",{attrs:{label:"节点名称"}},[n("el-input",{attrs:{size:"mini"},on:{change:e.setAlias},model:{value:e.alias,callback:function(t){e.alias=t},expression:"alias"}})],1),e._v(" "),n("div",{key:e.formKey,staticClass:"drag-form-box"},[e.activeNodeStateKey?n("OtherStateCompForm"):e.lang?n("Mi18nForm"):n("compForm",{attrs:{methods:e.methods}})],1)],1):e._e()],1),e._v(" "),e.lang||e.activeNodeStateKey?e._e():n("el-tab-pane",{key:"event",attrs:{label:"行为",name:"event"}},["event"===e.activeTab?[n("EventForm"),e._v(" "),e.compareVersion("ge","2.7.15")?n("EnvLinkForm"):e._e(),e._v(" "),e.compareVersion("ge","2.7.15")?n("LinkForm"):e._e()]:e._e()],2),e._v(" "),!e.lang&&e.showTransitionForm?n("el-tab-pane",{key:"transition",attrs:{label:"动效",name:"transition"}},["transition"===e.activeTab?[n("TransitionForm"),e._v(" "),n("TransitionEnterLeave"),e._v(" "),n("AnimationForm")]:e._e()],2):e._e()]:n("el-tab-pane",{key:"component-none",attrs:{label:"组件",name:"component"}},[e._v("\n      请选择组件\n    ")])],2)],1)},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"code-mode-container"})},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"pc-preview-fullscreen"},[r("img",{staticClass:"close-btn",attrs:{src:n(2430)},on:{click:function(t){return e.$emit("close")}}}),e._v(" "),r("PreviewIframe",{attrs:{"bridge-name":"preview-fullScreen",fullscreen:!0},on:{onLoad:e.onLoad}}),e._v(" "),e.iframeLoaded?e._e():r("img",{staticClass:"loading",attrs:{src:n(2431)}})],1)},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"resource-list-dialog",on:{dragover:function(t){return t.preventDefault(),e.preventDragDefault.apply(null,arguments)}}},[n("div",{staticClass:"search-bar"},[e._v("\n    组件名称："),n("el-input",{attrs:{placeholder:"请输入资源用到的组件名",size:"mini"},on:{input:e.searcnChange},model:{value:e.searchCompenontAlias,callback:function(t){e.searchCompenontAlias=t},expression:"searchCompenontAlias"}}),e._v("\n    资源链接："),n("el-input",{attrs:{placeholder:"请输入资源链接",size:"mini"},on:{input:e.searcnChange},model:{value:e.searchUrl,callback:function(t){e.searchUrl=t},expression:"searchUrl"}})],1),e._v(" "),n("div",{staticClass:"resource-list-main"},[n("el-tabs",{attrs:{"tab-position":"left"},model:{value:e.tabName,callback:function(t){e.tabName=t},expression:"tabName"}},e._l(e.filterResources,(function(t,r){return n("el-tab-pane",{key:r,attrs:{name:r,label:e.RES_TYPE_LIST[r].label}},[n("el-table",{ref:"table"+r,refInFor:!0,staticStyle:{width:"100%"},attrs:{"highlight-current-row":"",data:t,"row-class-name":e.getrowClassName,"max-height":"600","row-key":function(e){return e.src}}},[n("el-table-column",{attrs:{label:"资源","header-align":"center",width:"180"},scopedSlots:e._u([{key:"default",fn:function(e){return[n("Media",{attrs:{type:r,src:e.row.src,extension:e.row.extension}})]}}],null,!0)}),e._v(" "),n("el-table-column",{attrs:{"header-align":"center",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.compList,(function(t,r){return n("el-tag",{key:r,attrs:{"disable-transitions":!0}},[e._v("\n                "+e._s(t.name)+"\n              ")])}))}}],null,!0)},[n("template",{slot:"header"},[e._v("\n              关联组件\n              "),n("el-tooltip",{attrs:{effect:"dark",content:"若想取消一个组件与其他组件关联同一张图片的情况，需在单个组件节点单独替换。",placement:"top"}},[n("i",{staticClass:"el-icon-info"})])],1)],2),e._v(" "),n("el-table-column",{attrs:{"header-align":"center",width:"300"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("Upload",{attrs:{"is-blob-url":e.isBlobUrl,type:r,extension:t.row.extension,"revoke-object-u-r-l":e.revokeObjectURL,"file-msg":t.row.fileMsg,accept:e.getCanUploadResType(r,t.row.extension)}})]}}],null,!0)},[n("template",{slot:"header"},[e._v("\n              资源替换"),r!==e.RES_TYPE.IMAGE?n("span",[e._v("（只支持相同格式）")]):e._e()])],2),e._v(" "),[e.RES_TYPE.VIDEO,e.RES_TYPE.AUDIO].includes(r)?e._e():n("el-table-column",{attrs:{"header-align":"center",sortable:"","sort-method":e.sortMethod,"sort-orders":["descending",null],align:"center",width:"150"},scopedSlots:e._u([{key:"header",fn:function(t){return[e._v("\n              开启预加载\n              "),n("el-tooltip",{attrs:{effect:"dark",content:"默认前5个资源默认预加载，且不能取消。",placement:"top"}},[n("i",{staticClass:"el-icon-info"})])]}},{key:"default",fn:function(t){return[n("el-switch",{attrs:{value:t.row.preload||t.row.autoPreload,disabled:t.row.noPreload||t.row.autoPreload},on:{change:function(n){return e.preloadChange(n,t.row)}}})]}}],null,!0)}),e._v(" "),n("el-table-column",{attrs:{"header-align":"center",align:"center",width:"260"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-tag",{attrs:{"disable-transitions":!0}},[e._v("\n                "+e._s(t.row.extension)+"\n              ")]),e._v(" "),e.curUploadLists.replaceUrlList[t.row.src]&&e.curUploadLists.replaceUrlList[t.row.src].extension&&t.row.extension!==e.curUploadLists.replaceUrlList[t.row.src].extension?[e._v("\n                替换成\n                "),n("el-tag",{attrs:{type:"success","disable-transitions":!0}},[e._v("\n                  "+e._s(e.curUploadLists.replaceUrlList[t.row.src].extension)+"\n                ")])]:e._e()]}}],null,!0)},[n("template",{slot:"header"},[e._v("\n              资源类型\n              "),n("el-tooltip",{attrs:{effect:"dark",content:r===e.RES_TYPE.IMAGE?"暂只支持：JPG，JPEG。PNG，GIF格式":"只允许上传对应类型资源",placement:"top"}},[n("i",{staticClass:"el-icon-info"})])],1)],2)],1)],1)})),1)],1),e._v(" "),n("div",{staticClass:"resource-list-footer"},[n("div",{staticClass:"resource-list-foote-tip"},[n("el-tag",{directives:[{name:"show",rawName:"v-show",value:e.curUploadLists.startUploadList.length,expression:"curUploadLists.startUploadList.length"}],attrs:{size:"mini","disable-transitions":!0},on:{click:function(t){return e.goToView("upload")}}},[n("span",[e._v("正在上传 "),n("span",{staticStyle:{color:"blue"}},[e._v(e._s(e.curUploadLists.startUploadList.length))]),e._v(" 个资源")])]),e._v(" "),n("el-tag",{directives:[{name:"show",rawName:"v-show",value:e.curUploadLists.uploadErrorList.length,expression:"curUploadLists.uploadErrorList.length"}],attrs:{size:"mini","disable-transitions":!0},on:{click:function(t){return e.goToView("error")}}},[n("span",[e._v("有 "),n("span",{staticStyle:{color:"red"}},[e._v(e._s(e.curUploadLists.uploadErrorList.length))]),e._v(" 个资源上传失败")])])],1),e._v(" "),n("el-button",{on:{click:e.closeHandler}},[e._v("\n      取 消\n    ")]),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:e.save}},[e._v("\n      保 存\n    ")])],1)])},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-row",{staticStyle:{"margin-bottom":"20px"},attrs:{gutter:10}},[n("el-col",{attrs:{span:18}},[n("puzzle-upload",{staticClass:"bg-pz-upload",attrs:{accept:".png,.jpeg,.jpg,.gif"},model:{value:e.backgroundImage,callback:function(t){e.backgroundImage=t},expression:"backgroundImage"}})],1),e._v(" "),n("el-col",{staticClass:"bg-handle-pannel",attrs:{span:6}},[n("bg-form",{attrs:{value:e.value},on:{"update-data":e.handleUpdateData}},[n("el-button",{attrs:{type:"primary",size:"mini"}},[e._v("\n        编辑\n      ")])],1),e._v(" "),e.isShowDel?n("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(t){return e.handleUpdateData({del:!0})}}},[e._v("\n      删除\n    ")]):e._e()],1)],1)},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dialog",{staticClass:"config-module",attrs:{visible:e.visible,title:"配置模块 / "+e.bizName,fullscreen:""},on:{"update:visible":function(t){e.visible=t},closed:e.onClosed}},[n("iframe",{staticClass:"config-module__iframe",attrs:{src:e.url,frameborder:"0"}})])},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-thumbnails",class:{active:!e.collapsePageThumb}},[n("draggable",{staticClass:"page-drag-container",attrs:{tag:"ul",animation:200},model:{value:e.pages,callback:function(t){e.pages=t},expression:"pages"}},e._l(e.pages,(function(t,r){return n("li",{key:r,staticClass:"page-thumbnail",class:{active:r===e.activePageIdx},on:{mousedown:function(t){return e.checkoutPage(r)},contextmenu:function(t){return e.handleContextMenu(t,r)}}},[n("p",[e._v("\n        "+e._s(r+1)+"\n      ")])])})),0),e._v(" "),n("div",{staticClass:"page-option"},[n("i",{staticClass:"el-icon-circle-plus",on:{click:e.add}})]),e._v(" "),e.showCtxMenu?n("ul",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.closeCtxMenu,expression:"closeCtxMenu"}],staticClass:"pages-contenxt-menu",style:e.ctxMenuStyle},[n("li",{on:{click:function(t){return e.clickCtxMenu("cut")}}},[e._v("\n      剪切\n    ")]),e._v(" "),n("li",{on:{click:function(t){return e.clickCtxMenu("copy")}}},[e._v("\n      拷贝\n    ")]),e._v(" "),n("li",{on:{click:function(t){return e.clickCtxMenu("paste")}}},[e._v("\n      粘贴\n    ")]),e._v(" "),n("li",{on:{click:function(t){return e.clickCtxMenu("duplicate")}}},[e._v("\n      复制\n    ")]),e._v(" "),n("li",{staticClass:"del-page",on:{click:function(t){return e.clickCtxMenu("delete")}}},[e._v("\n      删除\n    ")])]):e._e(),e._v(" "),n("i",{staticClass:"icon-collapse el-icon-arrow-right",on:{click:e.togglePageThumbCollapse}})],1)},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.editNodes?n("PuzzleScreen",{staticClass:"main-screen",class:[{"fullpage-container":e.platMsg.body.fullScreen}],attrs:{name:"主界面",index:0,"root-node-id":e.rootNodeId,"button-list":e.buttonList,"is-main":!0,"can-destory":!1}},[e.isPageCompType?e._e():n("EditMode",{style:e.containerStyle,attrs:{"root-node-id":e.rootNodeId,nodes:e.editNodes}}),e._v(" "),"preview"===e.modeType?n("PreviewIframe",{ref:"previewIframe",attrs:{"bridge-name":"preview"}}):e._e()],1):e._e()},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this.$createElement;return(this._self._c||e)("iframe",{key:this.src,ref:"preview",staticClass:"iframe-preview-container",attrs:{src:this.src}})},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this.$createElement,t=this._self._c||e;return t("PuzzleScreen",{staticClass:"fullpage-container",attrs:{name:this.node.alias,"root-node-id":this.id,"button-list":this.buttonList}},[t("EditMode",{attrs:{"root-node-id":this.id,nodes:[this.node]}})],1)},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("PuzzleScreen",{staticClass:"fullpage-container",attrs:{name:e.curNode.alias,"root-node-id":e.curNode.id,"close-id":e.swiperNode.id,"button-list":e.buttonList},scopedSlots:e._u([{key:"right",fn:function(t){var r=t.margin;return[n("draggable",{staticClass:"swiper-item-container",attrs:{animation:200},model:{value:e.brother,callback:function(t){e.brother=t},expression:"brother"}},e._l(e.brother,(function(t,i){return n("div",{key:t.id,staticClass:"swiper-item",class:[{active:e.swiperIndex===i}],style:{height:2*r+"px",width:r+"px",marginBottom:r/4+"px",fontSize:r/2+"px"},on:{click:function(e){e.stopPropagation()},mousedown:function(t){return e.selectSwiper(i)}}},[e._v("\n        "+e._s(i+1)+"\n      ")])})),0)]}}])},[n("div",{staticClass:"flex-screen"},[n("div",{staticClass:"swiper-container",class:{disabled:e.disabled},style:Object.assign({},e.swiperNode.boxStyle,e.outerStyle,e.customStyle)},[n("rndNode",{key:e.curNode.id,attrs:{"root-node-id":e.node.id,config:e.curNode}})],1)])])},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("PuzzleScreen",{staticClass:"fullpage-container",attrs:{name:e.curContentNode.alias,"root-node-id":e.curContentNode.id,"close-id":e.collapseNode.id,"button-list":e.buttonList},scopedSlots:e._u([{key:"right",fn:function(t){var r=t.margin;return[n("draggable",{staticClass:"collapse-item-container",attrs:{animation:200},model:{value:e.brother,callback:function(t){e.brother=t},expression:"brother"}},e._l(e.brother,(function(t,i){return n("div",{key:i,staticClass:"collapse-item",class:[{active:e.swiperIndex===i}],style:{height:2*r+"px",width:r+"px",marginBottom:r/4+"px",fontSize:r/2+"px"},on:{click:function(e){e.stopPropagation()},mousedown:function(t){return e.selectCollapse(i)}}},[e._v("\n        "+e._s(i+1)+"\n      ")])})),0)]}}])},[n("div",{staticClass:"flex-screen"},[n("div",{staticClass:"collapse-container",class:{disabled:e.disabled},style:Object.assign({},e.collapseNode.boxStyle,e.outerStyle)},[n("div",{staticClass:"collapse-title-container",style:e.titleStyle},[n("rndNode",{key:e.curTitleNode.id,attrs:{"root-node-id":e.node.id,config:e.curTitleNode}})],1),e._v(" "),n("div",{staticClass:"collapse-container-container",style:e.contentStyle},[n("rndNode",{key:e.curContentNode.id,attrs:{"root-node-id":e.node.id,config:e.curContentNode}})],1)])])])},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this.$createElement,t=this._self._c||e;return t("PuzzleScreen",{staticClass:"custon-button-container",attrs:{name:this.curNode.alias,"root-node-id":this.curNode.id,"close-id":this.node.id}},[t("div",{staticClass:"flex-screen"},[t("rndNode",{attrs:{"root-node-id":this.node.id,config:this.curNode}})],1)])},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"edit-box",class:{"relative-style":e.isRelative,"no-edit-style":e.noEditStyle},style:e.editBoxStyle,on:{mousewheel:e.cancelBoxScroll,mousedown:function(t){return t.target!==t.currentTarget?null:e.mouseDown(t,"move")}}},[n("svg",{directives:[{name:"show",rawName:"v-show",value:!(e.activeNodePro&&e.activeNodePro.canNestable),expression:"!(activeNodePro&&activeNodePro.canNestable)"}],staticClass:"line-container",attrs:{version:"1.1",baseProfile:"full",preserveAspectRatio:"none",xmlns:"http://www.w3.org/2000/svg"}},[n("line",{attrs:{x1:"0",y1:"0",x2:"100%",y2:"100%",stroke:e.lineColor,"stroke-width":"1"}}),e._v(" "),n("line",{attrs:{x1:"0",y1:"100%",x2:"100%",y2:"0",stroke:e.lineColor,"stroke-width":"1"}})]),e._v(" "),e.noEditStyle?e._e():[e._l(e.boxIconsMsg,(function(t,r){return[e.checkoutPointerShow(t)?n("div",{key:r,staticClass:"edit-icon-container",class:"edit-icon-container-"+r,on:{mousedown:function(t){return e.mouseDown(t,r)}}},[n("div",{staticClass:"edit-icon"})]):e._e()]}))]],2)},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{directives:[{name:"show",rawName:"v-show",value:this.curDragElClientRect.el,expression:"curDragElClientRect.el"}],staticClass:"drag-box",class:this.containerClass,style:this.dragBoxStyle},[t("div",{directives:[{name:"show",rawName:"v-show",value:"top"===this.curDragElClientRect.areaKey,expression:"curDragElClientRect.areaKey === 'top'"}],staticClass:"top-line outer-line"}),this._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:"bottom"===this.curDragElClientRect.areaKey,expression:"curDragElClientRect.areaKey === 'bottom'"}],staticClass:"bottom-line outer-line"})])},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"bd-actions"},["preview"===e.modeType&&e.compareVersion("ge","2.10.23")?n("div",[n("ZoneSelector",{staticClass:"zone-container",attrs:{value:e.previewZone},on:{change:e.updatePreviewZone}}),e._v(" "),n("ZeroZoneTimeSelector",{staticClass:"time-container",attrs:{value:e.previewTime,placeholder:"请选择预览时间"},on:{input:e.updatePreviewTime}})],1):e._e(),e._v(" "),e.isPageCompType?e._e():n("el-radio-group",{attrs:{size:"mini"},model:{value:e.modeType,callback:function(t){e.modeType=t},expression:"modeType"}},[n("el-radio-button",{attrs:{label:"edit"}},[e._v("\n      编辑模式\n    ")]),e._v(" "),n("el-radio-button",{attrs:{label:"preview"}},[e._v("\n      预览模式\n    ")])],1),e._v(" "),"preview"===e.modeType&&e.compareVersion("ge","2.9.6")?n("el-select",{ref:"select",staticClass:"select-container",style:{position:e.isPageCompType?"static":void 0},attrs:{value:e.platValueList,multiple:"",filterable:"","collapse-tags":"",size:"small",clearable:"",placeholder:"切换预览渠道"},on:{change:e.previewPlatChange}},e._l(e.platList,(function(t){return n("el-option-group",{key:t.label,attrs:{label:t.label}},e._l(t.options,(function(r){return n("el-option",{key:r.value||r.label,attrs:{value:r.value||r.label}},[n("div",{staticClass:"select-box"},[n("div",{staticClass:"left-box"},[r.value&&"pzadd"===r.value?n("span",{staticStyle:{color:"#409EFF"}},[n("i",{staticClass:"el-icon-plus"}),e._v("自定义")]):n("span",[e._v(e._s(r.label))])]),e._v(" "),"自定义渠道"!==t.label||r.value&&"pzadd"===r.value?e._e():n("div",{staticClass:"right-box",staticStyle:{color:"#409EFF"}},[n("i",{staticClass:"el-icon-edit",staticStyle:{"margin-right":"10px"},on:{click:function(t){return t.stopPropagation(),e.handlerEdit(r)}}}),e._v(" "),n("i",{staticClass:"el-icon-delete",on:{click:function(t){return t.stopPropagation(),e.handlerDelete(r.label)}}})])])])})),1)})),1):e._e(),e._v(" "),n("el-dialog",{attrs:{visible:e.visible,title:"添加预览参数","append-to-body":"","show-close":!1,"close-on-click-modal":!1},on:{"update:visible":function(t){e.visible=t}}},[n("el-form",{ref:"form",attrs:{model:e.formData,"label-width":"100px"}},[n("el-form-item",{attrs:{prop:"label",label:"渠道名"}},[n("el-input",{attrs:{placeholder:"请输入渠道命名"},model:{value:e.formData.label,callback:function(t){e.$set(e.formData,"label",t)},expression:"formData.label"}})],1),e._v(" "),e._l(e.formData.searchs,(function(t,r){return n("el-form-item",{key:r,attrs:{label:"参数项"+r}},[n("el-col",{attrs:{span:5}},[n("el-form-item",{attrs:{rules:[{required:!0,message:"该参数不能为空",trigger:"blur"}],prop:"searchs."+r+".key"}},[n("el-input",{attrs:{placeholder:"参数名"},model:{value:t.key,callback:function(n){e.$set(t,"key",n)},expression:"search.key"}})],1)],1),e._v(" "),n("el-col",{staticClass:"line",staticStyle:{"text-align":"center"},attrs:{span:2}},[e._v("\n          -\n        ")]),e._v(" "),n("el-col",{attrs:{span:5}},[n("el-form-item",{attrs:{rules:[{required:!0,message:"该参数不能为空",trigger:"blur"}],prop:"searchs."+r+".val"}},[n("el-input",{attrs:{placeholder:"参数值"},model:{value:t.val,callback:function(n){e.$set(t,"val",n)},expression:"search.val"}})],1)],1),e._v(" "),n("el-col",{attrs:{span:5}},[e.formData.searchs.length>1?n("el-button",{attrs:{type:"text"},on:{click:function(n){return e.handlerDeleteItem(t)}}},[e._v("\n            删除\n          ")]):e._e(),e._v(" "),r===e.formData.searchs.length-1?n("el-button",{attrs:{type:"text"},on:{click:e.addSearch}},[e._v("\n            新增参数\n          ")]):e._e()],1)],1)}))],2),e._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:e.handleClose}},[e._v("取 消")]),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:e.addPreviewPlatList}},[e._v("确 定")])],1)],1)],1)},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.formComp?n(e.formComp,{tag:"component",class:[{"comp-form-options":!e.isPageCompType}],attrs:{value:e.compConfig,size:"mini",env:e.compFormEnv,config:e.activeNode,"label-position":"left","label-width":"80px","edit-module":e.pageModule,helpers:e.compFormHelpers,nodes:e.mapProNodes},on:{updateStyle:e.formMethods.updateStyle,updateOptions:function(t){return e.formMethods.updateOptions(arguments)},updateEditOptions:e.formMethods.updateEditOptions}}):e._e()},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-form",{ref:"pageForm",attrs:{model:e.baseInfo,size:"mini","label-position":"left","label-width":"90px"},nativeOn:{submit:function(e){e.preventDefault()}}},[n("el-divider",{attrs:{"content-position":"left"}},[n("el-tooltip",{attrs:{content:"页面级配置，平台统一",placement:"top"}},[n("span",[e._v("页面基础配置 "),n("i",{staticClass:"el-icon-info"})])])],1),e._v(" "),n("el-form-item",{attrs:{label:"页面标题"}},[n("el-input",{attrs:{placeholder:"页面标题"},model:{value:e.baseInfo.head.title,callback:function(t){e.$set(e.baseInfo.head,"title",t)},expression:"baseInfo.head.title"}})],1),e._v(" "),e.isPageCompType?e._e():n("el-form-item",[n("el-tooltip",{attrs:{slot:"label",content:"设计稿的宽度",placement:"top"},slot:"label"},[n("span",[e._v("设计宽度 "),n("i",{staticClass:"el-icon-info"})])]),e._v(" "),n("el-input-number",{attrs:{size:"small"},model:{value:e.platMsg.body.width,callback:function(t){e.$set(e.platMsg.body,"width",t)},expression:"platMsg.body.width"}}),e._v(" "),n("span",[e._v(" px")])],1),e._v(" "),e.isPageCompType?e._e():n("el-form-item",[n("el-tooltip",{attrs:{slot:"label",content:"设计稿的高度",placement:"top"},slot:"label"},[n("span",[e._v("设计高度 "),n("i",{staticClass:"el-icon-info"})])]),e._v(" "),n("el-input-number",{attrs:{size:"small"},model:{value:e.platMsg.body.height,callback:function(t){e.$set(e.platMsg.body,"height",t)},expression:"platMsg.body.height"}}),e._v(" "),n("span",[e._v(" px")])],1),e._v(" "),e.platMsg.body.fullScreen||"pc"!==e.platform?e._e():[n("el-form-item",[n("el-tooltip",{attrs:{slot:"label",content:"小于此宽度时左右裁剪",placement:"top"},slot:"label"},[n("span",[e._v("最小宽度 "),n("i",{staticClass:"el-icon-info"})])]),e._v(" "),n("el-input-number",{attrs:{size:"small"},model:{value:e.minWidth,callback:function(t){e.minWidth=t},expression:"minWidth"}}),e._v(" "),n("span",[e._v(" px")])],1),e._v(" "),n("el-form-item",[n("el-tooltip",{attrs:{slot:"label",content:"大于此宽度时两侧留白",placement:"top"},slot:"label"},[n("span",[e._v("最大宽度 "),n("i",{staticClass:"el-icon-info"})])]),e._v(" "),n("el-input-number",{attrs:{size:"small"},model:{value:e.platMsg.body.maxWidth,callback:function(t){e.$set(e.platMsg.body,"maxWidth",t)},expression:"platMsg.body.maxWidth"}}),e._v(" "),n("span",[e._v(" px")])],1)],e._v(" "),"colClip"===e.platMsg.body.fullScreen?n("el-form-item",[n("el-tooltip",{attrs:{slot:"label",content:"屏幕小于此高度左右留白",placement:"top"},slot:"label"},[n("span",[e._v("最小高度 "),n("i",{staticClass:"el-icon-info"})])]),e._v(" "),n("el-input-number",{attrs:{size:"small"},model:{value:e.h5MinHeight,callback:function(t){e.h5MinHeight=t},expression:"h5MinHeight"}}),e._v(" "),n("span",[e._v(" px")])],1):e._e(),e._v(" "),"rawClip"===e.platMsg.body.fullScreen?["pc"===e.platform?n("el-form-item",{attrs:{label:"布局填充"}},[n("el-switch",{model:{value:e.pcCover,callback:function(t){e.pcCover=t},expression:"pcCover"}})],1):e._e(),e._v(" "),e.pcCover?e._e():n("el-form-item",[n("el-tooltip",{attrs:{slot:"label",content:"屏幕小于此宽度左右裁剪",placement:"top"},slot:"label"},[n("span",[e._v("最小宽度 "),n("i",{staticClass:"el-icon-info"})])]),e._v(" "),n("el-input-number",{attrs:{size:"small"},model:{value:e.h5MinWidth,callback:function(t){e.h5MinWidth=t},expression:"h5MinWidth"}}),e._v(" "),n("span",[e._v(" px")])],1),e._v(" "),"pc"===e.platform?n("el-form-item",[n("el-tooltip",{attrs:{slot:"label",content:"屏幕小于此宽度左右滚动",placement:"top"},slot:"label"},[n("span",[e._v("最小宽度滚动 "),n("i",{staticClass:"el-icon-info"})])]),e._v(" "),n("el-input-number",{attrs:{size:"small"},model:{value:e.minScrollRatio,callback:function(t){e.minScrollRatio=t},expression:"minScrollRatio"}}),e._v(" "),n("span",[e._v(" px")])],1):e._e(),e._v(" "),"pc"===e.platform?n("el-form-item",[n("el-tooltip",{attrs:{slot:"label",content:"屏幕小于此高度上下滚动",placement:"top"},slot:"label"},[n("span",[e._v("最小高度滚动 "),n("i",{staticClass:"el-icon-info"})])]),e._v(" "),n("el-input-number",{attrs:{size:"small"},model:{value:e.maxScrollRatio,callback:function(t){e.maxScrollRatio=t},expression:"maxScrollRatio"}}),e._v(" "),n("span",[e._v(" px")])],1):e._e()]:e._e(),e._v(" "),"pc"===e.platform?n("el-form-item",{attrs:{label:"最小长度滚动"}},[n("el-input-number",{attrs:{size:"small"},model:{value:e.minScrollWidth,callback:function(t){e.minScrollWidth=t},expression:"minScrollWidth"}}),e._v(" "),n("span",[e._v(" px")])],1):e._e(),e._v(" "),"colClip"===e.platMsg.body.fullScreen?n("el-form-item",{attrs:{label:"页面对齐"}},[n("el-select",{attrs:{size:"mini",placeholder:"请选择页面对齐类型"},model:{value:e.clipType,callback:function(t){e.clipType=t},expression:"clipType"}},e._l(e.pageAlignMap,(function(e){return n("el-option",{key:e.label,attrs:{label:e.label,value:e.value}})})),1)],1):e._e(),e._v(" "),e.platMsg.body.fullScreen&&!e.pcCover?n("el-form-item",{attrs:{label:"取消容器约束"}},[n("el-switch",{model:{value:e.fixToBody,callback:function(t){e.fixToBody=t},expression:"fixToBody"}})],1):e._e(),e._v(" "),e.hasCnBiz?[n("el-divider",{attrs:{"content-position":"left"}},[e._v("\n        seo配置\n      ")]),e._v(" "),n("el-form-item",{attrs:{label:"描述"}},[n("el-input",{attrs:{placeholder:"页面描述"},model:{value:e.baseInfo.head.desc,callback:function(t){e.$set(e.baseInfo.head,"desc",t)},expression:"baseInfo.head.desc"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"关键词"}},[n("el-input",{attrs:{placeholder:"页面关键词"},model:{value:e.baseInfo.head.keywords,callback:function(t){e.$set(e.baseInfo.head,"keywords",t)},expression:"baseInfo.head.keywords"}})],1),e._v(" "),n("el-divider",{attrs:{"content-position":"left"}},[e._v("\n        分享配置\n      ")]),e._v(" "),n("el-form-item",[n("el-tooltip",{attrs:{slot:"label",content:"设置微信、QQ、米游社APP内的分享",placement:"top"},slot:"label"},[n("span",[e._v("开启分享 "),n("i",{staticClass:"el-icon-info"})])]),e._v(" "),n("el-switch",{model:{value:e.baseInfo.share.enable,callback:function(t){e.$set(e.baseInfo.share,"enable",t)},expression:"baseInfo.share.enable"}})],1),e._v(" "),e.baseInfo.share.enable?n("div",[n("el-form-item",{attrs:{label:"分享标题"}},[n("el-input",{attrs:{placeholder:"分享标题"},model:{value:e.baseInfo.share.title,callback:function(t){e.$set(e.baseInfo.share,"title",t)},expression:"baseInfo.share.title"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"分享描述"}},[n("el-input",{attrs:{placeholder:"分享描述"},model:{value:e.baseInfo.share.desc,callback:function(t){e.$set(e.baseInfo.share,"desc",t)},expression:"baseInfo.share.desc"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"分享缩略图"}},[n("puzzle-upload",{attrs:{accept:".png,.jpeg,.jpg,.gif"},model:{value:e.baseInfo.share.img,callback:function(t){e.$set(e.baseInfo.share,"img",t)},expression:"baseInfo.share.img"}})],1)],1):e._e()]:e._e(),e._v(" "),e.hasSeaBiz?[n("el-divider",{attrs:{"content-position":"left"}},[e._v("\n        seo配置(海外)\n      ")]),e._v(" "),n("el-form-item",{attrs:{label:"描述"}},[n("el-input",{attrs:{placeholder:"页面描述"},model:{value:e.baseInfo.seaHead.desc,callback:function(t){e.$set(e.baseInfo.seaHead,"desc",t)},expression:"baseInfo.seaHead.desc"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"关键词"}},[n("el-input",{attrs:{placeholder:"页面关键词"},model:{value:e.baseInfo.seaHead.keywords,callback:function(t){e.$set(e.baseInfo.seaHead,"keywords",t)},expression:"baseInfo.seaHead.keywords"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"分享标题"}},[n("el-input",{attrs:{placeholder:"分享标题"},model:{value:e.baseInfo.seaHead.shareTitle,callback:function(t){e.$set(e.baseInfo.seaHead,"shareTitle",t)},expression:"baseInfo.seaHead.shareTitle"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"分享描述"}},[n("el-input",{attrs:{placeholder:"分享描述"},model:{value:e.baseInfo.seaHead.shareDesc,callback:function(t){e.$set(e.baseInfo.seaHead,"shareDesc",t)},expression:"baseInfo.seaHead.shareDesc"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"分享图片"}},[n("puzzle-upload",{attrs:{accept:".png,.jpeg,.jpg"},model:{value:e.baseInfo.seaHead.shareImage,callback:function(t){e.$set(e.baseInfo.seaHead,"shareImage",t)},expression:"baseInfo.seaHead.shareImage"}})],1)]:e._e(),e._v(" "),n("el-divider",{attrs:{"content-position":"left"}},[e._v("\n      统计配置\n    ")]),e._v(" "),n("el-form-item",{attrs:{label:"cnzz siteId"}},[n("el-input",{attrs:{placeholder:""},model:{value:e.baseInfo.cnzzSiteId,callback:function(t){e.$set(e.baseInfo,"cnzzSiteId",t)},expression:"baseInfo.cnzzSiteId"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"mia appId"}},[n("el-input",{attrs:{placeholder:""},model:{value:e.baseInfo.miaAppId,callback:function(t){e.$set(e.baseInfo,"miaAppId",t)},expression:"baseInfo.miaAppId"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"ga appId"}},[n("el-input",{attrs:{placeholder:""},model:{value:e.baseInfo.gaId,callback:function(t){e.$set(e.baseInfo,"gaId",t)},expression:"baseInfo.gaId"}})],1),e._v(" "),n("pz-background-form",{attrs:{value:e.platMsg.body},on:{"update-mutil":e.handleUpdateMutilBg,"update-single":e.handleUpdateSingleBg}}),e._v(" "),void 0!==e.baseInfo.cookieTip&&e.hasSeaBiz?[n("el-divider",{attrs:{"content-position":"left"}},[e._v("\n        海外cookie提示\n      ")]),e._v(" "),n("el-form-item",[n("el-tooltip",{attrs:{slot:"label",content:"海外cookie提示",placement:"top"},slot:"label"},[n("span",[e._v("开启提示 "),n("i",{staticClass:"el-icon-info"})])]),e._v(" "),n("el-switch",{model:{value:e.cookieTip,callback:function(t){e.cookieTip=t},expression:"cookieTip"}})],1)]:e._e(),e._v(" "),n("el-divider",{attrs:{"content-position":"left"}},[e._v("\n      横竖屏提示\n    ")]),e._v(" "),n("el-form-item",{attrs:{label:"是否开启"}},[n("el-switch",{model:{value:e.landscapeTip,callback:function(t){e.landscapeTip=t},expression:"landscapeTip"}})],1),e._v(" "),n("el-collapse",[n("el-collapse-item",{attrs:{title:"高级选项"}},[n("el-divider",{attrs:{"content-position":"left"}},[n("el-tooltip",{attrs:{content:"平台独立配置",placement:"top"}},[n("span",[e._v("平台配置 "),n("i",{staticClass:"el-icon-info"})])])],1),e._v(" "),n("el-form-item",[n("el-tooltip",{attrs:{slot:"label",content:"激活本平台",placement:"top"},slot:"label"},[n("span",[e._v("激活 "),n("i",{staticClass:"el-icon-info"})])]),e._v(" "),n("el-switch",{model:{value:e.platMsg.enable,callback:function(t){e.$set(e.platMsg,"enable",t)},expression:"platMsg.enable"}})],1),e._v(" "),n("el-form-item",[n("el-tooltip",{attrs:{slot:"label",content:"开启图片默认上传压缩",placement:"top"},slot:"label"},[n("span",[e._v("图片压缩 "),n("i",{staticClass:"el-icon-info"})])]),e._v(" "),n("el-switch",{model:{value:e.uploadImgDefaultCompress,callback:function(t){e.uploadImgDefaultCompress=t},expression:"uploadImgDefaultCompress"}})],1),e._v(" "),n("el-form-item",[n("el-tooltip",{attrs:{slot:"label",content:"双端互跳链接（为空时不跳转）",placement:"top"},slot:"label"},[n("span",[e._v(e._s(e.isPC?"m端地址":"pc端地址")+" "),n("i",{staticClass:"el-icon-info"})])]),e._v(" "),n("el-input",{model:{value:e.platMsg.jumpUrl,callback:function(t){e.$set(e.platMsg,"jumpUrl",t)},expression:"platMsg.jumpUrl"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"关闭游戏内音乐"}},[n("el-switch",{attrs:{value:!e.baseInfo.hasGameBgm},on:{input:function(t){e.baseInfo.hasGameBgm=!t}}})],1),e._v(" "),n("el-form-item",{attrs:{label:"使用服务器时间"}},[n("el-switch",{attrs:{value:e.baseInfo.useSeverTime},on:{input:function(t){e.baseInfo.useSeverTime=t}}})],1),e._v(" "),n("el-form-item",{directives:[{name:"mihoyo-auth",rawName:"v-mihoyo-auth",value:{authKey:"module"},expression:"{authKey: 'module'}"}]},[n("el-tooltip",{attrs:{slot:"label",content:"渲染模板版本",placement:"top"},slot:"label"},[n("span",[e._v("buildVer "),n("i",{staticClass:"el-icon-info"})])]),e._v(" "),n("el-input",{model:{value:e.baseInfo.buildVer,callback:function(t){e.$set(e.baseInfo,"buildVer",t)},expression:"baseInfo.buildVer"}})],1)],1)],1)],2)],1)},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"comp-form"},[n("el-form",{ref:"compForm",attrs:{model:e.compForm,size:"mini","label-position":"left","label-width":"80px"},nativeOn:{submit:function(e){e.preventDefault()}}},[n("ConfigFormItem",{attrs:{name:"showEditOptions"}}),e._v(" "),n("ConfigFormItem",{attrs:{name:"fixAspectRatio"}}),e._v(" "),e.canSelectshowPage?n("el-form-item",{attrs:{label:"展示屏幕"}},[n("el-select",{attrs:{multiple:"",filterable:"","allow-create":"","default-first-option":"",placeholder:"请选择指定展示的屏幕"},model:{value:e.showPageList,callback:function(t){e.showPageList=t},expression:"showPageList"}},e._l(e.fullpageNodes,(function(e,t){return n("el-option",{key:e.id,attrs:{label:"第"+(t+1)+"页 "+e.alias,value:e.id}})})),1)],1):e._e(),e._v(" "),e.showStyleForm?[n("el-divider",{attrs:{"content-position":"left"}},[e._v("\n        属性设置\n      ")]),e._v(" "),n("styleForm")]:e._e(),e._v(" "),n("el-divider",{attrs:{"content-position":"left"}},[e._v("\n      组件设置\n    ")]),e._v(" "),n("CompOptionsForm"),e._v(" "),n("CompMi18n"),e._v(" "),n("CustomStateForm"),e._v(" "),n("MutiState"),e._v(" "),n("el-divider",{attrs:{"content-position":"left"}},[e._v("\n      其他设置\n    ")]),e._v(" "),n("ConfigFormItem",{attrs:{name:"disabled"}}),e._v(" "),n("ConfigFormItem",{attrs:{name:"enabled"}}),e._v(" "),e.showStyleForm?[e.isFullScreen||"relative"===e.boxStyle.position||"pc"!==e.platform?e._e():n("el-form-item",{attrs:{label:"左右吸附"}},[n("el-switch",{model:{value:e.attachSlides,callback:function(t){e.attachSlides=t},expression:"attachSlides"}})],1),e._v(" "),e.isSlidePage&&e.activeNode.otherOptions&&"fullpageContainer"===e.activeNode.nodeCategory&&e.platMsg.body.fixToBody||e.platMsg.body.pcCover?n("el-form-item",{attrs:{label:"自定义容器"}},[n("el-switch",{model:{value:e.fixToBody,callback:function(t){e.fixToBody=t},expression:"fixToBody"}})],1):e._e(),e._v(" "),e.isFullScreen&&"fixed"===e.boxStyle.position?n("el-form-item",{attrs:{label:"防止刘海遮挡"}},[n("el-switch",{model:{value:e.paddingBangs,callback:function(t){e.paddingBangs=t},expression:"paddingBangs"}})],1):e._e(),e._v(" "),"relative"!==e.boxStyle.position?n("el-form-item",{attrs:{label:"强制左右居中"}},[n("el-switch",{model:{value:e.forceCenter,callback:function(t){e.forceCenter=t},expression:"forceCenter"}})],1):e._e(),e._v(" "),"relative"!==e.boxStyle.position?n("el-form-item",{attrs:{label:"强制上下居中"}},[n("el-switch",{model:{value:e.forceMiddle,callback:function(t){e.forceMiddle=t},expression:"forceMiddle"}})],1):e._e(),e._v(" "),e.canSetPadding?n("el-form-item",{attrs:{label:"最小屏幕距离"}},[n("el-input",{attrs:{size:"mini"},model:{value:e.minPadding,callback:function(t){e.minPadding=t},expression:"minPadding"}})],1):e._e(),e._v(" "),e.isFullScreen&&e.activeNodePro.parentNode?n("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.moveOuter}},[e._v("\n        在所有页面使用\n      ")]):e._e()]:e._e(),e._v(" "),n("el-form-item",{attrs:{label:"组件版本"}},[n("el-input",{model:{value:e.activeNode.version,callback:function(t){e.$set(e.activeNode,"version",t)},expression:"activeNode.version"}})],1)],2)],1)},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.canSetMi18n?n("div",[n("el-divider",{attrs:{"content-position":"left"}},[e._v("\n    创建多语言字段\n  ")]),e._v(" "),e.isPageCompType?e._e():n("el-form-item",{attrs:{label:"自定义来源：","label-width":"80px"}},[n("pz-select",{attrs:{filterable:"",clearable:"",placeholder:"请选择多语言来源"},model:{value:e.mi18nFromId,callback:function(t){e.mi18nFromId=t},expression:"mi18nFromId"}},e._l(e.sameCompList,(function(e){return n("pz-option",{key:e.id,attrs:{label:e.alias,value:e.id}})})),1)],1),e._v(" "),n("div",{staticClass:"comp-mi18n"},[n("div",{staticClass:"left-item"},[n("h3",[e._v("全选")]),e._v(" "),n("pz-switch",{staticStyle:{"margin-left":"5px"},model:{value:e.allChecked,callback:function(t){e.allChecked=t},expression:"allChecked"}})],1),e._v(" "),e.isPageCompType?e._e():n("el-button",{attrs:{type:"text"},on:{click:e.createCustomMi18nKey}},[e._v("\n      创建共用key\n    ")])],1),e._v(" "),e._l(e.mi18nList,(function(t){return n("CompMi18nFormItem",{key:t.optionName,staticStyle:{marginBottom:"20px"},attrs:{label:t.optionLabel,type:t.type,value:e.getItemMsg(t.optionName)},on:{update:function(n){return e.itemChange(n,t.optionName)}}})})),e._v(" "),n("el-dialog",{attrs:{visible:e.visible,title:"自定义多语言key面板","append-to-body":"","show-close":!0,"close-on-click-modal":!1},on:{"update:visible":function(t){e.visible=t}}},[n("el-form",{ref:"form",attrs:{model:e.formData,"label-width":"100px"}},[e._l(e.formData.mi18nKeys,(function(t,r){return n("el-form-item",{key:r,scopedSlots:e._u([{key:"label",fn:function(){return[n("el-popover",{attrs:{placement:"left",width:"250",trigger:"hover"},scopedSlots:e._u([{key:"reference",fn:function(){return[n("span",[e._v("key"),n("i",{staticClass:"el-icon-info"})])]},proxy:!0}],null,!0)},[t.nodes.length?e._l(t.nodes,(function(t){return n("el-tag",{key:t.id,attrs:{size:"mini"}},[e._v("\n                "+e._s(t.alias)+"\n              ")])})):n("el-tag",{attrs:{size:"mini"}},[e._v("\n              暂无组件用到该key\n            ")])],2)]},proxy:!0}],null,!0)},[e._v(" "),n("el-col",{attrs:{span:5}},[n("el-form-item",{attrs:{rules:t.new?[{required:!0,message:"该参数不能为空",trigger:"blur"},{trigger:"blur",validator:e.validatePassKey}]:[],prop:"mi18nKeys."+r+".key"}},[n("el-input",{attrs:{disabled:t.nodes.length>0,placeholder:"多语言key"},model:{value:t.key,callback:function(n){e.$set(t,"key",n)},expression:"mi18nMsg.key"}})],1)],1),e._v(" "),n("el-col",{staticClass:"line",staticStyle:{"text-align":"center"},attrs:{span:2}},[e._v("\n          -- 类型\n        ")]),e._v(" "),n("el-col",{attrs:{span:5}},[n("el-form-item",{attrs:{prop:"mi18nKeys."+r+".type"}},[n("el-select",{attrs:{disabled:t.nodes.length>0,placeholder:"多语言资源类型"},model:{value:t.type,callback:function(n){e.$set(t,"type",n)},expression:"mi18nMsg.type"}},e._l(e.MI18N_RES_TYPES,(function(e){return n("el-option",{key:e.label,attrs:{label:e.label,value:e.value}})})),1)],1)],1),e._v(" "),n("el-col",{staticClass:"line",staticStyle:{"text-align":"center"},attrs:{span:2}},[e._v("\n          -- 描述\n        ")]),e._v(" "),n("el-col",{attrs:{span:5}},[n("el-form-item",{attrs:{rules:t.new?[{required:!0,message:"该参数不能为空",trigger:"blur"}]:[],prop:"mi18nKeys."+r+".desc"}},[n("el-input",{attrs:{placeholder:"描述"},model:{value:t.desc,callback:function(n){e.$set(t,"desc",n)},expression:"mi18nMsg.desc"}})],1)],1),e._v(" "),n("el-col",{attrs:{span:5}},[n("el-button",{attrs:{type:"text"},on:{click:function(n){return e.handlerDeleteItem(t)}}},[e._v("\n            删除\n          ")]),e._v(" "),r===e.formData.mi18nKeys.length-1?n("el-button",{attrs:{type:"text"},on:{click:e.addMi18nCustomKey}},[e._v("\n            新增参数\n          ")]):e._e()],1)],1)})),e._v(" "),0===e.formData.mi18nKeys.length?n("el-button",{attrs:{type:"text"},on:{click:e.addMi18nCustomKey}},[e._v("\n        新增参数\n      ")]):e._e()],2),e._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.visible=!1}}},[e._v("取 消")]),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:e.updateCustomMi18nKeys}},[e._v("确 定")])],1)],1)],2):e._e()},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this.$createElement,t=this._self._c||e;return t("div",[this.isPageCompType?this._e():[t("ConfigForm"),this._v(" "),t("StyleForm")],this._v(" "),this.supportMi18nForm?t("OptionsForm"):this._e()],2)},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-arrow-left"},on:{click:function(t){return e.updateActiveNodeStateKey("")}}},[e._v("\n    返回正常状态配置\n  ")]),e._v(" "),n("el-divider",{attrs:{"content-position":"left"}},[e._v("\n    "+e._s(e.activeState.stateName)+"状态配置\n  ")]),e._v(" "),n("ConfigForm"),e._v(" "),n("StyleForm"),e._v(" "),e.lang?e._e():n("OptionsForm")],1)},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.canLinkList?n("el-collapse",{attrs:{value:["comp"]}},[n("el-collapse-item",{attrs:{title:"组件联动",name:"comp"}},[e._l(e.linkMsgList,(function(t,r){return n("div",{key:r},[n("div",[n("el-tag",{attrs:{size:"small","disable-transitions":!0}},[e._v("\n          联动"+e._s(r+1)+"\n        ")]),e._v(" "),n("el-popconfirm",{attrs:{title:"确定删除当前联动？"},on:{confirm:function(t){return e.handleDeleteEvent(r)}}},[n("i",{staticClass:"el-icon-delete",attrs:{slot:"reference"},slot:"reference"})])],1),e._v(" "),n("LinkFormItem",{attrs:{"link-msg":t,"can-link-list":e.canLinkList}})],1)})),e._v(" "),n("el-button",{staticClass:"events-btn",attrs:{type:"primary",plain:"",size:"mini"},on:{click:e.pushEventConfig}},[n("i",{staticClass:"el-icon-circle-plus"}),e._v("\n      添加联动\n    ")])],2)],1):e._e()},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.canLinkList?n("el-collapse",{attrs:{value:["env"]}},[n("el-collapse-item",{attrs:{title:"环境联动",name:"env"}},[e._l(e.envStateList,(function(t,r){return n("div",{key:r},[n("div",[n("el-tag",{attrs:{size:"small","disable-transitions":!0}},[e._v("\n          联动"+e._s(r+1)+"\n        ")]),e._v(" "),n("el-popconfirm",{attrs:{title:"确定删除当前联动？"},on:{confirm:function(t){return e.handleResetEvent(r)}}},[n("i",{staticClass:"el-icon-delete",attrs:{slot:"reference"},slot:"reference"})])],1),e._v(" "),n("EnvLinkFormItem",{attrs:{"link-msg":t,"can-link-list":e.canLinkList},on:{resetLinkMsg:function(t){return e.handleResetEvent(r,!0)}}})],1)})),e._v(" "),n("el-button",{staticClass:"events-btn",attrs:{type:"primary",plain:"",size:"mini"},on:{click:e.pushEventConfig}},[n("i",{staticClass:"el-icon-circle-plus"}),e._v("\n      添加联动\n    ")])],2)],1):e._e()},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-divider",{attrs:{"content-position":"left"}},[n("span",[e._v("组件事件配置")])]),e._v(" "),e._l(e.eventsConfig,(function(t,r){return[t?n("div",{key:r},[n("div",[n("el-tag",{attrs:{size:"small","disable-transitions":!0}},[e._v("\n          事件"+e._s(r+1)+"\n        ")]),e._v(" "),n("el-popconfirm",{attrs:{title:"确定删除当前事件吗？"},on:{confirm:function(t){return e.handleDeleteEvent(r)}}},[n("i",{staticClass:"el-icon-delete",attrs:{slot:"reference"},slot:"reference"})])],1),e._v(" "),n("EventFormItem",{attrs:{value:t,"reset-compare-data":e.resetCompareData},on:{input:function(t){return e.itemChange(t,r)}}})],1):e._e()]})),e._v(" "),n("el-button",{staticClass:"events-btn",attrs:{type:"primary",plain:"",size:"mini"},on:{click:e.pushEventConfig}},[n("i",{staticClass:"el-icon-circle-plus"}),e._v("\n    添加事件\n  ")])],2)},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"transition-form"},[n("el-divider",{attrs:{"content-position":"left"}},[e._v("\n    过渡效果\n  ")]),e._v(" "),e._l(e.transitions,(function(t,r){return n("el-tag",{key:r,staticClass:"transition-tag",attrs:{closable:"",size:"small","disable-transitions":!0},on:{click:function(t){return t.stopPropagation(),e.editTransitionDialog(r)},close:function(t){return e.handleDelete(t,r)}}},[e._v("\n    "+e._s(t.aliasName||t.name)+"\n    "),n("i",{staticClass:"el-icon-edit"})])})),e._v(" "),n("el-button",{attrs:{icon:"el-icon-plus",size:"mini",type:"primary"},on:{click:e.openCreateTransitionDialog}},[e._v("\n    添加过渡效果\n  ")]),e._v(" "),n("el-dialog",{attrs:{visible:e.showTransitionForm},on:{"update:visible":function(t){e.showTransitionForm=t}}},[n("el-form",{ref:"form",attrs:{"label-width":"120px","label-position":"left"}},[n("transitionForm",{attrs:{value:e.currentDialogTransitionMsg},on:{updateStyles:e.updateStyles,initConfig:e.initConfig,updateConfig:e.updateConfig}}),e._v(" "),n("el-form-item",{attrs:{label:"过渡效果名称"}},[n("el-input",{attrs:{size:"mini",placeholder:"请填写过渡效果名称"},model:{value:e.aliasName,callback:function(t){e.aliasName=t},expression:"aliasName"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"hover状态自动使用"}},[n("el-switch",{model:{value:e.currentDialogTransitionMsg.hover,callback:function(t){e.$set(e.currentDialogTransitionMsg,"hover",t)},expression:"currentDialogTransitionMsg.hover"}})],1),e._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:e.createTransition}},[e._v("\n          "+e._s(e.isUpdateTransition?"更新":"立即创建")+"\n        ")]),e._v(" "),n("el-button",{on:{click:function(t){e.showTransitionForm=!1}}},[e._v("\n          取消\n        ")])],1)],1)],1)],2)},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-divider",{attrs:{"content-position":"left"}},[e._v("\n    入场动画\n  ")]),e._v(" "),n("el-select",{attrs:{filterable:"",size:"mini",placeholder:"请选择过渡效果类型"},model:{value:e.transitionEnterKey,callback:function(t){e.transitionEnterKey=t},expression:"transitionEnterKey"}},e._l(e.transitions,(function(e,t){return n("el-option",{key:t,attrs:{label:e.aliasName,value:t}})})),1),e._v(" "),n("el-divider",{attrs:{"content-position":"left"}},[e._v("\n    出场动画\n  ")]),e._v(" "),n("el-select",{attrs:{filterable:"",size:"mini",placeholder:"请选择过渡效果类型"},model:{value:e.transitionLeaveKey,callback:function(t){e.transitionLeaveKey=t},expression:"transitionLeaveKey"}},e._l(e.transitions,(function(e,t){return n("el-option",{key:t,attrs:{label:e.aliasName,value:t}})})),1)],1)},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("el-divider",{attrs:{"content-position":"left"}},[this._v("\n    驻场动画\n  ")]),this._v(" "),t("AnimationForm",{attrs:{value:this.animation},on:{updateParams:this.updateParams,initConfig:this.initConfig,updateConfig:this.updateConfig}})],1)},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"media-box"},[e.type===e.RES_TYPE.IMAGE?n("div",{staticClass:"media-box-container"},[n("el-image",{staticClass:"media-box-main",attrs:{src:e.src,fit:"contain","preview-src-list":[e.src]}})],1):e.type===e.RES_TYPE.VIDEO?n("div",{staticClass:"media-box-container",on:{click:e.openVideoDialog}},[e.isBlob?n("VideoPreview",{key:"1",staticClass:"media-box-main",attrs:{autoplay:!0,"is-blob":!0,loop:!0,type:"ts"===e.extension?"ts":"normal",src:e.src}}):"ts"===e.extension?n("VideoPreview",{key:"2",staticClass:"media-box-main",attrs:{type:"ts"===e.extension?"ts":"normal",src:e.src}}):n("img",{staticClass:"media-box-main",attrs:{src:e.src+"?x-oss-process=video/snapshot,t_70000,f_jpg,m_fast"}}),e._v(" "),n("MihoyoModal",{attrs:{"mask-close":"","z-index":3e3},model:{value:e.showVideoDialog,callback:function(t){e.showVideoDialog=t},expression:"showVideoDialog"}},[n("VideoPreview",{staticClass:"video-preview-dialog",attrs:{type:"ts"===e.extension?"ts":"normal",loop:!0,controls:!0,autoplay:!0,src:e.src,muted:!1}})],1)],1):e.type===e.RES_TYPE.AUDIO?n("div",{staticClass:"media-box-container"},[e.needPreview?n("PzAudio",{staticClass:"media-box-main media-audio",attrs:{"src-list":[e.src]}}):n("img",{staticClass:"media-box-main media-audio",attrs:{src:"https://webstatic-test.mihoyo.com/upload/static-resource/2022/01/26/7678c85edc25a91bc608a58875eed57b_1397279149244889359.jpeg"}})],1):n("div",{staticClass:"media-box-container"},[n("i",{staticClass:"media-box-main el-icon-files"})]),e._v(" "),e.previewIcon?n("div",{staticClass:"media-box-main-show"},[n("i",{class:e.previewIcon})]):e._e()])},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"media-upload-box"},[n("el-upload",{ref:"upload",staticClass:"media-upload-box-upload",attrs:{action:"",disabled:e.fileMsg.startUpload,accept:e.accept,multiple:!1,"show-file-list":!1,"auto-upload":!1,drag:!0,"on-change":e.changeFile},nativeOn:{dragover:function(t){return t.stopPropagation(),t.preventDefault(),e.dragOver.apply(null,arguments)}}},[[e.fileMsg.url?n("div",{staticClass:"media-upload-box-preview"},[n("Media",{staticClass:"media-upload-preview-img",attrs:{type:e.type,src:e.fileMsg.url,extension:e.extension,"is-blob":e.blobUrl,"need-preview":!1}})],1):n("i",{staticClass:"el-icon-plus",attrs:{slot:"default"},slot:"default"}),e._v(" "),e.fileMsg.startUpload?n("div",{staticClass:"media-upload-box-disabled-mask"},[n("i",{staticClass:"el-icon-loading"})]):e._e(),e._v(" "),e.fileMsg.url?n("i",{staticClass:"media-upload-box-preview-close el-icon-close",on:{click:function(t){return t.stopPropagation(),e.clearFile.apply(null,arguments)}}}):e._e()]],2),e._v(" "),e.stateIcon?n("el-tooltip",{attrs:{effect:"dark",content:e.stateIcon.tip,placement:"top"}},[n("div",{staticClass:"media-upload-box-state-icon",class:e.stateIcon.icon,style:{color:e.stateIcon.color},on:{click:e.reUpload}})]):e._e(),e._v(" "),e.fileMsg.startUpload?n("div",{staticClass:"media-upload-box-process-line"},[n("div",{staticClass:"media-upload-box-process-line-inner",style:{width:e.fileMsg.progerss+"%"}}),e._v(" "),n("div",{staticClass:"process-text"},[e._v("\n      "+e._s(e.fileMsg.progerss.toFixed(0)+"%")+"\n    ")])]):e._e(),e._v(" "),e.fileMsg.name?n("p",{staticClass:"file-name"},[e._v("\n    "+e._s(e.fileMsg.name)+"\n  ")]):e._e()],1)},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-popover",{attrs:{placement:"left-end",width:400,trigger:"click"},scopedSlots:e._u([{key:"reference",fn:function(){return[e._t("default")]},proxy:!0}],null,!0)},[e._v(" "),n("el-form",{staticClass:"background-form",attrs:{size:"mini","label-position":"left","label-width":"100px",model:e.value},nativeOn:{submit:function(e){e.preventDefault()}}},[n("el-form-item",[n("el-tooltip",{attrs:{slot:"label",content:"背景的对齐方式",placement:"top"},slot:"label"},[n("span",[e._v("背景位置 "),n("i",{staticClass:"el-icon-info"})])]),e._v(" "),n("el-select",{attrs:{size:"mini",placeholder:"请选择背景对齐位置"},model:{value:e.backgroundPosition,callback:function(t){e.backgroundPosition=t},expression:"backgroundPosition"}},e._l(e.backgroundPositionList,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),n("el-form-item",{attrs:{label:"适应方式"}},[n("el-radio-group",{attrs:{size:"mini"},model:{value:e.backgroundSize,callback:function(t){e.backgroundSize=t},expression:"backgroundSize"}},[n("el-radio-button",{attrs:{label:"cover"}},[e._v("\n          覆盖\n        ")]),e._v(" "),n("el-radio-button",{attrs:{label:"contain"}},[e._v("\n          适应\n        ")]),e._v(" "),n("el-radio-button",{attrs:{label:"100% 100%"}},[e._v("\n          拉伸\n        ")]),e._v(" "),n("el-radio-button",{attrs:{label:"custom"}},[e._v("\n          自定\n        ")])],1)],1),e._v(" "),"custom"===e.backgroundSize?[n("el-form-item",{attrs:{label:"自定背景宽"}},[n("el-input-number",{staticStyle:{"min-width":"140px"},attrs:{value:e.custombackgroundSizeWidth,"controls-position":"right",min:0,size:"mini"},on:{change:function(t){return e.custombackgroundSizeWidth=t}}}),e._v("px\n      ")],1),e._v(" "),n("el-form-item",{attrs:{label:"自定背景高"}},[n("el-input-number",{staticStyle:{"min-width":"140px"},attrs:{value:e.custombackgroundSizeHeight,"controls-position":"right",min:0,size:"mini"},on:{change:function(t){return e.custombackgroundSizeHeight=t}}}),e._v("px\n      ")],1)]:e._e(),e._v(" "),n("el-form-item",{attrs:{label:"背景重复"}},[n("el-select",{attrs:{size:"mini",placeholder:"请选择是否背景重复"},model:{value:e.backgroundRepeat,callback:function(t){e.backgroundRepeat=t},expression:"backgroundRepeat"}},e._l(e.backgroundRepeatList,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),n("el-collapse",{staticClass:"more-collapse"},[n("el-collapse-item",{attrs:{title:"高级属性"}},["pc"===e.platform?n("el-form-item",{attrs:{label:"背景附属"}},[n("el-select",{attrs:{size:"mini",placeholder:"请选择"},model:{value:e.backgroundAttachment,callback:function(t){e.backgroundAttachment=t},expression:"backgroundAttachment"}},e._l(e.backgroundAttachmentList,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1):e._e(),e._v(" "),n("el-form-item",{attrs:{label:"背景范围"}},[n("el-select",{attrs:{size:"mini",placeholder:"请选择"},model:{value:e.backgroundClip,callback:function(t){e.backgroundClip=t},expression:"backgroundClip"}},e._l(e.backgroundClipList,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),n("el-form-item",{attrs:{label:"背景原点范围"}},[n("el-select",{attrs:{size:"mini",placeholder:"请选择复"},model:{value:e.backgroundOrigin,callback:function(t){e.backgroundOrigin=t},expression:"backgroundOrigin"}},e._l(e.backgroundOriginList,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1)],1)],2)],1)},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"puzzle-screen",class:[{locked:e.screenMessage.locked,"during-drag":e.duringDrag}],style:e.viewportStyle,attrs:{rootnodeid:e.rootNodeId}},[n("div",{staticClass:"puzzle-screen-title",style:{fontSize:e.normalFontSize}},[e._v("\n    "+e._s(e.name||"屏幕"+(e.realIndex+1))+"\n  ")]),e._v(" "),n("div",{staticClass:"puzzle-screen-overflow puzzle-screen-overflow-top",style:e.overflowStyleTop,attrs:{"overflow-area":""}},[e._t("top",null,{margin:e.margin/2}),e._v(" "),e._l(e.buttonList,(function(t,r){return n("el-button",{key:r,style:{fontSize:e.margin/5/("h5"===e.platform?1.2:1)+"px",padding:e.margin/10/("h5"===e.platform?2:1)+"px"},attrs:{size:"mini",type:"primary"},on:{click:function(e){return e.stopPropagation(),t.handler.apply(null,arguments)}}},[e._v("\n      "+e._s(t.text)+"\n    ")])})),e._v(" "),e.canDestory?n("i",{staticClass:"el-icon-close close-icon",on:{click:e.destroyScreen}}):e._e()],2),e._v(" "),n("div",{staticClass:"puzzle-screen-overflow puzzle-screen-overflow-bottom",style:e.overflowStyleBottom,attrs:{"overflow-area":""}}),e._v(" "),n("div",{staticClass:"puzzle-screen-overflow puzzle-screen-overflow-left",style:e.overflowStyleLeft,attrs:{"overflow-area":""}}),e._v(" "),n("div",{staticClass:"puzzle-screen-overflow puzzle-screen-overflow-right",style:e.overflowStyleRight,attrs:{"overflow-area":""}},[e._t("right",null,{margin:e.margin/2})],2),e._v(" "),n("div",{staticClass:"puzzle-screen-title",style:{fontSize:e.normalFontSize}}),e._v(" "),n("div",{staticClass:"viewport"},[e._t("default")],2),e._v(" "),e.platMsg.body.fullScreen&&!e.platMsg.body.pcCover?n("div",{staticClass:"safe-area",style:e.safeArea}):e._e()])},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"edit-mode"},e._l(e.nodes,(function(t,r){return n("rndNode",{key:t.id,attrs:{"custom-edit-options":e.customEditOptions,"root-node-id":e.rootNodeId,config:e.nodes[r]}})})),1)},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.view?n(e.view,e._b({directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],ref:"editItem",tag:"component",staticClass:"edit-item-container",attrs:{nodeid:e.config.id,draggable:!e.activeNodeId&&!e.attrKeyMap.noDrag&&!e.lang,config:e.editConfig}},"component",e.attrKeyMap,!1),[e.canNestable?e._l(e.config.children,(function(t){return n("rndNode",{key:t.id,attrs:{"root-node-id":e.rootNodeId,"show-in-new-screen":e.childrenShowInNewScreen,"parent-is-show":e.isShow,config:t}})})):e._e()],2):e._e()},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement;return(e._self._c||t)("el-date-picker",e._b({staticStyle:{width:"180px"},attrs:{type:"datetime",size:"mini",align:"right"},on:{change:e.timeChange},model:{value:e.val,callback:function(t){e.val=t},expression:"val"}},"el-date-picker",e.$attrs,!1))},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-select",e._b({attrs:{value:e.value,filterable:"",placeholder:"请选择时区",size:"mini"},on:{change:function(t){return e.$emit("change",t)}}},"el-select",e.$attrs,!1),e._l(e.timeZoneList,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"state-form"},[n("el-divider",{attrs:{"content-position":"left"}},[e._v("\n    状态设置\n  ")]),e._v(" "),e._l(e.stateList,(function(t){return n("el-tag",{key:t.stateKey,staticClass:"state-tag",attrs:{"disable-transitions":!0,closable:"",type:e.activeNodeStateKey===t.stateKey?"success":"",size:"small"},on:{click:function(n){return e.checkoutState(t.stateKey)},close:function(n){return e.handleDelete(n,t.stateKey)}}},[e._v("\n    "+e._s(t.stateName)+"\n    "),n("i",{staticClass:"el-icon-edit",on:{click:function(n){return n.stopPropagation(),e.editStateDialog(t.stateKey)}}})])})),e._v(" "),e.mi18nStateKey?e._e():n("el-button",{attrs:{icon:"el-icon-plus",size:"mini",type:"primary"},on:{click:e.openCreateStateDialog}},[e._v("\n    添加状态\n  ")]),e._v(" "),n("el-dialog",{attrs:{visible:e.showStateForm},on:{"update:visible":function(t){e.showStateForm=t}}},[n("el-form",{ref:"form",attrs:{model:e.options,"label-width":"120px"}},[n("el-form-item",{attrs:{label:"状态名称"}},[n("el-input",{attrs:{placeholder:"请填写状态名称"},model:{value:e.currentDialogStateMsg.stateName,callback:function(t){e.$set(e.currentDialogStateMsg,"stateName",t)},expression:"currentDialogStateMsg.stateName"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"hover状态自动使用"}},[n("el-switch",{model:{value:e.currentDialogStateMsg.hover,callback:function(t){e.$set(e.currentDialogStateMsg,"hover",t)},expression:"currentDialogStateMsg.hover"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"状态变更动效"}},[n("el-switch",{attrs:{value:e.transition},on:{change:function(t){return e.transition=t}}})],1),e._v(" "),e.transition?[n("el-form-item",{attrs:{label:"过渡时间(ms)"}},[n("el-input-number",{staticStyle:{width:"100%"},attrs:{value:e.duration,min:0,step:50,size:"mini",placeholder:"请输入过渡时间(ms)"},on:{change:function(t){return e.duration=t}}})],1),e._v(" "),n("el-form-item",{attrs:{label:"贝塞尔曲线"}},[n("el-select",{attrs:{filterable:"",size:"mini",placeholder:"请选择符合规格的贝塞尔曲线","allow-create":"","default-first-option":""},model:{value:e.timingFunction,callback:function(t){e.timingFunction=t},expression:"timingFunction"}},e._l(e.timingFunctionList,(function(e){return n("el-option",{key:e.label,attrs:{label:e.label,value:e.value}})})),1)],1)]:e._e(),e._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:e.createState}},[e._v("\n          "+e._s(e.isUpdateState?"更新":"立即创建")+"\n        ")]),e._v(" "),n("el-button",{on:{click:function(t){e.showStateForm=!1}}},[e._v("\n          取消\n        ")])],1)],2)],1)],2)},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-form",{attrs:{model:e.boxStyle,size:"mini","label-position":"left","label-width":"80px"},nativeOn:{submit:function(e){e.preventDefault()}}},[n("StyleFormItem",{attrs:{name:"position"}}),e._v(" "),n("StyleFormItem",{attrs:{name:"zIndex"}}),e._v(" "),n("StyleFormItem",{attrs:{name:"width"}}),e._v(" "),n("StyleFormItem",{attrs:{name:"height"}}),e._v(" "),n("StyleFormItem",{attrs:{name:"left"}}),e._v(" "),n("StyleFormItem",{attrs:{name:"top"}}),e._v(" "),n("StyleFormItem",{attrs:{name:"right"}}),e._v(" "),n("StyleFormItem",{attrs:{name:"bottom"}}),e._v(" "),n("StyleFormItem",{attrs:{name:"marginTop"}}),e._v(" "),n("StyleFormItem",{attrs:{name:"marginLeft"}}),e._v(" "),n("StyleFormItem",{attrs:{name:"marginBottom"}}),e._v(" "),n("StyleFormItem",{attrs:{name:"marginRight"}}),e._v(" "),n("StyleFormItem",{attrs:{name:"alignTools"}}),e._v(" "),n("StyleFormItem",{attrs:{name:"backgroundImage","form-options":{suitBGSize:!0}}}),e._v(" "),e.boxStyle.backgroundImage?[n("StyleFormItem",{attrs:{name:"backgroundSize"}}),e._v(" "),n("StyleFormItem",{attrs:{name:"backgroundPosition"}})]:e._e(),e._v(" "),n("el-collapse",[n("el-collapse-item",{attrs:{title:"更多配置"}},[n("StyleFormItem",{attrs:{name:"maxWidth"}}),e._v(" "),n("StyleFormItem",{attrs:{name:"maxHeight"}}),e._v(" "),n("StyleFormItem",{attrs:{name:"minWidth"}}),e._v(" "),n("StyleFormItem",{attrs:{name:"minHeight"}}),e._v(" "),n("StyleFormItem",{attrs:{name:"backgroundColor"}}),e._v(" "),n("StyleFormItem",{attrs:{name:"pointerEvents"}}),e._v(" "),n("StyleFormItem",{attrs:{name:"opacity"}}),e._v(" "),n("StyleFormItem",{attrs:{name:"borderRadius"}}),e._v(" "),n("StyleFormItem",{attrs:{name:"cursor"}}),e._v(" "),n("StyleFormItem",{attrs:{name:"border"}})],1)],1)],2)},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-form-item",{staticClass:"comp-mi18n-form-item",attrs:{label:e.label,"label-width":"70px"}},[n("pz-collapse",[n("pz-collapse-item",{scopedSlots:e._u([{key:"title",fn:function(){return[n("pz-switch",{staticStyle:{"margin-right":"10px"},nativeOn:{click:function(e){e.stopPropagation()}},model:{value:e.enabled,callback:function(t){e.enabled=t},expression:"enabled"}}),e._v(" "),e.canSetCustomKey?n("el-form-item",{staticClass:"comp-mi18n-form-item-item",attrs:{label:"key：","label-width":"30px"}},[n("pz-select",{attrs:{clearable:"",disabled:e.isPageCompType,placeholder:"默认自动生成",value:e.value.customKey},on:{input:function(t){return e.handlerChange("customKey",t)}}},e._l(e.customMi18nKeys,(function(t){return n("pz-option",{key:t.label,attrs:{filterable:"",value:t.value}},[n("div",{staticClass:"comp-mi18n-form-item-select-item"},[n("p",{staticClass:"select-item-text"},[e._v("\n                  "+e._s(t.value)+"\n                ")]),e._v(" "),n("p",{staticClass:"select-item-text"},[e._v("\n                  "+e._s(t.desc)+"\n                ")])])])})),1)],1):e._e()]},proxy:!0}])},[e._v(" "),n("pz-collapse-row",[n("el-form-item",{staticClass:"comp-mi18n-form-item-item",attrs:{label:"自定描述：","label-width":"60px"}},[n("pz-input",{attrs:{disabled:!!e.value.customKey,value:e.desc},on:{input:function(t){return e.handlerChange("desc",t)}}})],1)],1)],1)],1)],1)},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.canSetCustomState?n("div",[n("el-divider",{attrs:{"content-position":"left"}},[e._v("\n    自定义数据来源\n  ")]),e._v(" "),e._l(e.mi18nList,(function(t){return n("CompCustomStateFormItem",{key:t.optionName,staticStyle:{marginBottom:"20px"},attrs:{label:t.optionLabel,type:t.type,value:e.getItemMsg(t.optionName)},on:{update:function(n){return e.itemChange(n,t.optionName)}}})}))],2):e._e()},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this.$createElement,t=this._self._c||e;return t("el-form",{attrs:{size:"mini","label-position":"left","label-width":"80px"},nativeOn:{submit:function(e){e.preventDefault()}}},[t("ConfigFormItem",{attrs:{name:"disabled"}}),this._v(" "),t("ConfigFormItem",{attrs:{name:"enabled"}})],1)},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-form",{attrs:{size:"mini","label-position":"left","label-width":"80px"},nativeOn:{submit:function(e){e.preventDefault()}}},[n("StyleFormItem",{attrs:{name:"width"}}),e._v(" "),n("StyleFormItem",{attrs:{name:"height"}}),e._v(" "),e.boxStyle.top?n("StyleFormItem",{attrs:{name:"top"}}):e._e(),e._v(" "),e.boxStyle.left?n("StyleFormItem",{attrs:{name:"left"}}):e._e(),e._v(" "),e.boxStyle.bottom?n("StyleFormItem",{attrs:{name:"bottom"}}):e._e(),e._v(" "),e.boxStyle.right?n("StyleFormItem",{attrs:{name:"right"}}):e._e(),e._v(" "),n("StyleFormItem",{attrs:{name:"opacity"}})],1)},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this.$createElement;return(this._self._c||e)("OptionFormItem",{attrs:{name:this.name,"custom-state-key":this.mi18nStateKey,"custom-state-options":this.activeNodeMi18nStateOptions,"custom-form-comp":this.customFormComp}})},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"other-state-form-item-container"},[n("CompOptionsForm",{key:e.activeNode.id,staticClass:"other-state-form-item comp-form-options",class:{active:e.isModified},attrs:{"custom-comp":e.customFormComp,"custom-options":e.options,"custom-comp-form-helpers":e.compFormHelpers,"custom-methods":e.customMethods}}),e._v(" "),n("i",{directives:[{name:"show",rawName:"v-show",value:e.isModified,expression:"isModified"}],staticClass:"el-icon-close",on:{click:e.clearCurOtherState}})],1)},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this.$createElement,t=this._self._c||e;return t("el-form",{attrs:{size:"mini","label-position":"left","label-width":"80px"},nativeOn:{submit:function(e){e.preventDefault()}}},[t("ConfigFormItem",{attrs:{name:"disabled"}}),this._v(" "),t("ConfigFormItem",{attrs:{name:"enabled"}})],1)},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-form",{attrs:{size:"mini","label-position":"left","label-width":"80px"},nativeOn:{submit:function(e){e.preventDefault()}}},[n("StyleFormItem",{attrs:{name:"width"}}),e._v(" "),n("StyleFormItem",{attrs:{name:"height"}}),e._v(" "),e.boxStyle.top?n("StyleFormItem",{attrs:{name:"top"}}):e._e(),e._v(" "),e.boxStyle.left?n("StyleFormItem",{attrs:{name:"left"}}):e._e(),e._v(" "),e.boxStyle.bottom?n("StyleFormItem",{attrs:{name:"bottom"}}):e._e(),e._v(" "),e.boxStyle.right?n("StyleFormItem",{attrs:{name:"right"}}):e._e(),e._v(" "),n("StyleFormItem",{attrs:{name:"opacity"}})],1)},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-form",{attrs:{size:"mini","label-position":"left","label-width":"80px"},nativeOn:{submit:function(e){e.preventDefault()}}},[n("el-form-item",{attrs:{label:"联动组件"}},[n("el-select",{attrs:{filterable:"",placeholder:"请选择联动组件"},model:{value:e.target,callback:function(t){e.target=t},expression:"target"}},e._l(e.canLinkList,(function(e,t){return n("el-option",{key:t,attrs:{label:e.node.alias,value:t}})})),1)],1),e._v(" "),e.target?[e._l(e.targetStateDeclarations,(function(t,r){return[t.noLink?e._e():n("el-form-item",{key:r,attrs:{label:t.label}},["string"===t.type?n("el-select",{attrs:{value:e.linkMsg.state[r],filterable:""},on:{change:function(n){return e.handleChange(n,{type:t.type,key:r})}}},e._l(t.options,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1):"number"===t.type?n("el-input-number",{attrs:{min:t.rule&&t.rule.min,value:e.linkMsg.state[r],"controls-position":"right"},on:{change:function(n){return e.handleChange(n,{type:t.type,key:r})}}}):"boolean"===t.type?n("el-select",{attrs:{"no-data-text":"忽略",value:e.linkMsg.state[r],size:"mini"},on:{change:function(n){return e.handleChange(n,{type:t.type,key:r})}}},e._l(e.booleanList,(function(e){return n("el-option",{key:e.label,attrs:{label:e.label,value:e.value}})})),1):e._e()],1)]}))]:e._e(),e._v(" "),n("el-form-item",{attrs:{label:"联动状态"}},[n("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.state,callback:function(t){e.state=t},expression:"state"}},e._l(e.stateItemList,(function(e){return n("el-option",{key:e.stateKey,attrs:{label:e.stateName,value:e.stateKey}})})),1)],1),e._v(" "),e.curFastSyncMsg?n("el-form-item",{attrs:{label:"快捷同步"}},[n("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.linkMsg.fastSync,callback:function(t){e.$set(e.linkMsg,"fastSync",t)},expression:"linkMsg.fastSync"}},e._l(e.sourceDeclarationsEmitters,(function(e){return n("el-option",{key:e.name,attrs:{label:e.label,value:e.name}})})),1)],1):e._e()],2)},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-form",{attrs:{size:"mini","label-position":"left","label-width":"80px"},nativeOn:{submit:function(e){e.preventDefault()}}},[n("el-form-item",{attrs:{label:"联动环境"}},[n("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}},e._l(e.canLinkList,(function(e,t){return n("el-option",{key:t,attrs:{label:e.label,value:t}})})),1)],1),e._v(" "),n("StateItem",{attrs:{declarations:e.declarations,"link-msg":e.linkMsg}}),e._v(" "),n("el-form-item",{attrs:{label:"联动状态"}},[n("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.state,callback:function(t){e.state=t},expression:"state"}},e._l(e.stateItemList,(function(e){return n("el-option",{key:e.stateKey,attrs:{label:e.stateName,value:e.stateKey}})})),1)],1)],1)},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-form",{staticClass:"event-form",attrs:{size:"mini","label-position":"left","label-width":"80px"},nativeOn:{submit:function(e){e.preventDefault()}}},[n("el-form-item",{attrs:{label:"触发组件"}},[n("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.source,callback:function(t){e.source=t},expression:"source"}},e._l(e.eventNodes,(function(e){return n("el-option",{key:e.id,attrs:{label:e.alias,value:e.id}})})),1)],1),e._v(" "),n("el-form-item",{attrs:{label:"触发时机"}},[n("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.emitter,callback:function(t){e.emitter=t},expression:"emitter"}},e._l(e.sourceDeclarationsEmitters,(function(e){return n("el-option",{key:e.name,attrs:{label:e.label,value:e.name}})})),1)],1),e._v(" "),n("el-form-item",{attrs:{label:"触发条件"}},[n("el-switch",{model:{value:e.compareEnable,callback:function(t){e.compareEnable=t},expression:"compareEnable"}})],1),e._v(" "),e.compareEnable?[n("el-select",{staticClass:"compare-select",attrs:{size:"mini",placeholder:"对比方式"},model:{value:e.value.compare.compareSymbol,callback:function(t){e.$set(e.value.compare,"compareSymbol",t)},expression:"value.compare.compareSymbol"}},e._l(e.compareSymbolMap,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),e._v(" "),n("el-input",{staticClass:"compare-value",attrs:{placeholder:"对比值",size:"mini"},model:{value:e.value.compare.compareValue,callback:function(t){e.$set(e.value.compare,"compareValue",t)},expression:"value.compare.compareValue"}})]:e._e(),e._v(" "),n("el-form-item",{attrs:{label:"响应组件"}},[n("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.target,callback:function(t){e.target=t},expression:"target"}},e._l(e.eventNodes,(function(e){return n("el-option",{key:e.id,attrs:{label:e.alias,value:e.id}})})),1)],1),e._v(" "),n("el-form-item",{attrs:{label:"响应方法"}},[n("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.listener,callback:function(t){e.listener=t},expression:"listener"}},e._l(e.targetDeclarationsMethods,(function(e){return n("el-option",{key:e.name,attrs:{label:e.label,value:e.name}})})),1)],1),e._v(" "),n("el-form-item",{attrs:{label:"延迟时长"}},[n("el-input-number",{attrs:{value:e.delay,size:"small",precision:0,step:1,min:0},on:{change:function(t){return e.delay=t}}}),e._v(" "),n("span",{staticStyle:{"margin-left":"6px"}},[e._v("/ms")])],1),e._v(" "),e.targetDeclarationsMethods&&e.listener?n("customActionDataForm",{attrs:{"event-type":e.listener},model:{value:e.eventData,callback:function(t){e.eventData=t},expression:"eventData"}}):e._e(),e._v(" "),e.showMi18nButton?n("el-form-item",{attrs:{label:"加入多语言"}},[n("el-switch",{model:{value:e.mi18n,callback:function(t){e.mi18n=t},expression:"mi18n"}})],1):e._e()],2)},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-form",{attrs:{size:"mini","label-position":"left","label-width":"140px"},nativeOn:{submit:function(e){e.preventDefault()}}},[n("el-form-item",{attrs:{label:"过渡种类"}},[n("el-select",{attrs:{filterable:"",size:"mini",placeholder:"请选择过渡效果种类"},model:{value:e.transitionName,callback:function(t){e.transitionName=t},expression:"transitionName"}},e._l(e.formList,(function(e,t){return n("el-option",{key:e.label,attrs:{label:e.label,value:t}})})),1)],1),e._v(" "),e.curComponent?[n(e.curComponent.is,{tag:"component",attrs:{value:e.styles},on:{updateStyles:function(t){e.$emit("updateStyles",t)}}}),e._v(" "),n("el-form-item",{attrs:{label:"过渡时间(ms)"}},[n("el-input-number",{staticStyle:{width:"100%"},attrs:{value:e.duration,min:0,step:50,size:"mini",placeholder:"请输入过渡时间(ms)"},on:{change:function(t){return e.duration=t}}})],1),e._v(" "),n("el-form-item",{attrs:{label:"贝塞尔曲线"}},[n("el-select",{attrs:{filterable:"",size:"mini",placeholder:"请选择符合规格的贝塞尔曲线","allow-create":"","default-first-option":""},model:{value:e.timingFunction,callback:function(t){e.timingFunction=t},expression:"timingFunction"}},e._l(e.timingFunctionList,(function(e){return n("el-option",{key:e.label,attrs:{label:e.label,value:e.value}})})),1)],1)]:e._e()],2)},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-form",{attrs:{size:"mini","label-position":"left","label-width":"80px"},nativeOn:{submit:function(e){e.preventDefault()}}},[n("el-select",{attrs:{filterable:"",size:"mini",placeholder:"请选择驻场动画类型"},model:{value:e.animationName,callback:function(t){e.animationName=t},expression:"animationName"}},e._l(e.formList,(function(e,t){return n("el-option",{key:e.label,attrs:{label:e.label,value:t}})})),1),e._v(" "),e.curComponent?n(e.curComponent.is,{tag:"component",attrs:{value:e.params},on:{updateParams:function(t){e.$emit("updateParams",t)}}}):e._e()],1)},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.src?n(e.videoPlayer,{tag:"component",attrs:{autoplay:e.autoplay,controls:e.controls,muted:e.muted||void 0,loop:!0,src:e.src,"is-blob":e.isBlob}}):e._e()},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this.$createElement;return(this._self._c||e)("bg-audio",this._b({ref:"audio",staticClass:"puzzle-media-audio",attrs:{icon:"https://webstatic.mihoyo.com/upload/static-resource/2021/07/08/5dee668caa553565cd98dcfbe77e9e0f_185283973080548871.png","active-icon":"https://webstatic.mihoyo.com/upload/static-resource/2021/07/08/e5eb485f9503f46fb641e3c3c6edeefe_5572116030893804600.png"},on:{played:this.onPlayed,tap:this.handleTap}},"bg-audio",this.audioOptions,!1))},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this.$createElement;return(this._self._c||e)(this.comp,{tag:"component",attrs:{data:this.data,methods:this.methods,"env-list":this.envList,"form-options":this.formOptions,name:this.name}})},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this.$createElement,t=this._self._c||e;return this.curComponent.enable?t(this.curComponent.is,{tag:"component",attrs:{data:this.data,methods:this.methods,"env-list":this.envList,options:this.formOptions}}):this._e()},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-form-item",{staticClass:"comp-mi18n-form-item",attrs:{label:e.label,"label-width":"70px"}},[n("pz-collapse",[n("pz-collapse-item",{scopedSlots:e._u([{key:"title",fn:function(){return[n("el-tooltip",{attrs:{disabled:!e.curName,placement:"top"}},[n("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n            数据源："+e._s(e.curName)),n("br"),e._v("数据内容："+e._s(e.curKeyName||"无")),e.value.params&&"string"==typeof e.value.params?n("div",[e._v("\n              数据属性："+e._s(e.value.params)+"\n            ")]):e._e()]),e._v(" "),n("span",{staticClass:"comp-mi18n-form-item-title",staticStyle:{"white-space":"nowrap"}},[e._v(e._s(e.curName||"暂未定义，点击展开配置")+e._s(e.curKeyName?">"+e.curKeyName:"")+e._s(e.value.params?">"+e.value.params:""))])])]},proxy:!0}])},[e._v(" "),n("pz-collapse-row",[n("el-form-item",{staticClass:"comp-mi18n-form-item-item",attrs:{label:"数据源：","label-width":"60px"}},[n("pz-select",{attrs:{filterable:"",clearable:"",placeholder:"请选择数据源"},model:{value:e.curId,callback:function(t){e.curId=t},expression:"curId"}},e._l(e.globalStateList,(function(e,t){return n("pz-option",{key:t,attrs:{label:e.node.alias,value:t}})})),1)],1)],1),e._v(" "),n("pz-collapse-row",[n("el-form-item",{staticClass:"comp-mi18n-form-item-item",attrs:{label:"数据内容：","label-width":"60px"}},[n("pz-select",{attrs:{filterable:"",clearable:"",placeholder:"请选择数据内容"},model:{value:e.curKey,callback:function(t){e.curKey=t},expression:"curKey"}},[e._l(e.curNodeMsg.linkStateMsg||{},(function(t,r){return[t.stringType===e.type||"any"===t.stringType?n("pz-option",{key:r,attrs:{label:t.label,value:r}}):e._e()]}))],2)],1)],1),e._v(" "),e.value.customPropName?n("pz-collapse-row",[n("el-form-item",{staticClass:"comp-mi18n-form-item-item",attrs:{label:"数据属性：","label-width":"60px"}},[n("pz-input",{model:{value:e.curParams,callback:function(t){e.curParams=t},expression:"curParams"}})],1)],1):e._e()],1)],1)],1)},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this.$createElement;return(this._self._c||e)("StyleFormItem",{attrs:{name:this.name,"custom-state-key":"","custom-state-config":{}}})},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"other-state-form-item-container"},[t("configFormItem",{staticClass:"other-state-form-item",class:{active:this.isModified},attrs:{name:this.name,"custom-form-data":this.customFormData,"custom-form-methods":this.customFormMethods}}),this._v(" "),t("i",{directives:[{name:"show",rawName:"v-show",value:this.isModified,expression:"isModified"}],staticClass:"el-icon-close",on:{click:this.clearCurOtherState}})],1)},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this.$createElement;return(this._self._c||e)("StyleFormItem",{attrs:{name:this.name,"custom-state-key":"","custom-state-box-style":{}}})},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"other-state-form-item-container"},[t("StyleFormItem",{staticClass:"other-state-form-item",class:{active:this.isModified},attrs:{name:this.name,"custom-form-data":this.customFormData}}),this._v(" "),t("i",{directives:[{name:"show",rawName:"v-show",value:this.isModified,expression:"isModified"}],staticClass:"el-icon-close",on:{click:this.clearCurOtherState}})],1)},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this.$createElement,t=this._self._c||e;return this.declarations?t("div",["time"===this.declarations.formType?t("TimeStateItem",{attrs:{declarations:this.declarations,"link-msg":this.linkMsg}}):t("NormalStateItem",{attrs:{declarations:this.declarations,"link-msg":this.linkMsg}})],1):this._e()},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-form",{staticClass:"customActionDataForm",attrs:{size:"mini","label-position":"left","label-width":"80px"},nativeOn:{submit:function(e){e.preventDefault()}}},[n("el-form-item",{attrs:{label:"响应数据"}},[n("el-tooltip",{attrs:{content:"可以通过${QS.xxx}来获取地址栏上的xxx参数，以及${data}的形式来插入动态内容",placement:"top"}},[n("i",{staticClass:"el-icon-info"})])],1),e._v(" "),"statTrackEvent"===e.eventType?[n("el-form-item",{attrs:{label:"Category"}},[n("el-input",{attrs:{value:e.statVal[0],placeholder:""},on:{input:function(t){return e.handleInputStat(t,0)}}})],1),e._v(" "),n("el-form-item",{attrs:{label:"Action"}},[n("el-input",{attrs:{value:e.statVal[1],placeholder:""},on:{input:function(t){return e.handleInputStat(t,1)}}})],1),e._v(" "),n("el-form-item",{attrs:{label:"Label"}},[n("el-input",{attrs:{value:e.statVal[2],placeholder:""},on:{input:function(t){return e.handleInputStat(t,2)}}})],1),e._v(" "),n("el-form-item",{attrs:{label:"Value"}},[n("el-input",{attrs:{value:e.statVal[3],placeholder:""},on:{input:function(t){return e.handleInputStat(t,3)}}})],1)]:"copy"===e.eventType?[n("el-form-item",{attrs:{label:"复制文本"}},[n("el-input",{attrs:{value:e.copyVal.text,placeholder:""},on:{input:function(t){return e.handleInputCopy(t,"text")}}})],1),e._v(" "),n("el-form-item",{attrs:{label:"复制成功提示"}},[n("el-input",{attrs:{value:e.copyVal.stext,placeholder:""},on:{input:function(t){return e.handleInputCopy(t,"stext")}}})],1)]:[n("el-form-item",{attrs:{label:"数据"}},[n("el-input",{attrs:{value:e.value,placeholder:""},on:{input:function(t){return e.$emit("input",t)}}})],1)]],2)},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement;return(e._self._c||t)("video",{ref:"player",staticClass:"video-normal",attrs:{controls:e.params.controls,playsinline:"","webkit-playsinline":"","x5-playsinline":"","x-webkit-airplay":"allow","x5-video-orientation":"portraint","x5-video-player-type":"h5","x5-video-player-fullscreen":"true",autoplay:e.params.autoplay,autobuffer:"",loop:e.params.loop,src:e.src},domProps:{muted:e.muted},on:{play:function(t){return e.$emit("play")},pause:function(t){return e.$emit("pause")},ended:function(t){return e.$emit("ended")}}})},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"video-canvas"},[t("canvas",{ref:"video-canvas",staticClass:"video-canvas",on:{click:this.playCanvasVideo}})])},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this.$createElement,t=this._self._c||e;return this.curComponent.enable?t(this.curComponent.is,{tag:"component",attrs:{data:this.data,methods:this.methods,"env-list":this.envList,options:this.formOptions}}):this._e()},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-form-item",{attrs:{label:"透明度"}},[n("el-slider",{attrs:{min:0,step:.05,max:1},on:{change:e.change},model:{value:e.num,callback:function(t){e.num=t},expression:"num"}})],1)],1)},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-form-item",{attrs:{label:"缩放"}},[n("el-slider",{attrs:{min:0,max:5,step:.01},on:{change:e.change},model:{value:e.num,callback:function(t){e.num=t},expression:"num"}})],1)],1)},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-form-item",{attrs:{label:"X轴偏移"}},[n("num",{attrs:{"style-attr":e.xLength,"custom-units":e.units},on:{"update:styleAttr":function(t){e.xLength=t},"update:style-attr":function(t){e.xLength=t}}})],1),e._v(" "),n("el-form-item",{attrs:{label:"Y轴偏移"}},[n("num",{attrs:{"style-attr":e.yLength,"custom-units":e.units},on:{"update:styleAttr":function(t){e.yLength=t},"update:style-attr":function(t){e.yLength=t}}})],1)],1)},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("Fade",{attrs:{value:e.value},on:{updateStyles:function(t){e.$emit("updateStyles",t)}}}),e._v(" "),n("Slide",{attrs:{value:e.value},on:{updateStyles:function(t){e.$emit("updateStyles",t)}}})],1)},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-form-item",{attrs:{label:"初始透明度","label-width":"50px"}},[n("el-input-number",{staticStyle:{width:"100%"},attrs:{value:e.start,min:0,max:1,step:.01,size:"mini",placeholder:"初始透明度"},on:{change:function(t){return e.start=t}}})],1),e._v(" "),n("el-form-item",{attrs:{label:"终点透明度","label-width":"50px"}},[n("el-input-number",{staticStyle:{width:"100%"},attrs:{value:e.end,min:0,max:1,step:.01,size:"mini",placeholder:"终点透明度"},on:{change:function(t){return e.end=t}}})],1),e._v(" "),n("el-form-item",{attrs:{label:"时间(ms/轮)","label-width":"80px"}},[n("el-input-number",{staticStyle:{width:"100%"},attrs:{value:e.duration,min:0,step:50,size:"mini",placeholder:"从起点到终点的时间"},on:{change:function(t){return e.duration=t}}})],1),e._v(" "),n("el-form-item",{attrs:{label:"贝塞尔曲线","label-width":"80px"}},[n("el-input",{attrs:{size:"mini",placeholder:"请输入符合规格的贝塞尔曲线"},on:{change:e.easeChange},model:{value:e.ease,callback:function(t){e.ease=t},expression:"ease"}})],1)],1)},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-form-item",{attrs:{label:"反向旋转","label-width":"50px"}},[n("el-switch",{model:{value:e.direction,callback:function(t){e.direction=t},expression:"direction"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"时间(ms/轮)","label-width":"80px"}},[n("el-input-number",{staticStyle:{width:"100%"},attrs:{value:e.duration,min:0,step:50,size:"mini",placeholder:"从起点到终点的时间"},on:{change:function(t){return e.duration=t}}})],1)],1)},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-form-item",{attrs:{label:"起始位置","label-width":"50px"}},[n("num",{attrs:{"style-attr":e.start,"custom-units":e.units},on:{"update:styleAttr":function(t){e.start=t},"update:style-attr":function(t){e.start=t}}})],1),e._v(" "),n("el-form-item",{attrs:{label:"终点位置","label-width":"50px"}},[n("num",{attrs:{"style-attr":e.end,"custom-units":e.units},on:{"update:styleAttr":function(t){e.end=t},"update:style-attr":function(t){e.end=t}}})],1),e._v(" "),n("el-form-item",{attrs:{label:"时间(ms/轮)","label-width":"80px"}},[n("el-input-number",{staticStyle:{width:"100%"},attrs:{value:e.duration,min:0,step:50,size:"mini",placeholder:"从起点到终点的时间"},on:{change:function(t){return e.duration=t}}})],1),e._v(" "),n("el-form-item",{attrs:{label:"贝塞尔曲线","label-width":"80px"}},[n("el-input",{attrs:{size:"mini",placeholder:"请输入符合规格的贝塞尔曲线"},on:{change:e.easeChange},model:{value:e.ease,callback:function(t){e.ease=t},expression:"ease"}})],1)],1)},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-form-item",{attrs:{label:"不使用组件"}},[n("el-switch",{model:{value:e.disabled,callback:function(t){e.disabled=t},expression:"disabled"}})],1)},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-form-item",{attrs:{label:"显示组件"}},[n("el-switch",{model:{value:e.enabled,callback:function(t){e.enabled=t},expression:"enabled"}})],1)},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-form-item",{attrs:{label:"锁定宽高比"}},[n("el-switch",{model:{value:e.fixAspectRatio,callback:function(t){e.fixAspectRatio=t},expression:"fixAspectRatio"}})],1)},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-form-item",{attrs:{label:"显示编辑样式"}},[n("el-switch",{model:{value:e.showEditOptions,callback:function(t){e.showEditOptions=t},expression:"showEditOptions"}})],1)},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.formType.includes("key")?n("el-form-item",{attrs:{label:e.declarations.keyLabel}},[n("el-input",{attrs:{value:e.linkMsg.key},on:{input:function(t){return e.handleChange(t,"key")}}})],1):e._e(),e._v(" "),n("el-form-item",[n("el-switch",{attrs:{value:e.linkMsg.equal,"active-text":"是","inactive-text":"不是"},on:{input:function(t){return e.handleChange(t,"equal")}}})],1),e._v(" "),e.formType.includes("val")?[n("el-form-item",{attrs:{label:e.declarations.valLabel}},[n("el-input",{attrs:{value:e.linkMsg.val},on:{input:function(t){return e.handleChange(t,"val")}}})],1)]:e._e()],2)},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-form-item",{attrs:{label:"时间类型"}},[n("el-select",{attrs:{filterable:"",placeholder:"请选择"},on:{change:e.handlerTimeTypeChange},model:{value:e.linkMsg.timeType,callback:function(t){e.$set(e.linkMsg,"timeType",t)},expression:"linkMsg.timeType"}},e._l(e.timeTypeList,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),"biz"!==e.linkMsg.timeType?n("TimeSelector",{attrs:{"start-time":e.linkMsg.startTime,"time-zone":e.timeZone,"end-time":e.linkMsg.endTime},on:{timeChange:e.handleTimeChange,zoneChange:e.handlerZoneChange}}):[e._l(e.linkMsg.timeMap,(function(t,r){return[n("el-divider",{key:r+"divider",attrs:{"content-position":"left"}},[e._v("\n        "+e._s(r)+"\n      ")]),e._v(" "),n("TimeSelector",{key:r,attrs:{"start-time":t.startTime,"time-zone":t.timeZone,"end-time":t.endTime},on:{timeChange:function(n){return e.handleTimeChange(n,t)},zoneChange:function(n){return e.handlerZoneChange(n,t)}}})]}))]],2)},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"num-unit-wrap"},["other"!==e.unit?n("el-input-number",{staticClass:"input",attrs:{value:e.value,precision:"rem"===e.unit?0:e.styleConst.normalPrecise,disabled:void 0===e.value,size:"mini","controls-position":"right"},on:{change:function(t){return e.changeVal(t,"value")}}}):n("el-input",{staticClass:"input",attrs:{placeholder:"",size:"mini"},on:{change:function(t){return e.changeVal(t,"value")}},model:{value:e.text,callback:function(t){e.text=t},expression:"text"}}),e._v(" "),n("el-select",{staticClass:"unit",attrs:{value:e.unit,size:"mini",placeholder:"单位"},on:{change:function(t){return e.changeVal(t,"unit")}}},e._l(e.unitsMsg,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label||e.value,value:e.value}})})),1)],1)},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.aligns.length,expression:"aligns.length"}],staticClass:"align-wrap",attrs:{label:"对齐"}},[n("div",{staticClass:"align-tools"},e._l(e.aligns,(function(t){return n("el-tooltip",{key:t.desc,attrs:{effect:"dark",content:t.desc,placement:"bottom-start"}},[n("a",{staticClass:"align-btn iconfont",class:[t.icon,{active:e.positionType(t)}],attrs:{href:"javascript:void(0);"},on:{click:function(n){return e.doAlign(t)}}})])})),1)])},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-form-item",{attrs:{label:"背景色"}},[n("el-color-picker",{attrs:{"show-alpha":"",predefine:e.predefineColors},model:{value:e.backgroundColor,callback:function(t){e.backgroundColor=t},expression:"backgroundColor"}})],1)},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-form-item",{attrs:{label:"背景图片"}},[n("puzzle-upload",{attrs:{accept:".png,.jpeg,.jpg,.gif"},model:{value:e.backgroundImage,callback:function(t){e.backgroundImage=t},expression:"backgroundImage"}})],1)},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-form-item",[n("el-tooltip",{attrs:{slot:"label",content:"背景的对齐方式",placement:"top"},slot:"label"},[n("span",[e._v("背景位置 "),n("i",{staticClass:"el-icon-info"})])]),e._v(" "),n("el-select",{attrs:{placeholder:"请选择"},model:{value:e.backgroundPosition,callback:function(t){e.backgroundPosition=t},expression:"backgroundPosition"}},e._l(e.backgroundPositionList,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-form-item",{attrs:{label:"背景重复"}},[n("el-switch",{attrs:{"active-value":"repeat","inactive-value":"no-repeat"},model:{value:e.backgroundRepeat,callback:function(t){e.backgroundRepeat=t},expression:"backgroundRepeat"}})],1)},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-form-item",{attrs:{label:"适应方式"}},[n("el-radio-group",{model:{value:e.backgroundSize,callback:function(t){e.backgroundSize=t},expression:"backgroundSize"}},[n("el-radio-button",{attrs:{label:"cover"}},[e._v("\n      覆盖\n    ")]),e._v(" "),n("el-radio-button",{attrs:{label:"contain"}},[e._v("\n      适应\n    ")]),e._v(" "),n("el-radio-button",{attrs:{label:"100% 100%"}},[e._v("\n      拉伸\n    ")])],1)],1)},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-row",[n("el-form-item",{attrs:{label:"边框","label-width":"30px"}},[n("el-tree",{staticClass:"tree-node",attrs:{data:e.dataArr,props:e.defaultProps,"expand-on-click-node":!1,"node-key":"label"},scopedSlots:e._u([{key:"default",fn:function(t){t.node;var r=t.data;return n("div",{staticClass:"custom-tree-node"},[e._v("\n        "+e._s(r.type?r.label+":":"")+"\n        "),n("pz-select",{staticStyle:{width:"80px"},attrs:{size:"mini",value:r.border.style},on:{change:function(t){return e.setBorder("style",r,t)}}},e._l(e.borderStyle,(function(e){return n("pz-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),e._v(" "),n("div",[n("PxNum",{staticClass:"px-number",staticStyle:{width:"50px"},attrs:{value:r.border.width,min:0,controls:!1},on:{input:function(t){return e.setBorder("width",r,t)}}}),e._v("px\n        ")],1),e._v(" "),n("el-color-picker",{attrs:{value:r.border.color,size:"mini"},on:{change:function(t){return e.setBorder("color",r,t||e.defaultColor)}}})],1)}}])})],1)],1)},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-row",[n("el-form-item",{attrs:{label:"圆角","label-width":"30px"}},[n("num",{attrs:{"style-attr":e.borderRadius,"custom-units":e.units},on:{"update:styleAttr":function(t){e.borderRadius=t},"update:style-attr":function(t){e.borderRadius=t}}})],1)],1)},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-row",[n("el-form-item",{attrs:{label:"下","label-width":"30px"}},[n("num",{attrs:{"style-attr":e.bottom,"custom-units":e.units},on:{"update:styleAttr":function(t){e.bottom=t},"update:style-attr":function(t){e.bottom=t}}})],1)],1)},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-form-item",{attrs:{label:"鼠标光标"}},[n("el-select",{attrs:{placeholder:"请选择"},model:{value:e.boxStyle.cursor,callback:function(t){e.$set(e.boxStyle,"cursor",t)},expression:"boxStyle.cursor"}},e._l(e.cursorValues,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-row",[n("el-form-item",{attrs:{label:"字号","label-width":"40px"}},[n("num",{attrs:{"style-attr":e.fontSize,"custom-units":e.units},on:{"update:styleAttr":function(t){e.fontSize=t},"update:style-attr":function(t){e.fontSize=t}}})],1)],1)},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-row",[n("el-form-item",{attrs:{label:"高","label-width":"30px"}},[n("num",{attrs:{"style-attr":e.height},on:{"update:styleAttr":function(t){e.height=t},"update:style-attr":function(t){e.height=t}}})],1)],1)},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-row",[n("el-form-item",{attrs:{label:"左","label-width":"30px"}},[n("num",{attrs:{"style-attr":e.left,"custom-units":e.units},on:{"update:styleAttr":function(t){e.left=t},"update:style-attr":function(t){e.left=t}}})],1)],1)},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-row",[n("el-form-item",{attrs:{label:"下边距","label-width":"50px"}},[n("num",{attrs:{"style-attr":e.marginBottom,"custom-units":e.units},on:{"update:styleAttr":function(t){e.marginBottom=t},"update:style-attr":function(t){e.marginBottom=t}}})],1)],1)},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-row",[n("el-form-item",{attrs:{label:"左边距","label-width":"50px"}},[n("num",{attrs:{"style-attr":e.marginLeft,"custom-units":e.units},on:{"update:styleAttr":function(t){e.marginLeft=t},"update:style-attr":function(t){e.marginLeft=t}}})],1)],1)},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-row",[n("el-form-item",{attrs:{label:"右边距","label-width":"50px"}},[n("num",{attrs:{"style-attr":e.marginRight,"custom-units":e.units},on:{"update:styleAttr":function(t){e.marginRight=t},"update:style-attr":function(t){e.marginRight=t}}})],1)],1)},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-row",[n("el-form-item",{attrs:{label:"上边距","label-width":"50px"}},[n("num",{attrs:{"style-attr":e.marginTop,"custom-units":e.units},on:{"update:styleAttr":function(t){e.marginTop=t},"update:style-attr":function(t){e.marginTop=t}}})],1)],1)},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-row",[n("el-row",[e._v("\n    最大高度\n  ")]),e._v(" "),n("el-row",[n("el-form-item",{attrs:{"label-width":"0px"}},[n("num",{attrs:{"style-attr":e.maxHeight},on:{"update:styleAttr":function(t){e.maxHeight=t},"update:style-attr":function(t){e.maxHeight=t}}})],1)],1)],1)},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-row",[n("el-row",[e._v("\n    最大宽度\n  ")]),e._v(" "),n("el-row",[n("el-form-item",{attrs:{"label-width":"0px"}},[n("num",{attrs:{"style-attr":e.maxWidth},on:{"update:styleAttr":function(t){e.maxWidth=t},"update:style-attr":function(t){e.maxWidth=t}}})],1)],1)],1)},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-row",[n("el-row",[e._v("\n    最小高度\n  ")]),e._v(" "),n("el-row",[n("el-form-item",{attrs:{"label-width":"0px"}},[n("num",{attrs:{"style-attr":e.minHeight},on:{"update:styleAttr":function(t){e.minHeight=t},"update:style-attr":function(t){e.minHeight=t}}})],1)],1)],1)},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-row",[n("el-row",[e._v("\n    最小宽度\n  ")]),e._v(" "),n("el-row",[n("el-form-item",{attrs:{"label-width":"0px"}},[n("num",{attrs:{"style-attr":e.minWidth},on:{"update:styleAttr":function(t){e.minWidth=t},"update:style-attr":function(t){e.minWidth=t}}})],1)],1)],1)},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("el-form-item",{attrs:{label:"透明度","label-width":"70px"}},[t("el-input-number",{staticStyle:{width:"120px"},attrs:{value:this.opacity,min:0,step:.1,max:1},on:{change:this.change}})],1)],1)},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-form-item",{attrs:{label:"点击穿透","label-width":"50px"}},[n("el-radio-group",{model:{value:e.pointerEvents,callback:function(t){e.pointerEvents=t},expression:"pointerEvents"}},e._l(e.pointerEventsData,(function(t){return n("el-radio-button",{key:t.value,attrs:{label:t.value}},[e._v("\n      "+e._s(t.label)+"\n    ")])})),1)],1)},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-form-item",{attrs:{"label-width":"53px"}},[n("el-tooltip",{attrs:{slot:"label",placement:"top"},slot:"label"},[n("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n      文档流：从上往下排列"),n("br"),e._v("\n      浮动：可自由拖拽位置"),n("br"),e._v("\n      吸附屏幕：悬浮在页面固定位置\n    ")]),e._v(" "),n("span",[e._v("定位 "),n("i",{staticClass:"el-icon-info"})])]),e._v(" "),n("el-radio-group",{model:{value:e.position,callback:function(t){e.position=t},expression:"position"}},[n("el-radio-button",{attrs:{label:"relative"}},[e._v("\n      文档流\n    ")]),e._v(" "),n("el-radio-button",{attrs:{label:"absolute"}},[e._v("\n      浮动\n    ")]),e._v(" "),e.canFixed?n("el-radio-button",{attrs:{label:"fixed"}},[e._v("\n      吸附屏幕\n    ")]):e._e()],1)],1)},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-row",[n("el-form-item",{attrs:{label:"右","label-width":"30px"}},[n("num",{attrs:{"style-attr":e.right,"custom-units":e.units},on:{"update:styleAttr":function(t){e.right=t},"update:style-attr":function(t){e.right=t}}})],1)],1)},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-row",[n("el-form-item",{attrs:{label:"上","label-width":"30px"}},[n("num",{attrs:{"style-attr":e.top,"custom-units":e.units},on:{"update:styleAttr":function(t){e.top=t},"update:style-attr":function(t){e.top=t}}})],1)],1)},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-row",[n("el-form-item",{attrs:{label:"宽","label-width":"30px"}},[n("num",{attrs:{"style-attr":e.width},on:{"update:styleAttr":function(t){e.width=t},"update:style-attr":function(t){e.width=t}}})],1)],1)},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this.$createElement,t=this._self._c||e;return t("el-form-item",{attrs:{label:"层级"}},[t("el-button",{attrs:{size:"mini"},on:{click:this.setTopZIndex}},[this._v("\n    置于顶层\n  ")]),this._v(" "),t("el-button",{attrs:{size:"mini"},on:{click:this.setBottomZIndex}},[this._v("\n    置于底层\n  ")])],1)},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[void 0!==e.timeZone?n("el-form-item",{attrs:{label:"时区"}},[n("ZoneSelector",{attrs:{value:e.timeZone},on:{change:function(t){return e.$emit("zoneChange",t)}}})],1):e._e(),e._v(" "),n("el-form-item",{attrs:{label:"开始时间"}},[n("ZeroZoneTimeSelector",{attrs:{placeholder:"选择日期时间"},model:{value:e.sTime,callback:function(t){e.sTime=t},expression:"sTime"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"结束时间"}},[n("ZeroZoneTimeSelector",{attrs:{placeholder:"选择日期时间"},model:{value:e.eTime,callback:function(t){e.eTime=t},expression:"eTime"}})],1)],1)},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement;return(e._self._c||t)("PzNumberInput",e._b({model:{value:e.val,callback:function(t){e.val=t},expression:"val"}},"PzNumberInput",e.$attrs,!1))},i=[];r._withStripped=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this.$createElement;return(this._self._c||e)("el-input-number",this._b({staticClass:"puzzle-input-number",attrs:{value:this.value,"controls-position":"right",size:"mini"},on:{change:this.handleChange}},"el-input-number",this.$attrs,!1))},i=[];r._withStripped=!0},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.puzzleCDNBaseURL=t.merlinBase=t.environment=t.baseAppKey=t.apiBase=void 0;t.environment="production";t.apiBase="https://op-takumi.mihoyo.com/";t.merlinBase="https://op-takumi.mihoyo.com/merlin_admin/op/v1/";t.baseAppKey="f75f73e4";t.puzzleCDNBaseURL={cn:{test:"https://webstatic-test.mihoyo.com",pre:"https://webstatic-pre.mihoyo.com",prod:"https://webstatic.mihoyo.com"},global:{test:"https://act-test.hoyoverse.com/puzzle",pre:"https://act-pre.hoyoverse.com/puzzle",prod:"https://act.hoyoverse.com/puzzle"},oss:{test:"https://webstatic-sea-test.hoyoverse.com",pre:"https://webstatic-sea-pre.hoyoverse.com",prod:"https://webstatic-sea.hoyoverse.com"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if("number"!=typeof e)return e;switch(t){case"split":return function(e){var t=[],n=e,r="";for(;n>1e3;)t.push(n%1e3),n=Math.floor(n/1e3);t.push(n);for(;t.length>0;)r+="".concat(t.pop(),",");return r.substr(0,r.length-1)}(e);case"byte":return function(e){var t=0;if(e>=1e3&&e<1e6)return{value:t=parseFloat(e/1024),unit:"KB",text:"".concat(t,"KB")};if(e>=1e6&&e<1e9)return{value:t=parseFloat(e/1048576),unit:"MB",text:"".concat(t,"MB")};if(e>=1e9)return{value:t=parseFloat(e/1073741824),unit:"GB",text:"".concat(t,"GB")};return{value:e,unit:"B",text:"".concat(e,"B")}}(e);case"percent":return function(e,t){var n=Math.round(100*e);"fill"===t&&n<10&&(n="0".concat(n));return"".concat(n,"%")}(e,n);case"time":return function(e){var t=e/1e3/60/60,n=Math.floor(t),r=60*(t-n),i=Math.floor(r),o=60*(r-i),a=Math.floor(o);return{hour:n,minute:i,second:a,millisecond:1e3*(o-a)}}(e);default:return e>=1e3&&e<1e6?"".concat(parseFloat((e/1e3).toFixed(n||2)),"K"):e>=1e6||e<=-1e6?"".concat(parseFloat((e/1e6).toFixed(n||2)),"M"):e}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";e.exports=function(e){return{"@configs":e("src/configs"),"@framework":e("src/framework/index.js"),"@httpService":e("src/framework/services/httpService.js"),"@cacheService":e("src/framework/services/cacheService.js"),"@routerService":e("src/framework/services/routerService.js"),"@numberFormat":e("src/framework/components/utils/numberFormat.js"),"@logger":e("src/framework/components/utils/logger.js"),"@libRegister":e("src/framework/libRegister.json")}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.generateInitState=d,t.resetPlatMsg=t.resetBaseInfo=void 0;var r,i=n(303),o=(r=n(143))&&r.__esModule?r:{default:r};function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=function(e,t,n){var r,i={body:{backgroundImage:"",backgroundColor:"#fff",backgroundPosition:"top",backgroundAttachment:"local",width:0,fullScreen:""},jumpUrl:"",mode:"",preloadNum:5,resources:{},enable:!0};return r=n?o.default.compPageMode:o.default.pageModeMap.find((function(e){return e.value===t}))||o.default.pageModeMap[0],s(s({},i),{},{mode:r.mode,body:s(s(s({},i.body),{},{fullScreen:r.fullScreen},r["".concat(e,"InitState")]),{},{flexibleOptions:n})})},c=function(e,t){return{funcModules:[],compList:{},modeType:"edit",nodes:[],baseInfo:{id:0,game_biz:"",bizList:[],publish_key:"",eventKey:"",statKey:"",lang:"",buildVer:"",cnzzSiteId:"",miaAppId:"",gaId:"",isDevop:!1,langMap:void 0,head:{title:"",desc:"",keywords:"",icon:""},seaHead:{shareTitle:"",shareDesc:"",shareImage:"",icon:"",desc:"",keywords:""},share:{enable:!1,title:"",desc:"",img:""},merlinList:{},cookieTip:{enable:!1},mi18n:{enable:!1,key:""},script:{enable:!1,srcs:[]},uploadCompress:!1,hasGameBgm:!0,useSeverTime:!1,previewPlatList:[],publicPath:!0,landscapeTip:!1,customMi18nKey:{}},platMsg:l(e,t),activeNodeId:"",activePageIdx:0,activeNodeStateKey:"",activeScreenNodeId:[],nodesProInPage:{},nodesEditOptions:{},canvasContainerEl:null,mi18nAdminUrl:"",gameBiz:"",lang:"",mi18nData:{},ctrlKeyDown:!1,screenList:[],previewExtraParams:[],canvasTransformData:{scale:1,x:0,y:0,offsetLeft:0,offsetTop:0,clientWidth:0,clientHeight:0},currentActiveElStyleNum:{x:0,y:0,width:0,height:0,top:0,left:0,marginLeft:0,marginTop:0,marginBottom:0,marginRight:0},mouseDownPosition:{x:0,y:0},platform:i.Platform.H5,duringDrag:!1,dragActiveBoxStyle:{},bizList:[],prePageConfig:{},pageModule:"",pageStatus:"",customCanvas:void 0,previewZone:8,previewTime:null}};t.resetBaseInfo=function(e){return s(s({},{id:0,game_biz:"",bizList:[],publish_key:"",eventKey:"",statKey:"",lang:"",buildVer:"",cnzzSiteId:"",miaAppId:"",gaId:"",isDevop:!1,langMap:void 0,head:{title:"",desc:"",keywords:"",icon:""},seaHead:{shareTitle:"",shareDesc:"",shareImage:"",icon:"",desc:"",keywords:""},share:{enable:!1,title:"",desc:"",img:""},merlinList:{},cookieTip:{enable:!1},mi18n:{enable:!1,key:""},script:{enable:!1,srcs:[]},uploadCompress:!1,hasGameBgm:!0,useSeverTime:!1,previewPlatList:[],publicPath:!0,landscapeTip:!1,customMi18nKey:{}}),e)};function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.Platform.PC,t=arguments.length>1?arguments[1]:void 0,n=c(e,t);return s(s({},n),{},{platform:e})}t.resetPlatMsg=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.Platform.PC,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return s(s({},l(e,t,r)),n||{})};var f=d();t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return"pz-".concat((0,r.nanoid)(e))},t.newEventId=function(){return"pz_".concat(i())};var r=n(2509);var i=(0,r.customAlphabet)("ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW".replace(/-/g,""),10)},,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return c(s(s({},e),{},{id:(0,i.default)()}))},t.getDefaultState=t.fmtConfig=void 0;var r,i=(r=n(1206))&&r.__esModule?r:{default:r},o=["id"];function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var c=function(e,t){var n,r,i,a=t?JSON.parse(JSON.stringify(e)):e;i=a.id,e=s({id:i},e=l(a,o));return[{key:"modId",val:0},{key:"otherOptions",val:{}},{key:"editOptions",val:{}},{key:"enabled",val:!0},{key:"version",val:"latest"},{key:"label",val:"未命名组件"}].forEach((function(t){var n;e[t.key]=null!==(n=e[t.key])&&void 0!==n?n:t.val})),e.alias=null!==(n=e.alias)&&void 0!==n?n:e.label,e.boxStyle=s({position:"relative"},e.boxStyle||{}),"relative"!==e.boxStyle.position&&(["left","right"].some((function(t){return e.boxStyle[t]}))||(e.boxStyle.left="0rem"),["top","bottom"].some((function(t){return e.boxStyle[t]}))||(e.boxStyle.top="0rem")),null===(r=e.events)||void 0===r||r.forEach((function(t){t.source=t.source||e.id,t.compare=t.compare||{}})),e};t.fmtConfig=c;t.getDefaultState=function(e){if(e){var t={};return Object.keys(e).forEach((function(n){var r=e[n].default;void 0!==r&&(t[n]=r)})),t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t,n){t.forEach((function(t){n(t),t.children&&t.children.length>0&&e(t.children,n)}))}},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getResMsgByUrl=void 0;var r=n(336);function i(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.getResMsgByUrl=function(e){var t=new RegExp(r.PUZZLE_RES_REG),n=new RegExp(r.VENDOR_RES_REG);if(e&&"string"==typeof e){var o=i(e.matchAll(t)),a=i(e.matchAll(n)).filter((function(e){return!o.find((function(t){return t[0]===e[0]}))})),s=[].concat(i(o),i(a));if(s.length)return s.map((function(e,t){var n=e[e.length-1],i=function(e){return r.RES_TYPE_MAP[e]||"other"}(n);return{isPuzzleRes:Boolean(t<o.length),extension:n,type:i,url:e[0]}}))}}},,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOtherStateKeyMsg=void 0;t.getOtherStateKeyMsg=function(e){var t=e.match(/^(pzstate\d+-)(.*)/);if(t)return{stateKey:t[0],stateName:t[1],originKey:t[2]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={DEFAULT:"default",SCROLL_START:"scrollStart",SCROLL_END:"scrollEnd"}},,function(e,t,n){},,,,,,,,function(e,t,n){"use strict";n.r(t);var r=n(935),i=n(476);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n(2126);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,"0858c437",null);s.options.__file="src/components/urlDialog.vue",t.default=s.exports},,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPageUrl=t.getPageQueryString=t.getPageHref=void 0;var r=n(173),i=function(e){var t=e.env,n=e.isSea,i=e.curBiz,o=e.publishKey,a=i.replace(/_.*/g,""),s=n?"global":"cn",u=r.puzzleCDNBaseURL[s][t],l="global"===s?o:"event/puzzle/".concat(o);return"".concat(u,"/").concat(a,"/").concat(l,"/index.html")};t.getPageUrl=i;t.getPageHref=function(e){var t=e.env,n=e.isSea,r=e.curBiz,a=e.publishKey,s=e.type,u=e.eventKey;return"".concat(i({env:t,isSea:n,curBiz:r,publishKey:a})).concat(o({type:s,curBiz:r,eventKey:u}))};var o=function(e){var t=e.type,n=e.curBiz,r=e.eventKey;return"gameWebview"!==t?"?game_biz=".concat(n):"?game_biz=".concat(n,"&sign_type=2&authkey_ver=1&auth_appid=").concat(r)};t.getPageQueryString=o},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(921),i=n(480);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,null,null);s.options.__file="src/main/edit/index.vue",t.default=s.exports},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initialToUpperCase=t.debounce=void 0;t.debounce=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=null,o=function(){for(var n=this,o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];clearTimeout(i),i=setTimeout((function(){r&&e.call.apply(e,[n].concat(a)),i=null}),t)};return function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];!i&&n&&e.call.apply(e,[this].concat(r)),o.call.apply(o,[this].concat(r))}};t.initialToUpperCase=function(e){return e?e[0].toUpperCase()+e.slice(1):e}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(939),i=n(486);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n(2151);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,null,null);s.options.__file="src/main/edit/docks/funcModule.vue",t.default=s.exports},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(974),i=n(500);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,null,null);s.options.__file="src/main/edit/docks/preview/editMode.vue",t.default=s.exports},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(950),i=n(504);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n(2179);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,"3250b9de",null);s.options.__file="src/main/edit/docks/preview/previewIframe.vue",t.default=s.exports},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getParentList=void 0;t.getParentList=function(e){for(var t=e,n=[];t.parentNode;)n.push(t.parentNode),t=t.parentNode;return n}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(976),i=n(520);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,null,null);s.options.__file="src/main/edit/docks/inspector/envLinkForms/zeroZoneTimeSelector.vue",t.default=s.exports},function(e,t,n){"use strict";n.r(t);var r=n(977),i=n(522);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,null,null);s.options.__file="src/main/edit/docks/inspector/envLinkForms/zoneSelector.vue",t.default=s.exports},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e4;return new Promise((function(n,r){var i=new Image,o=setTimeout((function(){r({msg:"loadImage timeout: ".concat(e),src:e})}),t);i.onload=function(){clearTimeout(o),n(i)},i.onerror=function(e){clearTimeout(o),r(e)},i.src=e}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e4;return Promise.all(e.map((function(e){return r(e,t)})))},t.loadImage=r},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(995),i=n(536);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,null,null);s.options.__file="src/main/edit/docks/inspector/formItem.vue",t.default=s.exports},function(e,t,n){"use strict";n.r(t);var r=n(1021),i=n(540);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n(2205);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,"5caf0b88",null);s.options.__file="src/main/edit/docks/inspector/styleForms/alignTools.vue",t.default=s.exports},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(1022),i=n(542);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,null,null);s.options.__file="src/main/edit/docks/inspector/styleForms/backgroundColor.vue",t.default=s.exports},function(e,t,n){"use strict";n.r(t);var r=n(1023),i=n(544);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,null,null);s.options.__file="src/main/edit/docks/inspector/styleForms/backgroundImage.vue",t.default=s.exports},function(e,t,n){"use strict";n.r(t);var r=n(1024),i=n(546);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,null,null);s.options.__file="src/main/edit/docks/inspector/styleForms/backgroundPosition.vue",t.default=s.exports},function(e,t,n){"use strict";n.r(t);var r=n(1025),i=n(548);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,null,null);s.options.__file="src/main/edit/docks/inspector/styleForms/backgroundRepeat.vue",t.default=s.exports},function(e,t,n){"use strict";n.r(t);var r=n(1026),i=n(550);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,null,null);s.options.__file="src/main/edit/docks/inspector/styleForms/backgroundSize.vue",t.default=s.exports},function(e,t,n){"use strict";n.r(t);var r=n(1027),i=n(552);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n(2210);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,"2886a3de",null);s.options.__file="src/main/edit/docks/inspector/styleForms/border.vue",t.default=s.exports},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(1028),i=n(558);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,null,null);s.options.__file="src/main/edit/docks/inspector/styleForms/borderRadius.vue",t.default=s.exports},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(1029),i=n(562);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,null,null);s.options.__file="src/main/edit/docks/inspector/styleForms/bottom.vue",t.default=s.exports},function(e,t,n){"use strict";n.r(t);var r=n(1030),i=n(564);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,null,null);s.options.__file="src/main/edit/docks/inspector/styleForms/cursor.vue",t.default=s.exports},function(e,t,n){"use strict";n.r(t);var r=n(1031),i=n(566);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,null,null);s.options.__file="src/main/edit/docks/inspector/styleForms/fontSize.vue",t.default=s.exports},function(e,t,n){"use strict";n.r(t);var r=n(1032),i=n(568);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,null,null);s.options.__file="src/main/edit/docks/inspector/styleForms/height.vue",t.default=s.exports},function(e,t,n){"use strict";n.r(t);var r=n(1033),i=n(570);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,null,null);s.options.__file="src/main/edit/docks/inspector/styleForms/left.vue",t.default=s.exports},function(e,t,n){"use strict";n.r(t);var r=n(1034),i=n(572);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,null,null);s.options.__file="src/main/edit/docks/inspector/styleForms/marginBottom.vue",t.default=s.exports},function(e,t,n){"use strict";n.r(t);var r=n(1035),i=n(574);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,null,null);s.options.__file="src/main/edit/docks/inspector/styleForms/marginLeft.vue",t.default=s.exports},function(e,t,n){"use strict";n.r(t);var r=n(1036),i=n(576);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,null,null);s.options.__file="src/main/edit/docks/inspector/styleForms/marginRight.vue",t.default=s.exports},function(e,t,n){"use strict";n.r(t);var r=n(1037),i=n(578);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,null,null);s.options.__file="src/main/edit/docks/inspector/styleForms/marginTop.vue",t.default=s.exports},function(e,t,n){"use strict";n.r(t);var r=n(1038),i=n(580);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,null,null);s.options.__file="src/main/edit/docks/inspector/styleForms/maxHeight.vue",t.default=s.exports},function(e,t,n){"use strict";n.r(t);var r=n(1039),i=n(582);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,null,null);s.options.__file="src/main/edit/docks/inspector/styleForms/maxWidth.vue",t.default=s.exports},function(e,t,n){"use strict";n.r(t);var r=n(1040),i=n(584);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,null,null);s.options.__file="src/main/edit/docks/inspector/styleForms/minHeight.vue",t.default=s.exports},function(e,t,n){"use strict";n.r(t);var r=n(1041),i=n(586);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,null,null);s.options.__file="src/main/edit/docks/inspector/styleForms/minWidth.vue",t.default=s.exports},function(e,t,n){"use strict";n.r(t);var r=n(1042),i=n(588);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,null,null);s.options.__file="src/main/edit/docks/inspector/styleForms/opacity.vue",t.default=s.exports},function(e,t,n){"use strict";n.r(t);var r=n(1043),i=n(590);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,null,null);s.options.__file="src/main/edit/docks/inspector/styleForms/pointerEvents.vue",t.default=s.exports},function(e,t,n){"use strict";n.r(t);var r=n(1044),i=n(592);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,null,null);s.options.__file="src/main/edit/docks/inspector/styleForms/position.vue",t.default=s.exports},function(e,t,n){"use strict";n.r(t);var r=n(1045),i=n(594);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,null,null);s.options.__file="src/main/edit/docks/inspector/styleForms/right.vue",t.default=s.exports},function(e,t,n){"use strict";n.r(t);var r=n(1046),i=n(596);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,null,null);s.options.__file="src/main/edit/docks/inspector/styleForms/top.vue",t.default=s.exports},function(e,t,n){"use strict";n.r(t);var r=n(1047),i=n(598);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,null,null);s.options.__file="src/main/edit/docks/inspector/styleForms/width.vue",t.default=s.exports},function(e,t,n){"use strict";n.r(t);var r=n(1048),i=n(600);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,null,null);s.options.__file="src/main/edit/docks/inspector/styleForms/zIndex.vue",t.default=s.exports},function(e,t,n){"use strict";n.r(t);var r=n(1014),i=n(604);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,null,null);s.options.__file="src/main/edit/docks/inspector/configForms/disabled.vue",t.default=s.exports},function(e,t,n){"use strict";n.r(t);var r=n(1015),i=n(606);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,null,null);s.options.__file="src/main/edit/docks/inspector/configForms/enabled.vue",t.default=s.exports},function(e,t,n){"use strict";n.r(t);var r=n(1016),i=n(608);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,null,null);s.options.__file="src/main/edit/docks/inspector/configForms/fixAspectRatio.vue",t.default=s.exports},function(e,t,n){"use strict";n.r(t);var r=n(1017),i=n(610);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,null,null);s.options.__file="src/main/edit/docks/inspector/configForms/showEditOptions.vue",t.default=s.exports},function(e,t,n){"use strict";n.r(t);var r=n(961),i=n(612);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n(2215);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,"12b30d3d",null);s.options.__file="src/main/edit/docks/inspector/compMi18n.vue",t.default=s.exports},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(999),i=n(626);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n(2225);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,"76f3683b",null);s.options.__file="src/main/edit/docks/inspector/multipleStateForms/configFormItem.vue",t.default=s.exports},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(1001),i=n(632);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n(2228);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,"5fbf3d56",null);s.options.__file="src/main/edit/docks/inspector/multipleStateForms/styleFormItem.vue",t.default=s.exports},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(985),i=n(636);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n(2230);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,"263938ee",null);s.options.__file="src/main/edit/docks/inspector/multipleStateForms/optionFormItem.vue",t.default=s.exports},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultZone=void 0;var r,i=(r=n(2242))&&r.__esModule?r:{default:r};t.getDefaultZone=function(e){var t,n;return e.endsWith("_cn")&&(n=8),null!==(t=n)&&void 0!==t?t:i.default[e]}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(1008),i=n(672);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,null,null);s.options.__file="src/main/edit/docks/inspector/transitionForms/scale.vue",t.default=s.exports},function(e,t,n){"use strict";n.r(t);var r=n(1010),i=n(676);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,null,null);s.options.__file="src/main/edit/docks/inspector/transitionForms/slidefade.vue",t.default=s.exports},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(1011),i=n(684);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,null,null);s.options.__file="src/main/edit/docks/inspector/animationForms/opacity.vue",t.default=s.exports},function(e,t,n){"use strict";n.r(t);var r=n(1012),i=n(686);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,null,null);s.options.__file="src/main/edit/docks/inspector/animationForms/rotate.vue",t.default=s.exports},function(e,t,n){"use strict";n.r(t);var r=n(1013),i=n(688);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,null,null);s.options.__file="src/main/edit/docks/inspector/animationForms/slidey.vue",t.default=s.exports},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(943),i=n(690);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,null,null);s.options.__file="src/components/codeMode.vue",t.default=s.exports},,,,,,function(e,t,n){},,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(970),i=n(702);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n(2456);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,"66578550",null);s.options.__file="src/main/edit/docks/mediaList/media.vue",t.default=s.exports},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=v(n(68)),i=v(n(62)),o=v(n(351)),a=n(270),s=n(173),u=v(n(377)),l=v(n(2064)),c=v(n(2325)),d=v(n(2326)),f=v(n(2327)),p=v(n(2491));function v(e){return e&&e.__esModule?e:{default:e}}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(2492),window.PUZZLE_ADMIN_ENVIRONMENT=s.environment;var b=i.default.getOpArea();window.PUZZLE_ADMIN_IS_SEA="cn"!==b&&"all"!==b,(0,p.default)(r.default),(0,f.default)(r.default),(0,d.default)(r.default),(0,o.default)(r.default).then((function(e){var t=new r.default(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({el:"#root",components:{app:c.default},template:"<app />",store:u.default,router:l.default},e));a.memoryCache.set("vueItem",t)}))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.beforeRequest=function(e){},t.dealConfigsBeforeRequest=function(e){return e},t.requestComplete=function(e){"request"===e||e&&200===e.status&&e&&200===e.status&&-100===e.data.retcode&&this.$loginModal({refresh:"post"!==e.config.method})},console.log("requestComplete")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={baseURL:n(173).apiBase,withCredentials:!0};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.apiBase=void 0,Object.defineProperty(t,"baseAppKey",{enumerable:!0,get:function(){return r.baseAppKey}}),t.puzzleCDNBaseURL=t.merlinBase=t.environment=void 0;var r=n(1114);t.environment="test";t.apiBase="https://devapi-takumi.mihoyo.com/";t.merlinBase="https://devapi-takumi.mihoyo.com/merlin_admin/op/v1/";t.puzzleCDNBaseURL={cn:{test:"https://webstatic-test.mihoyo.com/test",pre:"https://webstatic-test.mihoyo.com/pre",prod:"https://webstatic-test.mihoyo.com/prod"},global:{test:"https://act-test.hoyoverse.com/puzzle/test",pre:"https://act-test.hoyoverse.com/puzzle/pre",prod:"https://act-test.hoyoverse.com/puzzle/prod"},ossSea:{test:"https://webstatic-sea-test.hoyoverse.com/test",pre:"https://webstatic-sea-test.hoyoverse.com/pre",prod:"https://webstatic-sea-test.hoyoverse.com/prod"}}},function(e,t,n){var r={".":351,"./":351,"./components/utils/logger":782,"./components/utils/logger.js":782,"./components/utils/loggerConfigs":783,"./components/utils/loggerConfigs.js":783,"./components/utils/numberFormat":1115,"./components/utils/numberFormat.js":1115,"./index":351,"./index.js":351,"./lib/admin":426,"./lib/admin/":426,"./lib/admin/index":426,"./lib/admin/index.js":426,"./lib/adminLogin":440,"./lib/adminLogin/":440,"./lib/adminLogin/index":440,"./lib/adminLogin/index.js":440,"./libRegister":781,"./libRegister.json":781,"./services/cacheService":270,"./services/cacheService.js":270,"./services/httpService":784,"./services/httpService.js":784,"./webpackConfigs/utilWebpackAlias":1204,"./webpackConfigs/utilWebpackAlias.js":1204};function i(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=o,e.exports=i,i.id=1678},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=m(n(1924)),o=n(846),a=n(303),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}i.default=e,n&&n.set(e,i);return i}(n(92)),u=n(461),l=m(n(143)),c=n(1223),d=n(143),f=n(2038),p=m(n(1228));function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function m(e){return e&&e.__esModule?e:{default:e}}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y={bizMap:function(e){var t=e.bizList,n={};return t.forEach((function(e){n[e.biz_type]=e.name})),n},hasCnBiz:function(e){return e.baseInfo.bizList.find((function(e){return e.endsWith("_cn")}))},hasSeaBiz:function(e){return e.baseInfo.bizList.find((function(e){return!e.endsWith("_cn")}))},viewport:function(e){var t,n,r,i,o=e.platform,a=e.platMsg,s=e.customCanvas,u=e.previewExtraParams,c=l.default.pageModeMap.find((function(e){var t;return e.fullScreen===(null===(t=a.body)||void 0===t?void 0:t.fullScreen)}))||l.default.pageModeMap[0],d={h5:{width:750,height:1334},pc:{width:1920,height:1080}},f="h5"===o&&!u.some((function(e){return"is_mobile"===e.key&&""===e.val}))?2:1;return{width:((null==s?void 0:s.width)||(null===(t=a.body)||void 0===t?void 0:t.width)||(null===(n=c["".concat(o,"InitState")])||void 0===n?void 0:n.width)||d[o].width)/f,height:((null==s?void 0:s.height)||(null===(r=a.body)||void 0===r?void 0:r.height)||(null===(i=c["".concat(o,"InitState")])||void 0===i?void 0:i.height)||d[o].height)/f}},viewPortRem:function(e,t){var n=e.platform,r=t.viewport,i="h5"===n?2:1;return{height:r.height*i/100,width:r.width*i/100}},isFullScreen:function(e){var t=e.platMsg;return Boolean(t.body.fullScreen)},normalNodes:function(e){return e.nodes.filter((function(e){return"dialog"!==e.nodeCategory}))},fullpageNodes:function(e){return e.nodes.filter((function(e){return"fullpageContainer"===e.nodeCategory}))},dialogNodes:function(e){return e.nodes.filter((function(e){return"dialog"===e.nodeCategory}))},isPageCompType:function(e){var t=e.platMsg,n=e.dev,r=null!=n?n:{},i=r.enabled,o=r.devCompType;return!0===i?"page"===o:"comppage"===t.mode},pageCompNode:function(e,t){var n=e.nodes;return t.isPageCompType?n[0]:void 0},pageComp:function(e,t){var n=e.compList,r=t.pageCompNode;return n[null==r?void 0:r.name]},dfsNodes:function(e){var t=e.nodes,n=[];return s.dfsNodes(t,(function(e){n.push(e)})),n},dfsDialogNodes:function(e,t){var n=t.dialogNodes,r=[];return s.dfsNodes(n,(function(e){r.push(e)})),r},mapNodes:function(e){var t=e.nodes,n={};return s.dfsNodes(t,(function(e){n[e.id]=e})),n},mapProNodes:function(e){var t=e.nodes,n=e.nodesEditOptions,r=e.compList,i=0,o={};return function e(a,s,l,c){var f=a?a.children:t;f&&f.forEach((function(t,p){var v,m,h=t.id,g=(null===(v=r[t.name])||void 0===v||null===(m=v.main)||void 0===m?void 0:m.declarations)||{},y=b(b(b({},g.editOptions||{}),t.editOptions),n[h]||{}),_=b(b({},y),d.EXTRA_EDIT_OPTIONS_MAP[t.nodeCategory||""]||{});o[h]={id:h,currentNode:t,indexInPage:i,index:p,brotherList:f,parentProNode:s,baseEditOptions:(0,u.formateEditOptions)(y),editOptions:(0,u.formateEditOptions)(_),parentNode:a,rootNode:l||t,canNestable:g.nestable,declarations:g},i+=1,o[h].rootProNode=c||o,e(t,o[h],o[h].rootNode,o[h].rootProNode)}))}(),o},activeNodePro:function(e,t){var n=e.activeNodeId;return t.mapProNodes[n]},activeNodeProInPage:function(e){return e.nodesProInPage[e.activeNodeId]},activeState:function(e,t){var n,r=e.activeNodeStateKey,i=t.activeNode;if(r&&null!=i&&null!==(n=i.otherOptions.stateList)&&void 0!==n&&n.length)return i.otherOptions.stateList.find((function(e){return e.stateKey===r}))||void 0},allComps:function(e){var t=e.compList;return Object.keys(t).map((function(e){return t[e]}))},compListArray:function(e,t){var n=e.platform;return t.allComps.filter((function(e){return e["is_".concat(n)]}))},otherType:function(e){return"pc"===e.platform?"h5":"pc"},curBiz:function(e){return e.baseInfo.game_biz.replace(/_.*/g,"")},activeScreenNode:function(e,t){var n=e.activeScreenNodeId,r=t.mapNodes;return n.map((function(e){var t=r[e];return t?{node:t,type:t.editOptions.allowNewScreen}:void 0})).filter((function(e){return e}))},activeNode:function(e,t){var n=e.activeNodeId;return t.mapNodes[n]},activeNodeState:function(e,t){var n,r,i=e.activeNodeStateKey,o=t.activeNode;return!i||o?{}:null===(n=o.otherOptions)||void 0===n||null===(r=n.stateList)||void 0===r?void 0:r.find((function(e){return e.stateKey===i}))},activeNodeMi18nStateBoxStyle:function(e,t){var n=t.activeNode,r=t.mi18nStateKey,i={};return r&&n?(Object.keys(n.boxStyle).forEach((function(e){if(e.startsWith(r)){var t=e.replace(r,"");i[t]=n.boxStyle[e]}})),i):i},activeNodeMi18nStateConfig:function(e,t){var n=t.activeNode,r=t.mi18nStateKey,i={};return r&&n?(Object.keys(n).forEach((function(e){if(e.startsWith(r)){var t=e.replace(r,"");i[t]=n[e]}})),i):i},activeNodeMi18nStateOptions:function(e,t){var n=t.activeNode,r=t.mi18nStateKey,i={};return r&&n?(Object.keys(n.options).forEach((function(e){if(e.startsWith(r)){var t=e.replace(r,"");i[t]=n.options[e]}})),i):i},activeNodeOtherStateBoxStyle:function(e,t){var n=e.activeNodeStateKey,r=t.activeNode,i=t.activeNodeMi18nStateBoxStyle,o=t.mi18nStateKey,a={};if(!n||!r)return a;var s=o?b(b({},r.boxStyle),i):r.boxStyle;return Object.keys(s).forEach((function(e){if(e.startsWith(n)){var t=e.replace(n,"");a[t]=s[e]}})),a},activeNodeOtherStateOptions:function(e,t){var n=e.activeNodeStateKey,r=t.activeNode,i=t.mi18nStateKey,o=t.activeNodeMi18nStateOptions,a={};if(!n||!r)return a;var s=i?b(b({},r.options),o):r.options;return Object.keys(s).forEach((function(e){if(e.startsWith(n)){var t=e.replace(n,"");a[t]=s[e]}})),a},activeNodeOtherStateConfig:function(e,t){var n=e.activeNodeStateKey,r={};if(!n||!t.activeNode)return r;var i=t.mi18nStateKey?b(b({},t.activeNode),t.activeNodeMi18nStateConfig):t.activeNode;return Object.keys(i).forEach((function(e){if(e.startsWith(n)){var t=e.replace(n,"");r[t]=i[e]}})),r},activeCompMain:function(e,t){var n,r=e.compList,i=t.activeNode;return i?null===(n=r[i.name])||void 0===n?void 0:n.main:null},transformedCanvasToBrowser:function(e){var t=e.canvasTransformData;return{x:t.x+t.offsetLeft,y:t.y+t.offsetTop}},screenMessageList:function(e){var t=e.screenList,n=e.canvasTransformData,r={};return t.forEach((function(e){r[e.id]={x:n.x+n.offsetLeft,y:n.y+n.offsetTop}})),r},pageConfig:function(e){var t=e.prePageConfig,n=e.baseInfo,r=e.platform,i=e.platMsg,o=e.nodes;return b(b({},t),{},g({baseInfo:n},r,b(b({},i),{},{nodes:o})))},platResources:function(e,t){var n=e.baseInfo,r=e.platMsg,i=t.dfsNodes,o={},a=[{name:"海外分享图",id:n.publish_key+0,src:n.seaHead.shareImage,noPreload:!0},{name:"国内分享图",id:n.publish_key+1,src:n.share.img,noPreload:!0},{name:"页面背景图",id:n.publish_key+2,src:r.body.backgroundImage}],s=r.body.backgroundListConfig;null==s||s.forEach((function(e,t){e.backgroundImage&&a.push({name:"多背景图".concat(t),id:"".concat(n.publish_key,"+").concat(3),src:e.backgroundImage})}));var u=r.preloadNum,l=function(e){var t=e.id,n=e.name,i=e.src,a=e.type,s=e.isPuzzleRes,l=e.noPreload,c=e.extension;if(i){var d,f;if(!o[i])return!l&&"image"===a&&u>0&&(u-=1,f=!0),void(o[i]={compList:[{id:t,name:n}],type:a,isPuzzleRes:s,noPreload:l,extension:c,autoPreload:f,src:i,preload:null===(d=r.resources[i])||void 0===d?void 0:d.preload});o[i].compList.find((function(e){return e.id===t}))||o[i].compList.push({id:t,name:n})}};return a.forEach((function(e){var t=(0,c.getResMsgByUrl)(e.src);t&&t.forEach((function(t){l(b(b({},e),{},{src:t.url,type:"image",extension:t.extension,isPuzzleRes:t.isPuzzleRes}))}))})),i.forEach((function(e){JSON.stringify(e.options,(function(t,n){if("string"!=typeof n)return n;var r=(0,c.getResMsgByUrl)(n);return r?(r.forEach((function(t){l({name:e.alias,id:e.id,type:t.type,src:t.url,extension:t.extension,noPreload:["video","audio"].includes(t.type),isPuzzleRes:t.isPuzzleRes})})),n):n}))})),o},merlinList:function(e,t){var n=t.dfsNodes,r={};return n.forEach((function(e){e.beData&&(r[e.name]=e.beData)})),r},maxZIndexNode:function(e,t){var n,r,i=t.dfsNodes,o=0;return i.forEach((function(e){if("dialog"!==e.nodeCategory){var t=Number(e.boxStyle.zIndex)||0;(!r||t>=o)&&(r=e,o=Number(e.boxStyle.zIndex)||0)}})),{id:null===(n=r)||void 0===n?void 0:n.id,zIndex:o}},hasMi18n:function(e){var t;return null===(t=e.baseInfo.mi18n)||void 0===t?void 0:t.key},fmtMi18nData:function(e,t){var n=e.mi18nData,r=(e.platform,e.baseInfo.publish_key,t.isPageCompType),i={h5:{},pc:{},baseInfo:{}};return r||Object.keys(n||{}).forEach((function(e){var t=n[e],r=e.match(/^(h5|pc)-(pz-[A-Za-z0-9_-]{10})-(options)-(.*?)(-pzarray-(\d)+)?$/);if(r){var o=r[1],a=r[2],s=r[3],u=r[4],l=Boolean(r[5]),c=Number(r[6]);i[o][a]||(i[o][a]={options:{},events:{}}),function(e){var t=e.namespaceOptions,n=e.realKey,r=e.isArray,i=e.value,o=e.index;r&&(t[n]||(t[n]=[]),t[n][o]=i),t[n]=i}({namespaceOptions:i[o][a][s],realKey:u,isArray:l,value:t,index:c})}else i.baseInfo[e]=t})),i},mi18nStateKey:function(e){var t=e.lang,n=e.gameBiz;return t?"pzmi18n".concat(n).concat(t,"-"):""},declarations:function(){return i.default},allMi18nMsgList:function(e,t){var n,r=t.pageComp,i=t.pageCompNode,o=t.isPageCompType,s=t.pageConfig,u=[{mi18nKEY:"baseinfo-title",type:"text",module:(0,f.getMi18nModuleName)("通用信息",a.MI18N_RES_TYPE.TEXT),desc:"页面标题"}];if(null!=r&&null!==(n=r.main)&&void 0!==n&&n.initMi18n)r.main.initMi18n(i).forEach((function(e){var t,n=e.type,r=e.label,o=e.mi18nKEY,a=e.desc,s=e.index;t={optionMsg:{key:o,val:a,item:{type:n,optionLabel:r}},index:s,node:i,module:"puzzle"},u.push((0,f.fmtMi18nOptionsMsg)(t))}));else if(o){var l;u=u.concat((0,f.collectNodesMi18nKeys)(null===(l=s.h5)||void 0===l?void 0:l.nodes,"puzzle"))}else{["pc","h5"].forEach((function(e){var t;u=u.concat((0,f.collectNodesMi18nKeys)(null===(t=s[e])||void 0===t?void 0:t.nodes,e))}))}return u},mi18nCreateMsgList:function(e,t){var n=e.baseInfo,r=t.allMi18nMsgList,i=[];return(0,o.compareBuildver)(a.COMPARE_SYMBOL.GE,"2.10.45")&&Object.keys(n.customMi18nKey).forEach((function(e){var t=n.customMi18nKey[e],r=t.type,o=t.desc;i.push({mi18nKEY:e,type:r,desc:o,module:(0,f.getMi18nModuleName)("通用信息",r)})})),r.filter((function(e){return!e.customKey})).forEach((function(e){i.push((0,f.getMi18nCreateMsg)(e))})),i},canLinkList:function(e,t){var n=e.compList,r=e.baseInfo,i=t.dfsNodes,o=t.activeNode,a=t.isFullScreen,s={};i.forEach((function(e){var t,r=null===(t=n[e.name].main.declarations)||void 0===t?void 0:t.linkStateMsg;if(r&&e.id!==o.id){var i,a,u,l,c=null===(i=n[e.name])||void 0===i||null===(a=i.main)||void 0===a||null===(u=a.declarations)||void 0===u||null===(l=u.event)||void 0===l?void 0:l.fastSync,d=c?{name:c.name}:void 0;s[e.id]={node:e,linkStateMsg:r,fastSync:d}}}));var u=r.publish_key,l={node:{id:u,alias:"全局"},fastSync:!0,linkStateMsg:{qs:{type:"string",stringType:"any",label:"链接参数",canUseOption:!0,noLink:!0,customPropName:!0}}};return s[u]=l,l.linkStateMsg=b(b({},l.linkStateMsg),{},a?{index:{type:"number",label:"页",rule:{min:1}}}:{scrollStart:{type:"number",label:"滚动起始值",rule:{min:0},linkType:p.default.SCROLL_START},scrollEnd:{type:"number",label:"滚动终止值",rule:{min:0},linkType:p.default.SCROLL_END}}),s},globalStateList:function(e,t){var n=t.canLinkList,r={};return Object.keys(n).forEach((function(e){var t=n[e];Object.values(t.linkStateMsg).some((function(e){return!0===e.canUseOption}))&&(r[e]=t)})),r},activeFormData:function(e,t){var n=t.activeNode,r=t.activeNodePro,i=t.maxZIndexNode;if(!n)return{};var o=r.editOptions;return{activeNodePro:b(b({},r),{},{editOptions:o}),activeNode:n,maxZIndexNode:i}}};t.default=y},,function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return S.apply(this,arguments)};var i=b(n(68)),o=b(n(1926)),a=b(n(2506)),s=b(n(1927));n(2026);var u=b(n(2027)),l=b(n(2028)),c=b(n(2029)),d=b(n(460)),f=h(n(1217)),p=h(n(1218)),v=b(n(337));function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function h(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}function b(e){return e&&e.__esModule?e:{default:e}}function g(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function y(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){g(o,r,i,a,s,"next",e)}function s(e){g(o,r,i,a,s,"throw",e)}a(void 0)}))}}var _={},O=function(e){var t=document.createElement("link");t.href=e,t.type="text/css",t.rel="stylesheet",document.head.appendChild(t)},w=function(){var e=y(regeneratorRuntime.mark((function e(t){var n,r,m,h,b,g;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.compName,r=t.cdnUrl,m=t.declarations,e.next=3,fetch(r);case 3:return h=e.sent,b={Vue:i.default,$:o.default,Swiper:a.default,pzWrapper:s.default,pzWrapperMixin:u.default,commonDeclarations:m,mhyFormGenerator:c.default,pzWrapperPlugins:l.default,ElementUI:v.default,puzzleUpload:d.default,puzzleUtils:f,puzzleCore:p},e.next=7,h.text();case 7:return g=e.sent,new Function("self","".concat(g))(b),e.abrupt("return",b[n]);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function S(){return(S=y(regeneratorRuntime.mark((function e(t){var n,r,i,o,a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.compName,r=t.cdnUrl,i=t.cssUrl,o=t.declarations,a=t.disableCache,s=void 0!==a&&a,!_[r]||s){e.next=3;break}return e.abrupt("return",_[r]);case 3:return O(i),_[r]=w({compName:n,cdnUrl:r,declarations:o}),e.abrupt("return",_[r]);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.dstOption,o=void 0===i?"id":i;if(!t||0===t.length)return null;var a=null;return t.every((function(t){if(t[o]===n)return a=t,!1;if(t.children&&t.children.length>0){var r=e(t.children,n,{dstOption:o});if(r)return a=r,!1}return!0})),a}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=u,t.getDefNodes=t.getCopyNodeConifg=void 0,t.traverseNodesWithFilter=function e(t,n){return t.map((function(t){return t.children&&t.children.length>0&&(t.children=e(t.children,n)),n(t)})).filter((function(e){return e}))};var r,i=(r=n(1219))&&r.__esModule?r:{default:r};function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){return e.map((function(e){return e.children&&e.children.length>0&&(e.children=u(e.children,t)),t(e)}))}t.getDefNodes=function e(t,n){var r;return null==t||null===(r=t.map)||void 0===r?void 0:r.call(t,(function(t){var r=n(a({},t));return r.children&&r.children.length>0&&(r.children=e(r.children,n)),r}))};t.getCopyNodeConifg=function(e){var t={},n=u([JSON.parse(JSON.stringify(e))],(function(e){var n=e.id,r=(0,i.default)(e),o=r.id;t[n]=o;var s=(r.fmtConfig||1)+1,u=e.alias.match(/(.*?)(\d+)$/),l=u?"".concat(u[1]).concat((Number(u[2])||1)+1):"".concat(e.alias,"2");return a(a({},r),{},{copyIndex:s,alias:l})}))[0];return n=JSON.parse(JSON.stringify(n,(function(e,n){return"string"==typeof n&&t[n]?t[n]:n})))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e).format("YYYY-MM-DD hh:mm:ss")};var r,i=(r=n(1221))&&r.__esModule?r:{default:r}},function(e,t,n){var r={"./zh-cn":1222,"./zh-cn.js":1222};function i(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=o,e.exports=i,i.id=2034},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=document.documentElement;i=e/t*100,n.style.fontSize="".concat(i,"px"),console.log("setRemUnit: ",e,t,i);var r=parseFloat(window.getComputedStyle(n).fontSize);i*=i/r,n.style.fontSize="".concat(i,"px")},t.dpx2rem=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null==e)return t?0:"";var n=e/100;return t?n:"".concat(n.toFixed(o.default.remPrecise),"rem")},t.px2rem=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null==e)return t?0:"";var n=e/i;return t?n:"".concat(n.toFixed(o.default.remPrecise),"rem")},t.rem2px=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(null==e)return t?0:"";var n=e*i;return t?n:"".concat(n,"px")};var r,i,o=(r=n(127))&&r.__esModule?r:{default:r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.game_biz,n=void 0===t?"":t,r=e.event_key,i="cn"===n.split("_").pop(),o=n.split("_").shift(),a="https://webstatic{env}.mihoyo.com/".concat(o,"/event/puzzle/").concat(r,"/index.html");return{test:a.replace("{env}",i?"-test":"-sea-test"),pre:a.replace("{env}",i?"":"-sea").replace("/event/","/prevent/"),prd:a.replace("{env}",i?"":"-sea")}}},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}Object.defineProperty(t,"__esModule",{value:!0}),t.setBridge=t.sendDataToIframe=t.deleteBridge=void 0;var s={};t.sendDataToIframe=function(e){var t,n=e.bridgeName,r=e.iframe,i=e.data,o=e.actionName,a=e.actionId;null===(t=r.contentWindow)||void 0===t||t.postMessage({data:i,bridgeName:n,actionName:o,actionId:a},"*")};window.addEventListener("message",function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n,r,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.data,r=s[null==n?void 0:n.bridgeName]){e.next=4;break}return e.abrupt("return");case 4:if(i=r[n.actionName]){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,i(n.options);case 9:if(e.t0=e.sent,e.t0){e.next=12;break}e.t0={};case 12:if((o=e.t0).iframe){e.next=15;break}return e.abrupt("return");case 15:a=o.iframe,u={actionId:n.actionId,bridgeName:n.bridgeName,data:o.data},l=void 0,null===(l=a.contentWindow)||void 0===l||l.postMessage(u,"*");case 16:case"end":return e.stop()}var a,u,l}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function s(e){a(o,r,i,s,u,"next",e)}function u(e){a(o,r,i,s,u,"throw",e)}s(void 0)}))});return function(e){return t.apply(this,arguments)}}());t.setBridge=function(e,t){s[e]?s[e]=i(i({},s[e]),t):s[e]=t};t.deleteBridge=function(e){delete s[e]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMi18nModuleName=t.getMi18nKey=t.getMi18nDefaultDesc=t.getMi18nCreateMsg=t.getMi18Def=t.fmtMi18nOptionsMsg=t.collectNodesMi18nKeys=void 0;var r=d(n(1224)),i=d(n(377)),o=n(303),a=n(225),s=n(846),u=d(n(1220)),l=n(1227),c=n(336);function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=function(e){var t=e.platform,n=e.namespace,r=void 0===n?"":n,i=e.nodeId,u=e.keyName,l=void 0===u?"":u,c=e.arrayIndex;t="".concat(t?"".concat(t,"-"):""),i="".concat(i?"".concat(i,"-"):""),r="".concat(r?"".concat(r,"-"):"");var d="".concat(t).concat(i).concat(r),f=(0,a.isNumber)(c),p=(0,s.compareBuildver)(o.COMPARE_SYMBOL.LT,"2.10.45")?"":"pz";return"".concat(d).concat(l).concat(f?"-".concat(p,"array-").concat(c):"")};t.getMi18nKey=m;var h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return"".concat(t?"":"".concat(t,"-")).concat(e)};t.getMi18nDefaultDesc=h;var b=function(e,t){var n;return"".concat(e,"|").concat((null===(n=c.MI18N_RES_TYPES.find((function(e){return e.value===t})))||void 0===n?void 0:n.label)||o.MI18N_RES_TYPE.TEXT)};t.getMi18nModuleName=b;var g=function(e){var t,n=e.optionMsg,r=e.index,a=e.node,u=e.module,l=n.key,c=n.val,d=n.desc,f=n.item,p=i.default.getters.isPageCompType,v=h(f.optionLabel,p?"":a.alias);[o.MI18N_RES_TYPE.AUDIO,o.MI18N_RES_TYPE.VIDEO].includes(f.type)&&(t='<a href="'.concat(c,'" target="_blank">').concat(v,"</a>")),[o.MI18N_RES_TYPE.IMAGE].includes(f.type)&&(t=c||v),[o.MI18N_RES_TYPE.TEXT].includes(f.type)&&(t=c||v),t=d||t;var g=n.customKey;return(0,s.compareBuildver)(o.COMPARE_SYMBOL.LT,"2.10.45")&&(g=""),{mi18nKEY:g||m(p?{keyName:l,arrayIndex:r}:{keyName:l,arrayIndex:r,nodeId:a.id,platform:u,namespace:"options"}),type:f.type,module:b(u,f.type),desc:t,value:c,customKey:g,node:a}};t.fmtMi18nOptionsMsg=g;var y=function(e){var t,n,r=i.default.getters.allComps.find((function(t){return t.name===e}));return(null==r||null===(t=r.main)||void 0===t||null===(n=t.declarations)||void 0===n?void 0:n.mi18n)||[]};t.getMi18Def=y;t.getMi18nCreateMsg=function(e){return(0,r.default)(e,["mi18nKEY","type","module","desc"])};t.collectNodesMi18nKeys=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=[],r=function(e){n.push(g(e))};return(0,u.default)(e,(function(e){var i,a;if(!e.otherOptions.mi18nFrom){var u=y(e.name),c=[];null===(i=u.forEach)||void 0===i||i.call(u,(function(t){Object.keys(e.options).forEach((function(n){var r,i=e.options[n],o=(0,l.getOtherStateKeyMsg)(n),a=(null==o?void 0:o.originKey)||n;if(a===t.optionName){var s=(null===(r=e.otherOptions.mi18n)||void 0===r?void 0:r[a])||{};s.enabled&&c.push({key:n,item:t,val:i||"",desc:s.desc,customKey:s.customKey})}}))})),Object.keys(e.otherOptions.mi18n||{}).forEach((function(t){var n=e.otherOptions.mi18n[t];n.enabled&&c.push({key:t,val:"",item:u.find((function(e){return e.optionName===t})),desc:n.desc,customKey:n.customKey})})),c.forEach((function(n){var i=n.item;if(i.type.endsWith("[]")){var o,a,s=i.type.slice(0,-2);null===(o=n.val)||void 0===o||null===(a=o.forEach)||void 0===a||a.call(o,(function(o,a){r({optionMsg:p(p({},n),{},{val:String(o)||"",item:p(p({},i),{},{type:s})}),index:a,node:e,module:t})}))}else r({optionMsg:n,node:e,module:t})})),null===(a=e.events)||void 0===a||a.forEach((function(r,i){if(r.data&&r.mi18n){var a="".concat(i,"-").concat(r.listener);(0,s.compareBuildver)(o.COMPARE_SYMBOL.GE,"2.10.45")&&(a="".concat(i)),n.push({mi18nKEY:m({platform:t,nodeId:e.id,namespace:"event",keyName:a}),type:o.MI18N_RES_TYPE.TEXT,module:b(t,o.MI18N_RES_TYPE.TEXT),desc:h(r.data,e.alias),value:r.data})}}))}})),n}},,,,,,,,,function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,o=(i=n(68))&&i.__esModule?i:{default:i},a=n(460),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}i.default=e,n&&n.set(e,i);return i}(n(92)),u=n(1205);function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function c(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m={updateNodesEditOptionsTemporary:function(e,t){var n=t.id,r=t.options,i=t.type;if("remove"===(void 0===i?"update":i))return e.nodesEditOptions[n]=void 0,void delete e.nodesEditOptions[n];e.nodesEditOptions[n]?e.nodesEditOptions[n]=p(p({},e.nodesEditOptions[n]),r):o.default.set(e.nodesEditOptions,n,r)},updateNodesEditOptions:function(e,t){var n=t.node,r=t.options,i=p(p({},n.editOptions),r);Object.keys(i).forEach((function(e){var t;o.default.set(n.editOptions,e,null!==(t=i[e])&&void 0!==t?t:void 0)}))},updateNodeBoxStyle:function(e,t){var n=t.node,r=t.options;if(t.reset)o.default.set(n,"boxStyle",r);else{var i=p(p({},n.boxStyle),r);Object.keys(i).forEach((function(e){var t=i[e];n.boxStyle[e]!==t&&o.default.set(n.boxStyle,e,t||void 0)}))}},updateNodeOptions:function(e,t){var n=t.node,r=t.options;if(t.reset)o.default.set(n,"options",r);else{var i=p(p({},n.options),r);Object.keys(i).forEach((function(e){var t;o.default.set(n.options,e,null!==(t=i[e])&&void 0!==t?t:void 0)}))}},updateNodeEvents:function(e,t){var n=t.node,r=t.index,i=t.options;!t.del||i?n.events[r]?Object.keys(i).forEach((function(e){o.default.set(n.events[r],e,i[e])})):o.default.set(n.events,r,i):n.events.splice(r,1)},updateNodeMi18n:function(e,t){var n=t.node,r=t.name,i=t.options;n.otherOptions.mi18n[r]?Object.keys(i).forEach((function(e){o.default.set(n.otherOptions.mi18n[r],e,i[e])})):o.default.set(n.otherOptions.mi18n,r,p({},i))},updateNodeCustomState:function(e,t){var n=t.node,r=t.name,i=t.options;n.otherOptions.customState[r]?Object.keys(i).forEach((function(e){o.default.set(n.otherOptions.customState[r],e,i[e])})):o.default.set(n.otherOptions.customState,r,p({},i))},updateNodeOtherOptions:function(e,t){var n=t.node,r=t.options,i=p(p({},n.otherOptions),r);Object.keys(i).forEach((function(e){var t;o.default.set(n.otherOptions,e,null!==(t=i[e])&&void 0!==t?t:void 0)}))},updateNodeConfig:function(e,t){var n=t.node,r=t.options,i=t.del,a=t.keys;i?(void 0===a?[]:a).forEach((function(e){o.default.set(n,e,void 0),delete n[e]})):Object.keys(r).forEach((function(e){o.default.set(n,e,r[e])}))},replaceNode:function(e,t){var n=t.newNode,r=t.parentList,i=t.index;o.default.set(r,i,n)},updateNode:function(e,t){var n=t.newConfig;e.nodes=s.traverseNodes(e.nodes,(function(e){return e.id===n.id?p(p({},e),n):e}))},addChildNode:function(e,t){var n=t.parentNode,r=t.config,i=t.index,a=void 0===i?0:i;!n||n.children?((null==n?void 0:n.children)||e.nodes).splice(a,0,r):o.default.set(n,"children",[r])},updatePlatform:function(e,t){e.platform=t},updateCompList:function(e,t){e.compList=p(p({},t),e.compList)},updateComp:function(e,t){var n=t.compName,r=t.version,i=t.main;e.compList[n]?(e.compList[n].main=i,e.compList[n].version=r):o.default.set(e.compList,n,{main:i,version:r})},updateNodes:function(e,t){var n=t.newNodes,r=void 0===n?[]:n;r=JSON.parse(JSON.stringify(r));var i=s.traverseNodes(r,(function(e){return s.fmtConfig(e,!1)}));e.nodes=i},updateBaseInfo:function(e,t){e.baseInfo=(0,u.resetBaseInfo)(t),(0,a.setGlobalCompress)(e.baseInfo.uploadCompress)},initPlatMsg:function(e,t){var n=t.platform,r=t.pageMode,i=t.platMsg,o=t.flexibleOptions;e.platMsg=(0,u.resetPlatMsg)(n,r,i,o)},updatePlatMsg:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(t).forEach((function(n){o.default.set(e.platMsg,n,t[n])}))},updatePreviewPlatList:function(e,t){e.baseInfo.previewPlatList=t},updatePreviewExtraParams:function(e,t){e.previewExtraParams=t},updateActiveNodeId:function(e,t){e.activeNodeId=t},updateActiveNodeStateKey:function(e,t){e.activeNodeStateKey=t||""},updateNodesProInPage:function(e,t){var n=e.nodesProInPage,r=t.id,i=t.message;o.default.set(n,r,i)},updateCanvasContainerEl:function(e,t){e.canvasContainerEl=t},updateMi18nAdminUrl:function(e,t){e.mi18nAdminUrl=t},updateM18nGameBiz:function(e,t){e.gameBiz=t},updateM18nLang:function(e,t){e.lang=t},updateMi18nData:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.mi18nData=t},setCanvasTranslate:function(e,t){e.canvasTransformData=p(p({},e.canvasTransformData),t)},setCanvasScale:function(e,t){e.canvasTransformData.scale=t},updateHistory:function(e,t){var n=t.nodes;e.nodes=n},setCustomBaseInfo:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(t).forEach((function(n){e.baseInfo[n]=t[n]}))},changeCustomCanvas:function(e,t){e.customCanvas=t},addScreen:function(e,t){var n=t.screenData,r=t.index;void 0!==r?e.screenList.splice(r,0,n):-1===e.screenList.findIndex((function(e){return void 0===e}))?e.screenList.splice(1,0,n):e.screenList[r]=n;e.screenList=c(e.screenList)},removeScreen:function(e,t){var n=e.screenList.findIndex((function(e){return t===e.id}));-1!==n&&e.screenList.splice(n,1)},updateScreen:function(e,t){var n=t.index,r=t.options,i=p(p({},e.screenList[n]),r);o.default.set(e.screenList,n,i)},resetCanvasClientData:function(e){var t=e.canvasContainerEl.getBoundingClientRect(),n=t.left,r=t.top,i=t.width,o=t.height;e.canvasTransformData.offsetLeft=n,e.canvasTransformData.offsetTop=r,e.canvasTransformData.clientWidth=i,e.canvasTransformData.clientHeight=o},updateCurrentActiveElStyleNum:function(e,t){e.currentActiveElStyleNum=t},updateMouseDownPosition:function(e,t){e.mouseDownPosition=t},updateDragActiveBoxStyle:function(e,t){e.dragActiveBoxStyle=t},changeModeType:function(e,t){e.modeType=t},updateBizList:function(e,t){e.bizList=t},updateNodeInNewScreen:function(e,t){var n=t.id,r=t.type,i=t.newId,o=e.activeScreenNodeId.indexOf(n);({add:function(){e.activeScreenNodeId.splice(0,0,n)},remove:function(){e.activeScreenNodeId.splice(o,1)},update:function(){e.activeScreenNodeId.splice(o,1,i)}})[r]()},updatePageConfig:function(e,t){e.prePageConfig=t},changeActivePageIdx:function(e,t){e.activePageIdx=t},updateDuringDrag:function(e,t){e.duringDrag=t},updateFuncModules:function(e,t){e.funcModules=t},updatePageModule:function(e,t){e.pageModule=t},updatePageStatus:function(e,t){e.pageStatus=t},updatePreviewZone:function(e,t){e.previewZone=t},updatePreviewTime:function(e,t){e.previewTime=t||null}};t.default=m},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=v(n(68)),o=n(337),a=v(n(143)),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}i.default=e,n&&n.set(e,i);return i}(n(92)),u=n(461),l=v(n(462)),c=v(n(850)),d=n(2059),f=["node"];function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function v(e){return e&&e.__esModule?e:{default:e}}function m(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||b(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||b(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function x(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){S(o,r,i,a,s,"next",e)}function s(e){S(o,r,i,a,s,"throw",e)}a(void 0)}))}}var P={fetchCompModule:function(e,t){return x(regeneratorRuntime.mark((function n(){var r,i,o,a,u,l,c,d,f,p,v,m,h;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.state,i=e.getters,o=e.commit,a=e.dispatch,u=t.compName,l=t.version,n.next=4,a("dev/ensureInterceptingDevCompReady",{compName:u,version:l,onReady:function(e){c=e.main}});case 4:if(!(d=r.compList[u])||!d.main||d.__dev__){n.next=7;break}return n.abrupt("return");case 7:if(l=(null==d?void 0:d.version)||l||(null==d?void 0:d.latestVer)||"latest",c){n.next=18;break}return f="latest"===l?"":"/".concat(l),p="https://webstatic-test.mihoyo.com/dora/".concat(u).concat(f),v=u,null!=d&&d.__dev__&&(p=d.__dev__.cdnBaseURL||p,v=d.__dev__.oriName||v),m="".concat(p,"/index.js"),h="".concat(p,"/index.css"),n.next=17,s.loadComp({cdnUrl:m,cssUrl:h,compName:v,declarations:i.declarations,disableCache:!(null==d||!d.__dev__)});case 17:c=n.sent;case 18:o("updateComp",{compName:u,version:l,main:O(O({},c),{},{initConfig:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=c.initConfig({plat:r.platform,screen:O({},i.viewPortRem),parent:e.parent}),n=t[r.platform]||t;if(null!=d&&d.__dev__){n.__dev__=d.__dev__;var o=d.__dev__.namePrefix;new RegExp("^".concat(o)).test(n.name)||(n.name="".concat(o).concat(n.name))}return n}})});case 19:case"end":return n.stop()}}),n)})))()},updateNodeInNewScreen:function(e,t){var n=e.state,r=e.commit,i=t.id,o=t.type,a=t.newId,s=n.activeScreenNodeId.indexOf(i);({add:function(){-1===s&&r("updateNodeInNewScreen",{id:i,type:"add",newId:a})},remove:function(){-1!==s&&r("updateNodeInNewScreen",{id:i,type:"remove",newId:a})},update:function(){-1!==s&&r("updateNodeInNewScreen",{id:i,type:o,newId:a})},toggle:function(){-1!==s?this.remove():this.add()}})[o]()},updateNearNodeInNewScreen:function(e,t){var n,r,i=e.getters,o=e.dispatch;if(t){var a=i.mapProNodes[t];if(null===(n=a.currentNode.editOptions)||void 0===n?void 0:n.allowNewScreen)o("updateNodeInNewScreen",{id:a.currentNode.id,type:"add"});else o("updateNearNodeInNewScreen",null===(r=a.parentNode)||void 0===r?void 0:r.id)}},updateNodeBoxStyle:function(e,t){var n=e.state.activeNodeStateKey,r=e.getters,i=r.activeNode,o=r.mi18nStateKey,a=e.commit,s=t.node,u=t.options,l=t.reset;if(s=s||i){if(n&&s===i&&!l){var c={};Object.keys(u).forEach((function(e){c["".concat(n).concat(e)]=u[e]})),u=c}if(o&&!l){var d={};Object.keys(u).forEach((function(e){d["".concat(o).concat(e)]=u[e]})),u=d}a("updateNodeBoxStyle",{node:s,options:u,reset:l})}},updateNodeOptions:function(e,t){var n=e.state.activeNodeStateKey,r=e.getters,i=r.activeNode,o=r.mi18nStateKey,a=e.commit,s=t.node,u=t.options,l=t.reset;if(s=s||i){if(n&&s===i&&!l){var c={};Object.keys(u).forEach((function(e){c["".concat(n).concat(e)]=u[e]})),u=c}if(o&&!l){var d={};Object.keys(u).forEach((function(e){d["".concat(o).concat(e)]=u[e]})),u=d}a("updateNodeOptions",{node:s,options:u,reset:l})}},updateNodesEditOptions:function(e,t){var n=e.getters.activeNode,r=e.commit,i=t.node,o=t.options;(i=i||n)&&r("updateNodesEditOptions",{node:i,options:o})},updateNodeEvents:function(e,t){var n=e.getters.activeNode,r=e.commit,i=e.dispatch,o=t.node,a=t.index,s=t.options,u=t.del,l=(o=o||n).events;l||(i("updateNodeConfig",{node:o,options:{events:[]}}),l=[]),void 0===a&&(a=l.length),r("updateNodeEvents",{node:o,index:a,options:s,del:u})},updateNodeMi18n:function(e,t){var n=e.getters,r=e.dispatch,i=e.commit,o=t.name,a=t.options,s=t.node;(s=s||n.activeNode).otherOptions.mi18n?i("updateNodeMi18n",{name:o,options:a,node:s}):r("updateNodeOtherOptions",{node:s,options:{mi18n:w({},o,O({},a))}})},updateNodeCustomState:function(e,t){var n=e.getters,r=e.dispatch,i=e.commit,o=t.name,a=t.options,s=t.node;(s=s||n.activeNode).otherOptions.customState?i("updateNodeCustomState",{name:o,options:a,node:s}):r("updateNodeOtherOptions",{node:s,options:{customState:w({},o,O({},a))}})},updateNodeConfig:function(e,t){var n=e.getters.activeNode,r=e.commit,i=t.node,o=y(t,f);(i=i||n)&&r("updateNodeConfig",O({node:i},o))},updateNodeModId:function(e){var t=e.getters.activeNode,n=e.dispatch,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.node;if(i=i||t){var o=Number(i.modId||0)+1;n("updateNodeConfig",{node:i,options:{modId:o}})}},updateNodeOtherOptions:function(e,t){var n=e.getters.activeNode,r=e.commit,i=t.node,o=t.options;(i=i||n)&&r("updateNodeOtherOptions",{node:i,options:o})},updateResources:function(e,t){var n=e.commit,r=e.getters;t?t=O(O({},r.platResources),t):(t={},Object.keys(r.platResources).forEach((function(e){var n=r.platResources[e];t[e]={type:n.type,preload:n.preload,autoPreload:n.autoPreload||void 0,noPuzzleRes:!n.isPuzzleRes||void 0}}))),n("updatePlatMsg",{resources:t})},updateActiveNodeId:function(e,t){var n=e.getters,r=e.commit,i=e.dispatch;if(!n.isPageCompType){r("updateActiveNodeStateKey",""),r("updateActiveNodeId",t);var o=n.mapProNodes[t];t&&(i("updateNearNodeInNewScreen",t),"fullpageContainer"===o.rootNode.nodeCategory&&r("changeActivePageIdx",n.fullpageNodes.indexOf(o.rootNode)))}},addFullScreenRootNode:function(e){return x(regeneratorRuntime.mark((function t(){var n,r,i,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.getters,r=e.commit,i=e.dispatch,t.next=3,i("addNode",{index:n.fullpageNodes.length,compName:"@puzzle/container"});case 3:o=t.sent,r("updateNodeBoxStyle",{node:o,options:{height:"100%",width:"100%"}}),r("updateNodeOptions",{node:o,options:{backgroundImage:void 0}}),r("updateNodeConfig",{node:o,options:{nodeCategory:"fullpageContainer",editOptions:{noDrag:!0,noPosition:!0,noBefore:!0,noResize:!0,showEditOptions:!1}}});case 7:case"end":return t.stop()}}),t)})))()},addPageComp:function(e,t){return x(regeneratorRuntime.mark((function n(){var r,i,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.dispatch,i=t.name,o=t.beData,n.next=4,r("addNode",{index:0,compName:i,beData:o});case 4:case"end":return n.stop()}}),n)})))()},addSwiperRootNode:function(e,t){return x(regeneratorRuntime.mark((function n(){var r,i,o,a,s;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.getters,i=e.dispatch,o=e.commit,a=r.mapNodes[t],n.next=4,i("addNode",{index:a.children.length,compName:"@puzzle/container",parentId:a.id});case 4:s=n.sent,o("updateNodeBoxStyle",{node:s,options:{position:"absolute",height:"100%",width:"100%"}}),o("updateNodeConfig",{node:s,options:{nodeCategory:"swiperContainer",editOptions:{noDrag:!0,noBefore:!0,noDelete:!0,noEditStyle:!0,showEditOptions:!1}}});case 7:case"end":return n.stop()}}),n)})))()},addCollapseRootNode:function(e,t){return x(regeneratorRuntime.mark((function n(){var r,i,o,a,s,u,l,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=e.state,i=e.getters,o=e.dispatch,a=i.mapNodes[t],s=r.compList[a.name].main.initConfig,u=s(),l=u.children[0],c=u.children[1],o("addNode",{index:a.children.length,parentId:a.id,config:l,needFmt:!0}),o("addNode",{index:a.children.length,parentId:a.id,config:c,needFmt:!0});case 8:case"end":return n.stop()}}),n)})))()},addDialogRootNode:function(e){return x(regeneratorRuntime.mark((function t(){var n,r,i,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.state,r=e.dispatch,i=e.commit,t.next=3,r("addNode",{index:n.nodes.length,compName:"@puzzle/dialog"});case 3:return o=t.sent,i("updateNodeBoxStyle",{node:o,options:{position:"fixed",height:"100%",width:"100%",zIndex:998}}),r("updateActiveNodeId",o.id),t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})))()},addNode:function(e,t){return x(regeneratorRuntime.mark((function n(){var r,i,o,a,u,l,c,d,f,p,v,m,h,b,g,y;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=e.state,i=e.getters,o=e.commit,a=e.dispatch,u=t.compName,l=t.index,c=t.parentId,d=t.config,f=t.beData,p=t.needFmt,v=i.mapNodes[c],m=d,d){n.next=13;break}return n.next=7,a("fetchCompModule",{compName:u});case 7:return g=null===(h=r.compList[u])||void 0===h||null===(b=h.main)||void 0===b?void 0:b.initConfig({parent:v}),y=[],s.dfsNodes([g],(function(e){var t;null!==(t=r.compList[e.name])&&void 0!==t&&t.main||y.push(a("fetchCompModule",{compName:e.name}))})),n.next=12,Promise.all(y);case 12:m=g;case 13:return d&&!p||(m=s.traverseNodes([m],(function(e){var t,n,i=r.compList[e.name],o=(null==i||null===(t=i.main)||void 0===t?void 0:t.declarations)||{},a=s.initializeConfig(e);return o.nestable&&!a.children&&(a.children=[]),a.version=null==i?void 0:i.version,!a.otherOptions.defaultState&&null!==(n=o.event)&&void 0!==n&&n.fastSync&&(a.otherOptions.defaultState=s.getDefaultState(o.linkStateMsg)),O(O({},a),{},{beData:f})}))[0]),o("addChildNode",{index:l,config:m,parentNode:v}),n.abrupt("return",m);case 16:case"end":return n.stop()}}),n)})))()},copyNode:function(e,t){var n,r=e.getters,i=e.dispatch,a=t.node,l=t.indexOffset,c=void 0===l?0:l;if(a){var d=r.mapProNodes[a.id],f=d.index,p=s.getCopyNodeConifg(a);return"relative"===p.boxStyle.position||d.editOptions.noPosition||["left","top","right","bottom"].forEach((function(e){var t=p.boxStyle[e];t&&(p.boxStyle[e]=(0,u.setPosition)(t))})),i("addNode",{parentId:null===(n=d.parentNode)||void 0===n?void 0:n.id,index:f+1+c,config:p}),(0,o.Message)({message:"节点粘贴成功",type:"success",duration:1e3}),p.id}},pasteNode:function(e,t){return x(regeneratorRuntime.mark((function n(){var r,i,a,u,l,c,d,f,p,v,m,h,b;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i=e.state,a=e.getters,u=e.dispatch,l=t.node){n.next=4;break}return n.abrupt("return");case 4:if(l=a.mapNodes[l.id]){n.next=7;break}return n.abrupt("return");case 7:if(c=a.mapProNodes[l.id],d=a.activeNode){n.next=12;break}return(0,o.Message)({message:"请先选中激活节点",type:"warning"}),n.abrupt("return");case 12:if(f=a.activeNodePro,d.id!==l.id){n.next=16;break}return p=u("copyNode",{node:l}),n.abrupt("return",p);case 16:if(!f.editOptions.noAppend&&f.canNestable){n.next=19;break}return(0,o.Message)({message:"当前节点不可添加内容",type:"warning"}),n.abrupt("return");case 19:if(v=(null===(r=c.parentNode)||void 0===r?void 0:r.children)||i.nodes,m=d.children,v!==m){n.next=26;break}return n.next=24,u("copyNode",{node:l});case 24:return h=n.sent,n.abrupt("return",h);case 26:return b=s.getCopyNodeConifg(l),n.next=29,u("addNode",{config:b,parentId:d.id,index:d.children.length});case 29:return(0,o.Message)({message:"节点粘贴成功",type:"success",duration:1e3}),n.abrupt("return",b.id);case 31:case"end":return n.stop()}}),n)})))()},replaceNode:function(e,t){var n,r=e.state,i=e.getters,o=e.commit,a=t.newNode,s=t.id,u=(null===(n=i.mapProNodes[s].parentNode)||void 0===n?void 0:n.children)||r.nodes,l=u.findIndex((function(e){return e.id===s}));o("replaceNode",{newNode:a,parentList:u,index:l})},updateScaleNum:function(e,t){var n,r=e.commit,i=e.getters.transformedCanvasToBrowser,o=e.state.canvasTransformData,a=t.scale,s=t.origin,u=t.publicOrigin;n=u?{x:u.x-i.x,y:u.y-i.y}:s;var l=a/o.scale;r("setCanvasTranslate",{x:o.x+n.x*(1-l),y:o.y+n.y*(1-l)}),r("setCanvasScale",a)},setScaleNumFromPublicOrigin:function(e,t){var n=e.dispatch,r=e.state.canvasTransformData;n("updateScaleNum",{scale:t,publicOrigin:{x:r.clientWidth/2+r.offsetLeft,y:r.clientHeight/2+r.offsetTop}})},handleZoomIn:function(e){var t=e.dispatch,n=.9*e.state.canvasTransformData.scale;n<.2||t("setScaleNumFromPublicOrigin",n)},handleZoomOut:function(e){(0,e.dispatch)("setScaleNumFromPublicOrigin",1.1*e.state.canvasTransformData.scale)},resetActiveEditBoxStyle:function(e){var t,n=e.commit,r=e.state,i=e.getters;if(null!==(t=i.activeNodeProInPage)&&void 0!==t&&t.activeEl){n("resetCanvasClientData");var o=r.canvasTransformData,a=o.offsetLeft,s=o.offsetTop,u=i.activeNodeProInPage.activeEl.getBoundingClientRect(),l={x:u.left-a,y:u.top-s,width:u.width,height:u.height},c=window.getComputedStyle(i.activeNodeProInPage.activeEl);["marginLeft","marginTop","marginRight","marginLeft","left","top"].forEach((function(e){l[e]=parseFloat(c[e])*r.canvasTransformData.scale})),n("updateCurrentActiveElStyleNum",l)}},getBizList:function(e){return x(regeneratorRuntime.mark((function t(){var n,r,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.state,r=e.commit,!(n.bizList.length>0)){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,l.default.getBizList();case 5:i=t.sent,r("updateBizList",i);case 7:case"end":return t.stop()}}),t)})))()},moveNodeIndex:function(e,t){var n,r,i=e.getters,o=e.state,a=e.dispatch,s=t.type,u=t.newIndex,l=t.id,c=i.mapProNodes[l],d=c.currentNode,f=(null===(n=c.parentNode)||void 0===n?void 0:n.children)||o.nodes;"first"===s?u=0:"last"===s&&(u=f.length-1),a("removeNode",{id:l}),a("addNode",{parentId:null===(r=c.parentNode)||void 0===r?void 0:r.id,config:d,index:u})},removeNode:function(e,t){var n=e.state,r=e.getters,i=e.commit,o=t.id,a=t.parentList,s=t.index;if(o){var u,l=r.mapProNodes[o];s=(a=a||(null===(u=l.parentNode)||void 0===u?void 0:u.children)||n.nodes).indexOf(l.currentNode)}if(a){var c=a.splice(s,1)[0];return i("updateNodesEditOptionsTemporary",{id:c.id,type:"remove"}),c}},checkMi18nStatus:function(e,t){return x(regeneratorRuntime.mark((function e(){var n,r,o,s,u,c,d,f,p,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.env,r=t.is_mi18n,o=t.eventId,console.log("checkMi18nStatus",n,r,o),r&&"test"!==a.default.envMap[n].value){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,i.default.prototype.$async(l.default.checkMi18nStatus({id:o,env:n}));case 6:if(s=e.sent,u=h(s,2),c=u[0],d=u[1],f=d.is_release,p=d.complete,v=d.total,!c){e.next=15;break}return e.abrupt("return");case 15:if(f){e.next=18;break}return i.default.prototype.$notify({title:"提示",message:"多语言尚未发布到".concat(a.default.envMap[n].name),type:"warning"}),e.abrupt("return",Promise.reject());case 18:if(!(p<v)){e.next=21;break}return e.next=21,i.default.prototype.$confirm("多语言尚未翻译完成(进度：".concat(p,"/").concat(v,")，确定继续发布?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"});case 21:case"end":return e.stop()}}),e)})))()},setMi18nData:function(e,t){return x(regeneratorRuntime.mark((function n(){var r,i,o,a,s,u,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=e.state.baseInfo.mi18n,i=e.commit,o=e.dispatch,a=t.gameBiz,s=t.lang,u=t.id,c={},a&&s&&null!=r&&r.key){n.next=8;break}a="",s="",n.next=11;break;case 8:return n.next=10,l.default.getMi18nData({biz_type:a,app_key:r.key,lang:s,id:u});case 10:c=n.sent;case 11:o("updateActiveNodeId",""),i("updateM18nGameBiz",a),i("updateM18nLang",s),i("updateMi18nData",c);case 15:case"end":return n.stop()}}),n)})))()},getEventFuncModuleList:function(e,t){return x(regeneratorRuntime.mark((function n(){var r,i,o,a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.commit,i=t.eventId,o={page_size:100,puzzle_id:i},n.next=5,c.default.getEventFuncModuleList(o);case 5:return a=n.sent,r("updateFuncModules",a.list),r("updateCompList",a.allComps),n.abrupt("return",a);case 9:case"end":return n.stop()}}),n)})))()},getFeFuncModuleList:function(e,t){return x(regeneratorRuntime.mark((function n(){var r,i,o,a,s;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.commit,i=t.eventId,o=t.eventType,a={page:1,page_size:500,puzzle_id:i,is_dev:"EventTypeDev"===o?1:void 0},n.next=5,c.default.getFeFuncModuleList(a);case 5:s=n.sent,r("updateCompList",s);case 7:case"end":return n.stop()}}),n)})))()},searchDepPlat:function(e){var t=e.state.compList,n=e.getters.dfsNodes;Object.keys(d.dynamicDepPlat).forEach((function(e){var r,i;null===(r=(i=d.dynamicDepPlat[e]).before)||void 0===r||r.call(i);var o,a,s,u,l=!1;(n.forEach((function(n){var r,i,o,a,s={comp:t[n.name],node:n};null===(r=(i=d.dynamicDepPlat[e]).callBack)||void 0===r||r.call(i,s),null!==(o=(a=d.dynamicDepPlat[e]).condition)&&void 0!==o&&o.call(a,s)&&(l=!0)})),l)?null===(o=(a=d.dynamicDepPlat[e]).action)||void 0===o||o.call(a):null===(s=(u=d.dynamicDepPlat[e]).reset)||void 0===s||s.call(u)}))},searchDep:function(e){var t=e.getters,n=t.pageConfig,r=t.otherType,i=e.state,o=i.platform,a=i.compList;Object.keys(d.dynamicDep).forEach((function(e){var t,i,u,l,c,f,p,v=!1;(null===(t=(i=d.dynamicDep[e]).before)||void 0===t||t.call(i),s.dfsNodes([].concat(m(n[o].nodes),m((null===(u=n[r])||void 0===u?void 0:u.nodes)||[])),(function(t){var n,r,i,o,s={comp:a[t.name],node:t};null===(n=(r=d.dynamicDep[e]).callBack)||void 0===n||n.call(r,s),null!==(i=(o=d.dynamicDep[e]).condition)&&void 0!==i&&i.call(o,s)&&(v=!0)})),v)?null===(l=(c=d.dynamicDep[e]).action)||void 0===l||l.call(c):null===(f=(p=d.dynamicDep[e]).reset)||void 0===f||f.call(p)}))}};t.default=P},,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dynamicDepPlat=t.dynamicDep=void 0;var r,i=(r=n(377))&&r.__esModule?r:{default:r},o=n(851);var a={scrollListener:{condition:function(e){var t;return null===(t=e.node.otherOptions.linkMsgList)||void 0===t?void 0:t.some((function(e){return Object.keys(e.state).some((function(e){return"scrollStart"===e||"scrollEnd"===e}))}))},action:function(){i.default.commit("updatePlatMsg",{hasScrollListener:!0})},reset:function(){i.default.commit("updatePlatMsg",{hasScrollListener:!1})}},accountRole:{condition:function(e){var t,n,r=e.node,i=e.comp;return r.name.includes("@puzzle/account-role")||(null==i||null===(t=i.main)||void 0===t||null===(n=t.declarations)||void 0===n?void 0:n.needAccountRole)},action:function(){i.default.commit("updatePlatMsg",{accountRole:!0})},reset:function(){i.default.commit("updatePlatMsg",{accountRole:!1})}}};t.dynamicDepPlat=a;var s={accountRole:{condition:function(e){var t,n,r=e.node,i=e.comp;return r.name.includes("@puzzle/account-role")||(null==i||null===(t=i.main)||void 0===t||null===(n=t.declarations)||void 0===n?void 0:n.needAccountRole)},action:function(){i.default.state.baseInfo.accountRole={uidLogin:o.uidLoginList[i.default.getters.curBiz]||!1,theme:{sea:o.accountSeaRoleThemeMap[i.default.getters.curBiz],cn:o.accountCnRoleThemeMap[i.default.getters.curBiz]}}},reset:function(){i.default.state.baseInfo.accountRole=void 0}},merlin:{before:function(){i.default.state.baseInfo.merlinList={}},callback:function(e){var t=e.node;t.beData&&(i.default.state.baseInfo.merlinList[t.name]=t.beData)}}};t.dynamicDep=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=[];t.default=r},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,o=n(2062),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}i.default=e,n&&n.set(e,i);return i}(n(2063)),s=(i=n(68))&&i.__esModule?i:{default:i},u=n(173),l=n(850),c=["name","__dev__"],d=["compName"];function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function g(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){b(o,r,i,a,s,"next",e)}function s(e){b(o,r,i,a,s,"throw",e)}a(void 0)}))}}var y={namespaced:!0,state:function(){return{websocket:null,error:null,enabled:["development","test"].includes(u.environment)&&!!a.get(o.STORAGE_KEYS.ENABLED,!1),server:a.get(o.STORAGE_KEYS.SERVER,{baseURL:"localhost:3000",protocol:"http"}),_interceptingComps:a.get(o.STORAGE_KEYS.INTERCEPTING_COMPS,{}),interceptedComps:{},lastModified:+new Date,devCompType:a.get(o.STORAGE_KEYS.DEV_COMP_TYPE,"component")}},getters:{compListArray:function(e,t,n,r){return r.compListArray.filter((function(t){return t.__dev__&&!e._interceptingComps[t.name]}))},compListArrayLoaded:function(e,t){return t.compListArray.filter((function(e){return"done"===e.__dev__.state}))},interceptingComps:function(e){return e.enabled?e._interceptingComps:{}},interceptedCompArray:function(e){return Object.values(e.interceptedComps)}},mutations:{setWebsocket:function(e,t){e.websocket=t},setServer:function(e,t){e.server=t,a.set(o.STORAGE_KEYS.SERVER,t)},setError:function(e,t){e.error=t},enable:function(e,t){e.enabled=t,a.set(o.STORAGE_KEYS.ENABLED,t)},setInterceptingComp:function(e,t){var n=t.compName,r=t.devCompName;if(r){if(n!==r){var i={compName:n,devCompName:r};s.default.set(e._interceptingComps,n,i)}}else s.default.delete(e._interceptingComps,n);a.set(o.STORAGE_KEYS.INTERCEPTING_COMPS,e._interceptingComps)},addInterceptedComps:function(e,t){var n=t.compName,r=t.version,i=t.devCompName,o="".concat(n,"@").concat(r||"latest");e.interceptedComps[o]||s.default.set(e.interceptedComps,o,{compName:n,version:r,devCompName:i,cnt:0}),e.interceptedComps[o].cnt+=1},updateLastModified:function(e,t){e.lastModified=t},setDevCompType:function(e,t){e.devCompType=t,a.set(o.STORAGE_KEYS.DEV_COMP_TYPE,t)}},actions:{connectWebsocket:function(e){var t=e.state,n=e.commit,r=e.dispatch;t.websocket&&t.websocket.close(4001,"refresh");var i=t.server,a=i.baseURL,s=i.protocol,u=new WebSocket("".concat("https"===s?"wss":"ws","://").concat(a,"/ws"));u.onmessage=function(){var e=g(regeneratorRuntime.mark((function e(t){var i,a,s,u,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.data,e.prev=1,!(a=JSON.parse(i))||"compilation.state"!==a.type){e.next=11;break}if(s=a.name,u=a.state,l="".concat(o.DEV_NAME_PREFIX).concat(s),"done"!==u){e.next=10;break}return e.next=9,r("fetchCompModule",{compName:l,version:"latest"},{root:!0});case 9:n("updateLastModified",+new Date);case 10:r("updateCompDev",{compName:l,state:u});case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),console.error(e.t0),console.warn("Invalid message from dev server: ".concat(i));case 17:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}(),n("setWebsocket",u)},refreshCompList:function(e){var t=arguments;return g(regeneratorRuntime.mark((function n(){var r,i,a,s,u,d,f,v,h,b;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.commit,i=e.dispatch,a=e.rootState,s=e.state,u=t.length>1&&void 0!==t[1]?t[1]:s.server,d=u.baseURL,f=u.protocol,r("setServer",{baseURL:d,protocol:f}),n.prev=3,n.next=6,fetch("".concat(f,"://").concat(d,"/getPackageList")).then((function(e){return e.json()}));case 6:v=n.sent,h=Object.fromEntries(v.map((function(e){return[e.module_name,(0,l.formatComp)(e)]}))),i("connectWebsocket"),b=m({},a.compList||{}),Object.values(h).forEach((function(e){var t=e.name,n=e.__dev__,r=void 0===n?{}:n,i=p(e,c),a="".concat(o.DEV_NAME_PREFIX).concat(t);b[a]=m(m({},i),{},{name:a,type:"FEModuleTypeFE",__dev__:m(m({},r),{},{oriName:t,cdnBaseURL:"".concat(f,"://").concat(d,"/packages/").concat(t),namePrefix:o.DEV_NAME_PREFIX,state:""})})})),r("updateCompList",b,{root:!0}),r("setError",null),n.next=19;break;case 15:n.prev=15,n.t0=n.catch(3),console.error(n.t0),r("setError",n.t0);case 19:case"end":return n.stop()}}),n,null,[[3,15]])})))()},updateCompDev:function(e,t){var n=e.rootState,r=t.compName,i=p(t,d),o=n.compList[r];o&&s.default.set(o,"__dev__",o.__dev__?m(m({},o.__dev__),i):m({},i))},ensureInterceptingDevCompReady:function(e,t){return g(regeneratorRuntime.mark((function n(){var r,i,o,a,s,u,l,c,d,f,p;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=e.state,i=e.rootState,o=e.dispatch,a=e.commit,s=e.getters,u=t.compName,l=t.version,c=t.onReady,!(d=s.interceptingComps[u])||!d.devCompName){n.next=21;break}if(f=d.devCompName,n.prev=5,i.compList[f]){n.next=12;break}if(r.websocket){n.next=10;break}return n.next=10,o("refreshCompList");case 10:return n.next=12,o("fetchCompModule",{compName:f,version:"latest"},{root:!0});case 12:p=i.compList[f],o("updateCompDev",m({compName:u},p.__dev__)),null==c||c(p),a("addInterceptedComps",{compName:u,version:l,devCompName:f}),n.next=21;break;case 18:n.prev=18,n.t0=n.catch(5),console.error(n.t0);case 21:case"end":return n.stop()}}),n,null,[[5,18]])})))()}}};t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.STORAGE_KEYS=t.DEV_NAME_PREFIX=void 0;t.DEV_NAME_PREFIX="dev:";t.STORAGE_KEYS={ENABLED:"DEV:enabled",DEV_COMP_TYPE:"DEV:compType",SERVER:"DEV:serverSettings",INTERCEPTING_COMPS:"DEV:interceptingComps"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.get=function(e,t){try{var n=window.localStorage.getItem(e),r=n&&JSON.parse(n);if(r)return r}catch(e){console.error(e)}return t},t.set=function(e,t){try{window.localStorage.setItem(e,JSON.stringify(t))}catch(e){console.error(e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(68)),i=a(n(2065)),o=a(n(2066));function a(e){return e&&e.__esModule?e:{default:e}}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==s(e)&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}r.default.use(i.default);var c=[{path:"/",name:"home",component:o.default,redirect:"/event-list",children:[{path:"event-list",name:"eventList",component:function(){return Promise.resolve().then((function(){return l(n(2070))}))}},{path:"event-edit/:eventId",name:"eventEdit",component:function(){return Promise.resolve().then((function(){return l(n(1247))}))}},{path:"template-edit/:templateId",name:"templateEdit",component:function(){return Promise.resolve().then((function(){return l(n(1247))}))}},{path:"page-template",name:"pageTemplate",component:function(){return Promise.resolve().then((function(){return l(n(2323))}))}}]}],d=new i.default({mode:"hash",routes:c});t.default=d},,function(e,t,n){"use strict";n.r(t);var r=n(919),i=n(470);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,null,null);s.options.__file="src/main/home/home.vue",t.default=s.exports},function(e,t,n){"use strict";n.r(t);var r=n(934),i=n(472);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n(2068);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,"6efbb362",null);s.options.__file="src/main/home/devPanel.vue",t.default=s.exports},function(e,t,n){"use strict";n(1230)},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(920),i=n(474);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n(2129);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,"517873c0",null);s.options.__file="src/main/event/index.vue",t.default=s.exports},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAllUrl=void 0;var r=n(1243);t.getAllUrl=function(e){var t=e.eventKey,n=e.publishKey,i=e.isSea,o=void 0!==i&&i,a=function(e){var i=e.env,a=e.curBiz,l=e.type;return"".concat((0,r.getPageHref)({env:i,isSea:o,curBiz:a,publishKey:n,type:l,eventKey:t})).concat("gameWebview"===l?s:u)},s="&win_mode=fullscreen",u=o?"&mhy_presentation_style=fullscreen&mhy_landscape=true&mhy_hide_status_bar=true":"&bbs_landscape=true&bbs_presentation_style=fullscreen&mhy_hide_status_bar=true";if(!o)return"\n    测试体验地址\n    ".concat(a({env:"test",curBiz:"bh3_cn",type:"normal"}),"\n    测试公告地址\n    ").concat(a({env:"test",curBiz:"bh3_cn",type:"gameWebview"}),"\n    外网预览地址\n    ").concat(a({env:"pre",curBiz:"bh3_cn",type:"normal"}),"\n    正式体验地址\n    ").concat(a({env:"prod",curBiz:"bh3_cn",type:"normal"}),"\n    正式公告地址\n      游戏内\n      ").concat(a({env:"test",curBiz:"bh3_cn",type:"gameWebview"}),"\n      游戏外\n      ").concat(a({env:"prod",curBiz:"bh3_cn",type:"normal"}),"\n    ");var l,c,d={bh3_asia:["zh-tw"],bh3_eur:["zh-cn","en-us","de-de","fr-fr"],bh3_jp:["ja-jp"],bh3_kr:["ko-kr"],bh3_os:["zh-cn","en-us","id-id","th-th","vi-vn"],bh3_usa:["zh-cn","en-us","de-de","fr-fr"]},f={bh3_asia:"繁中服（asia）",bh3_os:"东南亚服（os）",bh3_kr:"韩服（kr）",bh3_eur:"欧洲服（eur）",bh3_usa:"美服（usa）",bh3_jp:"日服（jp）"},p=function(e){var t=e.env,n=e.type,r="";return Object.keys(d).forEach((function(e){var i=d[e];r+="\n      ".concat(f[e],"\n      "),i.forEach((function(i){r+="\n        ".concat(function(e){var t=e.env,n=e.curBiz,r=e.lang,i=e.type;return"".concat(a({env:t,curBiz:n,type:i}),"&lang=").concat(r)}({env:t,curBiz:e,lang:i,type:n}),"\n        ")}))})),r},v={bh3_asia:"繁中服（asia）",bh3_os:"东南亚服（os）",bh3_kr:"韩服（kr）",bh3_global:"欧美服链接（GLB）",bh3_jp:"日服（jp）"},m=function(e){var t=e.env,n=e.type,r="";return Object.keys(v).forEach((function(e){r+="\n        ".concat(v[e],"\n        ").concat(a({env:t,curBiz:e,type:n}),"\n        ")})),r},h="\n    游戏内 - 公告 - 测试链接\n    ".concat(p({env:"test",type:"gameWebview"}),"\n    游戏内 - 活动面板 - 测试链接\n    ").concat(m({env:"test",type:"gameWebview"}),"\n    HYL - 测试链接\n    ").concat(p({env:"test",type:"normal"}),"\n    游戏内 - 正式链接\n    ").concat(m({env:"prod",type:"gameWebview"}),"\n    HYL - 正式链接\n    ").concat(p({env:"prod",type:"normal"}),"\n    宣发渠道2 - 正式链接\n    ").concat((l={env:"prod"}.env,c="",Object.keys(f).forEach((function(e){c+="\n        ".concat(f[e],"\n        ").concat(function(e){var i=e.env,a=e.curBiz;return(0,r.getPageHref)({env:i,isSea:o,curBiz:a,publishKey:n,type:"normal",eventKey:t})}({env:l,curBiz:e}),"\n        ")})),c),"\n  ");console.log(h)}},function(e,t,n){"use strict";n(1244)},function(e,t,n){"use strict";n.r(t);var r=n(936),i=n(478);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n(2128);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,null,null);s.options.__file="src/main/event/templateDialog.vue",t.default=s.exports},function(e,t,n){"use strict";n(1245)},function(e,t,n){"use strict";n(1246)},,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.HistoryRecord=void 0;var r,i=(r=n(1249))&&r.__esModule?r:{default:r};function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.maxStack,r=void 0===n?1e3:n,i=t.delay,a=void 0===i?100:i;o(this,e),s(this,"records",void 0),s(this,"current",void 0),s(this,"maxStack",void 0),s(this,"delay",void 0),this.records=[],this.current=-1,this.maxStack=r,this.delay=a}var t,n,r;return t=e,r=[{key:"diff",value:function(e,t){return e===t}}],(n=[{key:"init",value:function(e){this.records.push(e),this.current+=1}},{key:"clear",value:function(){this.records=[],this.current=-1}},{key:"push",value:function(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=r.force,a=void 0!==o&&o,s=r.immediate,u=void 0!==s&&s;if(!a){var l=e.diff(t,this.records[this.current]);if(!l)return}var c=function(){n.current!==n.records.length-1&&n.records.splice(n.current+1),n.records.push(t),n.current+=1,n.records.length>n.maxStack&&(n.records.shift(),n.current-=1)},d=(0,i.default)(c,this.delay);u?c():d()}},{key:"undo",value:function(){return this.current<1?null:(this.current-=1,this.records[this.current])}},{key:"redo",value:function(){return this.current===this.records.length-1?null:(this.current+=1,this.records[this.current])}}])&&a(t.prototype,n),r&&a(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.HistoryRecord=u;var l=new u;t.default=l},,,,,function(e,t,n){"use strict";n.r(t);var r=n(937),i=n(482);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n(2147);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,null,null);s.options.__file="src/components/diff.vue",t.default=s.exports},,,,function(e,t,n){"use strict";n(1251)},function(e,t,n){"use strict";n.r(t);var r=n(938),i=n(484);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n(2152);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,"7919f876",null);s.options.__file="src/main/edit/docks/compLibrary.vue",t.default=s.exports},function(e,t,n){"use strict";n.r(t);var r=n(947),i=n(488);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n(2150);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,null,null);s.options.__file="src/components/configModule.vue",t.default=s.exports},function(e,t,n){"use strict";n(1253)},function(e,t,n){"use strict";n(1254)},function(e,t,n){"use strict";n(1255)},function(e,t,n){"use strict";n.r(t);var r=n(940),i=n(490);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n(2154);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,"8233d312",null);s.options.__file="src/main/edit/docks/nodeTree.vue",t.default=s.exports},function(e,t,n){"use strict";n(1256)},function(e,t,n){"use strict";n.r(t);var r=n(941),i=n(492);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n(2196);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,"239c4d24",null);s.options.__file="src/main/edit/docks/preview/index.vue",t.default=s.exports},,function(e,t,n){"use strict";n.r(t);var r=n(948),i=n(494);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n(2173);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,"283fac70",null);s.options.__file="src/main/edit/docks/preview/fullpage/pageList.vue",t.default=s.exports},,,,,,,,,,,,,,,,function(e,t,n){"use strict";n(1260)},function(e,t,n){"use strict";n.r(t);var r=n(949),i=n(496);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n(2180);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,"808356aa",null);s.options.__file="src/main/edit/docks/preview/screens/mainScreen.vue",t.default=s.exports},function(e,t,n){"use strict";n(1261)},function(e,t,n){"use strict";n(1262)},function(e,t,n){"use strict";n(1264)},function(e,t,n){"use strict";n(1265)},function(e,t,n){"use strict";n(1267)},function(e,t,n){"use strict";n(1268)},function(e,t,n){"use strict";n.r(t);var r=n(951),i=n(506);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,null,null);s.options.__file="src/main/edit/docks/preview/screens/dialogScreen.vue",t.default=s.exports},function(e,t,n){"use strict";n.r(t);var r=n(952),i=n(508);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n(2183);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,"12406dac",null);s.options.__file="src/main/edit/docks/preview/screens/swiperScreen.vue",t.default=s.exports},function(e,t,n){"use strict";n(1269)},function(e,t,n){"use strict";n.r(t);var r=n(953),i=n(510);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n(2185);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,"1abd4ac2",null);s.options.__file="src/main/edit/docks/preview/screens/collapseScreen.vue",t.default=s.exports},function(e,t,n){"use strict";n(1270)},function(e,t,n){"use strict";n.r(t);var r=n(954),i=n(512);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n(2187);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,"e994db16",null);s.options.__file="src/main/edit/docks/preview/screens/customButtonScreen.vue",t.default=s.exports},function(e,t,n){"use strict";n(1271)},function(e,t,n){"use strict";n.r(t);var r=n(955),i=n(514);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n(2189);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,"748615f6",null);s.options.__file="src/main/edit/docks/preview/editBox/index.vue",t.default=s.exports},function(e,t,n){"use strict";n(1273)},function(e,t,n){"use strict";n.r(t);var r=n(956),i=n(516);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n(2191),n(2192);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,"2090c16e",null);s.options.__file="src/main/edit/docks/preview/dragBox.vue",t.default=s.exports},function(e,t,n){"use strict";n(1274)},function(e,t,n){"use strict";n(1275)},function(e,t,n){"use strict";n.r(t);var r=n(957),i=n(518);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n(2195);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,"23998f61",null);s.options.__file="src/main/edit/docks/preview/editTools/topToolsBar.vue",t.default=s.exports},function(e){e.exports=JSON.parse('[{"label":"零时区","value":0},{"label":"东一区","value":1},{"label":"东二区","value":2},{"label":"东三区","value":3},{"label":"东四区","value":4},{"label":"东五区","value":5},{"label":"东六区","value":6},{"label":"东七区","value":7},{"label":"东八区","value":8},{"label":"东九区","value":9},{"label":"东十区","value":10},{"label":"东十一区","value":11},{"label":"东十二区","value":12},{"label":"西一区","value":-1},{"label":"西二区","value":-2},{"label":"西三区","value":-3},{"label":"西四区","value":-4},{"label":"西五区","value":-5},{"label":"西六区","value":-6},{"label":"西七区","value":-7},{"label":"西八区","value":-8},{"label":"西九区","value":-9},{"label":"西十区","value":-10},{"label":"西十一区","value":-11},{"label":"西十二区","value":-12}]')},function(e,t,n){"use strict";n(1278)},function(e,t,n){"use strict";n(1279)},function(e,t,n){"use strict";n.r(t);var r=n(942),i=n(524);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n(2253);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,"1114ad5a",null);s.options.__file="src/main/edit/docks/inspector/index.vue",t.default=s.exports},function(e,t,n){"use strict";n.r(t);var r=n(959),i=n(528);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n(2199);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,"74c5acfc",null);s.options.__file="src/main/edit/docks/inspector/pageForm.vue",t.default=s.exports},function(e,t,n){"use strict";n(1281)},function(e,t,n){"use strict";n.r(t);var r=n(960),i=n(530);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n(2220),n(2221);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,"c27a13fc",null);s.options.__file="src/main/edit/docks/inspector/compForm.vue",t.default=s.exports},function(e,t,n){"use strict";n.r(t);var r=n(978),i=n(532);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n(2202);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,"37908f75",null);s.options.__file="src/main/edit/docks/inspector/mutiState.vue",t.default=s.exports},function(e,t,n){"use strict";n(1282)},function(e,t,n){"use strict";n.r(t);var r=n(979),i=n(534);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,null,null);s.options.__file="src/main/edit/docks/inspector/styleForm.vue",t.default=s.exports},function(e,t,n){var r={"./":381,"./alignTools":1284,"./alignTools.vue":1284,"./backgroundColor":1286,"./backgroundColor.vue":1286,"./backgroundImage":1287,"./backgroundImage.vue":1287,"./backgroundPosition":1288,"./backgroundPosition.vue":1288,"./backgroundRepeat":1289,"./backgroundRepeat.vue":1289,"./backgroundSize":1290,"./backgroundSize.vue":1290,"./border":1291,"./border.vue":1291,"./borderRadius":1295,"./borderRadius.vue":1295,"./bottom":1297,"./bottom.vue":1297,"./cursor":1298,"./cursor.vue":1298,"./fontSize":1299,"./fontSize.vue":1299,"./formItem":855,"./formItem.vue":855,"./formList":467,"./formList.json":467,"./height":1300,"./height.vue":1300,"./index":381,"./index.js":381,"./left":1301,"./left.vue":1301,"./marginBottom":1302,"./marginBottom.vue":1302,"./marginLeft":1303,"./marginLeft.vue":1303,"./marginRight":1304,"./marginRight.vue":1304,"./marginTop":1305,"./marginTop.vue":1305,"./maxHeight":1306,"./maxHeight.vue":1306,"./maxWidth":1307,"./maxWidth.vue":1307,"./minHeight":1308,"./minHeight.vue":1308,"./minWidth":1309,"./minWidth.vue":1309,"./opacity":1310,"./opacity.vue":1310,"./pointerEvents":1311,"./pointerEvents.vue":1311,"./position":1312,"./position.vue":1312,"./right":1313,"./right.vue":1313,"./top":1314,"./top.vue":1314,"./width":1315,"./width.vue":1315,"./zIndex":1316,"./zIndex.vue":1316};function i(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=o,e.exports=i,i.id=2204},function(e,t,n){"use strict";n(1285)},function(e,t,n){"use strict";n.r(t);var r=n(1050),i=n(554);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n(2209);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,"4e371baa",null);s.options.__file="src/main/edit/docks/inspector/styleComp/remNum.vue",t.default=s.exports},function(e,t,n){"use strict";n.r(t);var r=n(1051),i=n(556);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n(2208);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,"5855d205",null);s.options.__file="src/main/edit/docks/inspector/styleComp/inputNumber.vue",t.default=s.exports},function(e,t,n){"use strict";n(1292)},function(e,t,n){"use strict";n(1293)},function(e,t,n){"use strict";n(1294)},function(e,t,n){"use strict";n(1296)},function(e,t,n){var r={"./":382,"./disabled":1317,"./disabled.vue":1317,"./enabled":1318,"./enabled.vue":1318,"./fixAspectRatio":1319,"./fixAspectRatio.vue":1319,"./formItem":856,"./formItem.vue":856,"./formList":468,"./formList.json":468,"./index":382,"./index.js":382,"./showEditOptions":1320,"./showEditOptions.vue":1320};function i(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=o,e.exports=i,i.id=2212},function(e,t,n){"use strict";n.r(t);var r=n(980),i=n(614);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n(2214);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,"334b12d4",null);s.options.__file="src/main/edit/docks/inspector/compMi18nFormItem.vue",t.default=s.exports},function(e,t,n){"use strict";n(1322)},function(e,t,n){"use strict";n(1323)},function(e,t,n){"use strict";n.r(t);var r=n(981),i=n(616);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n(2219);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,"6ed700c5",null);s.options.__file="src/main/edit/docks/inspector/customStateForm.vue",t.default=s.exports},function(e,t,n){"use strict";n.r(t);var r=n(997),i=n(618);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n(2218);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,"ec2da92e",null);s.options.__file="src/main/edit/docks/inspector/compCustomStateFormItem.vue",t.default=s.exports},function(e,t,n){"use strict";n(1324)},function(e,t,n){"use strict";n(1325)},function(e,t,n){"use strict";n(1326)},function(e,t,n){"use strict";n(1327)},function(e,t,n){"use strict";n.r(t);var r=n(962),i=n(620);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,null,null);s.options.__file="src/main/edit/docks/inspector/mi18nForms/compForm.vue",t.default=s.exports},function(e,t,n){"use strict";n.r(t);var r=n(982),i=n(622);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,null,null);s.options.__file="src/main/edit/docks/inspector/mi18nForms/configForm.vue",t.default=s.exports},function(e,t,n){"use strict";n.r(t);var r=n(998),i=n(624);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,null,null);s.options.__file="src/main/edit/docks/inspector/mi18nForms/configFormItem.vue",t.default=s.exports},function(e,t,n){"use strict";n(1329)},function(e,t,n){"use strict";n.r(t);var r=n(983),i=n(628);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,null,null);s.options.__file="src/main/edit/docks/inspector/mi18nForms/styleForm.vue",t.default=s.exports},function(e,t,n){"use strict";n.r(t);var r=n(1e3),i=n(630);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,null,null);s.options.__file="src/main/edit/docks/inspector/mi18nForms/styleFormItem.vue",t.default=s.exports},function(e,t,n){"use strict";n(1331)},function(e,t,n){"use strict";n.r(t);var r=n(984),i=n(634);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,null,null);s.options.__file="src/main/edit/docks/inspector/mi18nForms/optionFormItem.vue",t.default=s.exports},function(e,t,n){"use strict";n(1333)},function(e,t,n){"use strict";n.r(t);var r=n(963),i=n(638);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,null,null);s.options.__file="src/main/edit/docks/inspector/multipleStateForms/compForm.vue",t.default=s.exports},function(e,t,n){"use strict";n.r(t);var r=n(986),i=n(640);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,null,null);s.options.__file="src/main/edit/docks/inspector/multipleStateForms/configForm.vue",t.default=s.exports},function(e,t,n){"use strict";n.r(t);var r=n(987),i=n(642);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,null,null);s.options.__file="src/main/edit/docks/inspector/multipleStateForms/styleForm.vue",t.default=s.exports},function(e,t,n){"use strict";n.r(t);var r=n(964),i=n(644);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,"7598dbed",null);s.options.__file="src/main/edit/docks/inspector/linkForm.vue",t.default=s.exports},function(e,t,n){"use strict";n.r(t);var r=n(988),i=n(646);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,"74ec4720",null);s.options.__file="src/main/edit/docks/inspector/linkFormItem.vue",t.default=s.exports},function(e,t,n){"use strict";n.r(t);var r=n(965),i=n(648);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,"e2dff55a",null);s.options.__file="src/main/edit/docks/inspector/envLinkForms/envLinkForm.vue",t.default=s.exports},function(e,t,n){"use strict";n.r(t);var r=n(989),i=n(650);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,null,null);s.options.__file="src/main/edit/docks/inspector/envLinkForms/envLinkFormItem.vue",t.default=s.exports},function(e,t,n){"use strict";n.r(t);var r=n(1002),i=n(652);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,null,null);s.options.__file="src/main/edit/docks/inspector/envLinkForms/stateItem.vue",t.default=s.exports},function(e,t,n){"use strict";n.r(t);var r=n(1018),i=n(654);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,null,null);s.options.__file="src/main/edit/docks/inspector/envLinkForms/normalStateItem.vue",t.default=s.exports},function(e,t,n){"use strict";n.r(t);var r=n(1019),i=n(656);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,null,null);s.options.__file="src/main/edit/docks/inspector/envLinkForms/timeStateItem.vue",t.default=s.exports},function(e,t,n){"use strict";n.r(t);var r=n(1049),i=n(658);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,null,null);s.options.__file="src/main/edit/docks/inspector/envLinkForms/timeSelector.vue",t.default=s.exports},function(e){e.exports=JSON.parse('{"bh3_eur":1,"bh3_kr":9,"bh3_usa":-5,"bh3_jp":9,"bh3_os":8,"bh3_asia":8}')},function(e){e.exports=JSON.parse('{"search":{"label":"url参数","formType":"keyval","keyLabel":"key","valLabel":"val"},"lang":{"label":"语言","formType":"val","valLabel":"语言"},"gameBiz":{"label":"区服","formType":"val","valLabel":"区服"},"bbs":{"label":"在米游社"},"isGame":{"label":"在游戏内"},"isSea":{"label":"海外渠道"},"time":{"label":"时间","formType":"time"}}')},function(e,t,n){"use strict";n.r(t);var r=n(966),i=n(660);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,null,null);s.options.__file="src/main/edit/docks/inspector/eventForm.vue",t.default=s.exports},function(e,t,n){"use strict";n.r(t);var r=n(990),i=n(662);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n(2247);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,"021616b2",null);s.options.__file="src/main/edit/docks/inspector/eventFormItem.vue",t.default=s.exports},function(e,t,n){"use strict";n.r(t);var r=n(1003),i=n(664);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,"4daef3b4",null);s.options.__file="src/main/edit/docks/inspector/customActionData/customActionDataForm.vue",t.default=s.exports},function(e,t,n){"use strict";n(1335)},function(e,t,n){"use strict";n.r(t);var r=n(967),i=n(666);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n(2250);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,"69a29908",null);s.options.__file="src/main/edit/docks/inspector/transitionForm.vue",t.default=s.exports},function(e,t,n){var r={"./fade":859,"./fade.vue":859,"./formList":858,"./formList.json":858,"./scale":1336,"./scale.vue":1336,"./slide":860,"./slide.vue":860,"./slidefade":1337,"./slidefade.vue":1337,"./transitionEnterLeaveForm":861,"./transitionEnterLeaveForm.vue":861,"./transitionForm":857,"./transitionForm.vue":857};function i(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=o,e.exports=i,i.id=2249},function(e,t,n){"use strict";n(1338)},function(e,t,n){"use strict";n.r(t);var r=n(969),i=n(680);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,null,null);s.options.__file="src/main/edit/docks/inspector/animationForm.vue",t.default=s.exports},function(e,t,n){var r={"./animationForm":862,"./animationForm.vue":862,"./formList":863,"./formList.json":863,"./opacity":1339,"./opacity.vue":1339,"./rotate":1340,"./rotate.vue":1340,"./slidey":1341,"./slidey.vue":1341};function i(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=o,e.exports=i,i.id=2252},function(e,t,n){"use strict";n(1342)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shortCutsDescMap=void 0;var r='<div class="command"></div>';n(844).isWindows&&(r="Ctrl");var i=[{key:"复制",button:[r,"C"]},{key:"粘贴",button:[r,"V"]},{key:"撤销",button:[r,"Z"]},{key:"重做",button:[r,"Shift","Z"]},{key:"放大",button:[r,"+"]},{key:"缩小",button:[r,"-"]},{key:"移动画布",button:["Space",'<div class="hand-drag"></div>']}];t.shortCutsDescMap=i},function(e,t,n){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var r=n(922),i=n(692);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n(2324);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,"a2532e8e",null);s.options.__file="src/main/pageTemplate/index.vue",t.default=s.exports},function(e,t,n){"use strict";n(1349)},function(e,t,n){"use strict";n.r(t);var r=n(918),i=n(694);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,null,null);s.options.__file="src/app.vue",t.default=s.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(e){e.filter("filterA",(function(e){return e||e.toLowerCase()})),e.filter("filterB",(function(e){return e||e.toUpperCase()})),e.filter("updateStatus",(function(e){return{UpdateStatusPublish:"success",UpdateStatusDefault:"info",UpdateStatusUpdate:"warning",UpdateStatusPackage:"warning"}[e]||""})),e.filter("releaseStatus",(function(e){return{ReleaseEnvDefault:"info",ReleaseEnvDev:"warning",ReleaseEnvPre:"",ReleaseEnvProd:"success"}[e]||""})),e.filter("publishLabel",(function(e){return{PublishStatusDefault:"未知",PublishStatusStart:"未开始",PublishStatusRunning:"打包中",PublishStatusFail:"发布失败",PublishStatusOK:"发布成功"}[e]||""})),e.filter("publishStatus",(function(e){return{PublishStatusDefault:"info",PublishStatusStart:"",PublishStatusRunning:"warning",PublishStatusFail:"danger",PublishStatusOK:"success"}[e]||""})),e.filter("releaseLabel",(function(e){return{ReleaseEnvDefault:"未发布",ReleaseEnvDev:"测试环境",ReleaseEnvPre:"预发布环境",ReleaseEnvProd:"生产环境"}[e]||""})),e.filter("updateLabel",(function(e){return{UpdateStatusUpdated:"已编辑",UpdateStatusPublish:"已发布",UpdateStatusPackage:"打包中"}[e]||""}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=O(n(2328)),i=O(n(2330)),o=O(n(2332)),a=n(304),s=O(n(62)),u=O(n(2333)),l=n(173),c=O(n(460)),d=O(n(2334)),f=O(n(2335)),p=O(n(2336)),v=O(n(1218)),m=O(n(2427)),h=O(n(2428)),b=O(n(2461)),g=O(n(2463)),y=O(n(2465)),_=O(n(2476));function O(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=!!a.QS.inMerlin;e.use(v.default),e.use(o.default,{loading:!1,appKey:l.baseAppKey,member:s.default.getOpUserName(),showAuthFailMessage:!t}),e.use(p.default),e.component("MihoyoStaffSelector",u.default),e.component("Draggable",r.default),e.component("PuzzleUpload",c.default),e.component("ToolsBar",h.default),e.component("TemplateCard",b.default),e.component("TemplateAddModal",g.default),e.component("PzBackgroundForm",y.default),e.use(f.default),e.directive("ClickOutside",d.default),e.use(_.default),i.default.config.autoSetContainer=!0,e.use(i.default),e.prototype.$async=m.default}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.then((function(e){return[null,e]})).catch((function(e){return[e,null]}))}},function(e,t,n){"use strict";n.r(t);var r=n(923),i=n(696);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n(2460);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,"c849cf70",null);s.options.__file="src/components/toolsBar.vue",t.default=s.exports},function(e,t,n){"use strict";n.r(t);var r=n(944),i=n(698);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n(2432);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,"5531f6dc",null);s.options.__file="src/main/edit/docks/preview/previewTools/pcPreviewFullScreen.vue",t.default=s.exports},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAAC91BMVEVHcEwSltoSldsSldoPk9sSltoSltoSltsRldkRldoSltsSldoSldsSldofn98Sl9oSldsVlNsRldsAktkSltoTmOESltsRldsRltsUjtYSl9wRk9sSltsXltwPltsRltoSldoPltoSldsSltsVlNQRldoSltsRldsRldsUltwRmd0SldsSltsSltsSltoRldoRltsRldsRltoSldoPk98bkOMSltsSldsSldsRltsRltsRltoAmdcSldoSltoSldoRldoSltsSldsTmNwRltsRldsSldsSltsRltsMmdgSldsRltsSkdoRldsSldsRltoRldoRltsRldwSltoRltsQldoMkdoTltoRldsRldgRltwSldoRltsVlt8Pl9cSltoRldkRltsPj88SltkRltoRldkRlNsRldoSldsQlt0RldoRltsTldoSltsSldoRl9wRltwRldoTltcQl9sOk9gRltoSltoSldoRlNsUk90RltsUmdYRl9wSldoTidcRl9sRltoRltsRltoTl98Sl9sSlNkSltoTlNsSldoQldgSldoPld0TktgSldsRltsRldsSldkRltwSltsSltsRltoRltsTltsRldoSldoSltsSltoRl9kQld0QldsSldoRltoRldsSmuQRltkRltwRltsRldsSkdoSlNkSlt0OkdoRlt0RldoSltsSldsSldoAqv8Nk9YRldoRltwSltsOm+ISldsRltsRmd0SltkRltoQldoSl9kRldsRlNkRldoRltsUl9kRldoRldoRltsRltsAv/8SldsAf/8RlNsOmdoRltsRldoPlNkA//8QldoRltoSltsSltoRldkSltwRltoSltwRldoRldoRl9wRltoSldoSldkSltsRl9sSltwYndoTltgSltoPmuARldkPmt8RltsRldsSltwSldoSldkRldsSltoRlNkRldoXi9AXoucRlNkRltsRldsRldcRltsRltkRltoSldsSltsSl9sPk9sSldsSlttduT9AAAAA/HRSTlMAmc6bQH/UqoC/srbf4QgqbSTcBo0ZtcmOGVE57hYihO0x/M8M5d1yVzMe0MCVt4XxOnfwEAnewqSf5dsFxF6nsdFrNLus+nBHFDXKDuTrsK66aMXzahVCLFeSN1UXIHFLrRCXk51lx3tMvblQ+GNZSdonLxHNqFRIJnUZZX0NgmnXoSeIif1P7y5cICiz+J17sOxOO2Rd94rBi2cuPphaxw5Vr+YdHGBTI2nYpmGWAxP1hNISb9Y8RJJNG49ndsslovajnAR5ApUjyHgwAUy+4UW6fPao6ehn6LVS+51uFWuaIasw45Ff/Cny3VmgCwtKc/U6hpCeieqzMocTf9vxAAAHiElEQVQYGe3BZZQb1wEG0G93Jc1omcG0ppiZmWpce82MNcQxxkwx27FrZqztwAmDw0nD3HAcTsrMnDaN2+b70YWZ9540M9KMVtpzck7uxTe+BjIPldWHd2veHrBwBOLg3gySPWfDo/ETSb4/CDV16UeskvwQPPGx2rgs1MTaqzQNgScDaAhkIXZnAhTehxevURiCWE39hIp/woNbqZiM2AxPpyoZHuymwoeYXGYoHR7kUOFDLD5iqNYF8CKNUhfEoB1DzR0BT06OpikJ3m0+yxDNtsCrlhqr9d0Gz3wMNb0AMcjSe5Hl+m545mOI4HDEasYsxMBH1dDPUct8VGVMQS3zTaTirYOoZWXXUDEGta3BTipuQq1bT4WOWtecih6odd9bTmkcEmDypGAwuAwO8rpT6o4E6NKElTTYy6c08kEkwJespsFOC0qPvogEmEnTGVhtbkbJh0QI0tSkKyw+oqQjIYIUFiHcY+kUgkiMHhQarkaY5yn5kBgrKSUhVNNVFHQkyi2UPkCIxykEkTB/odQOqj6PUtiIxBlA6XooxlPoCTvbkshex+FW5qGy+rAxhdJgKIpoOvsObOzuyyrvwpW70kn2nA2rFErfguCj8BXs6Kz2hwfhgs4qgSxYTH2YQimEYprSZ8FOOQ3L8xCVTsNbsGpPIQBTn2Y0DYOtcpoezkQUOoXZsGgwlMLTMNxNUy7sdafwp66ISKf0DKx+TeFaGF6iqS3s/YNSvaaIwE9pDGwcoHDi56hS0pmmk3DgpzR6FBz5KQ2dARvbyilsQZULNP02E05KKX22Fg50KnTYakuhEFUKaToKZ3soXfMQbOlUbIW9Dyh0aIpKn9E0ExHkU8qYDBs6FcfgJJnCcFS4SNPoeYjkKUrdZsFCp+JtOPJT0FHhDE0aIptPqXcBwvipeB7OrlBohwrfpWkOokihtPNOhPBT8TkiGLGXpg6ocJ6muojmr5QCraDQqZiDiIoonAJwloZ6iK4HpYEHIehU/AyRPUChE3CRplS4sJ5ScgMY/FQMQhQ3U/gvcJqmTnBjLKV1L6KKn4odiOYOCp2Br2g6BVdSKTVZjQo6Fc8hum4UJqMtTXCpHaWBfwT8VJyGC+0o/A89aKgHt5ZQCvj8VFyGG/dTOIlUGnLhWpAOfg9XHqAwCedpGAn3grR1AO58QeELtKZhKTwI0sbNcOkGCq+gGw394UWQFi3g1kIKQTSkoS08CTKMD65toJCLn9BQCm9eZYi74N6TFI7gCA174MklhtLg3koKR1CPhjfgxSmG0+DaTAr1UE7DLngwg1Ya3LpMoRyraJgL98poR4NL2RRWoTUNS+FaI9rT4M5rFFrjOhrug1v76USDK09RmIBCmrrCnSwq1gWp0uBGGoVCFNPUEa6spkIDNKo0uNCbQjEu0DQJbuRQoaGCRpWG6ChdgI+mFLhwkAoNVTSqNESTQ8mHEpqSEd0dVByGQaNKQxTLKJUAnWlai2gKqDgPQaNKQ2QLKHQGUETT04iiPhVNoNCo0hBRMoUiAO1puhGRPUbFnxFiPVUaIniG0jkAHWnqi4hupeI/CPNLqjQ4a0FpCip8StMmRPB3KpbDIp8qDY6mUziBStfS1BzOMqkYCht+qjQ46NONwieo1I+m9+Do+1R0gK1fUKXBXh1KC1HpIIVGcPAuFT+Eg2lUabD1U0oNUCWNpq1wMJpSOhwNp0qHjS6fUkhDtWyaXoC9Zyk9gQimUNGrC6xOU8pGtRwK/WCrF4V1iOgSFctgdR2lHBjSaGoDW+k09UUU//qYwjBYrKCUBlM2hQ2wcxsNgxFVWQZN78BiMKVsmHIopMGOn9UGwIXf7GS1VFh8h4ocCEkUVsBOISvtgitTu7PSvsWwGEwpCVJLCgNHwcadPdMbFg2CS3n5DfnxbZtg8TgVLaFIotAe8eDLg9Wbt1NKgqolhcZ1kSgpVLREiCQKY5Agy6hIQqhGEyl0QkJsfoLSxEYIc4xCYx8S4UsqjiHc6xMoTMhE/D1HxYTXYbGYUj7ibs0JKhbDxnxKnRBn9W+hYj7stMqldC/iK0hFbivYqkNFGeIpSFUdONCpQBwFqfLD0VgqGiBeAlSNhbN7cql4EnExKkBV7j2IoA5VWxAHWQGGqIOIhlGVn4ma+naAIfohimKqJvhQM9sZ6geISqOqcSfUQNmHDKXDhQ8ZYkxdxOqGDgw1Fq4MYYjG7UchFivbMEwQLhUz1MAV8KxVW4YrhGt+hknbAE/ebH87w70ED3SGa9MPrl38dwdaFMOTOS8z3AtbG8GFv7V4pTEtXp4Dj+ouodV7zTchsis3ldPGkrrw7hHaKZreYgTsrRl0fwZtPYKYXEmmvdYpkzp2hepXP95+uCEdJF9BjJqW7qWj+5bO3fXGnu3PpvQ/HOxMZ3tLmyJ2HVNZQ6kdUTPjM1gDGeNRYyWLmjFGzRaVIB7mNQ8wBoHm8xAveTtG0qORO/IQVxtT9tG1fSkbEX8F2W3oSpvsAiRI1vWvBhhRk98dOITEKrn7XGpv2uidem5ZfdSSPvun6VcXHO1/fNy44/2PLriqT9vfB9/4evo/puEIMe5x51MAAAAASUVORK5CYII="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAAAV1BMVEVHcEwRldsSldoSltoSlNkTl9sPl9cPj98PlNkSltsSltoSltsRldoSltoRldoRldoSldoRltsSltoTldsSldsRltoSltwSldoQldoRltoRldsTlNsSltvktSZuAAAAHHRSTlMAgPDvYEAgEDDAcM+g4L+w35B/UNCfX28/r49PTQKtHQAAA99JREFUGBntwQdyo8oCBdDbuZuM4thz97/OP4AICrYlBPSrXz4Hv379+u8zn0XxcXL4ik/KoiiOu935j8fybMGWOuNrziRlzkb1sfuDJWnF3hHfs0nJTrHzWIY7ckLgJ06X7FSfHu+zKaeUw8+syNlJTw7v8YrXEjxF5+yoncMbNG+VeJLO2VFHi7k07wQ8TUte7Bxm0bwX8DxX80KdMIPmAzVeYXJepB6v0nzE4yUu44U64zWajwS8SkteFBYvMHxEWrzM57xQBk/zig9Ijxncgb0znuRS3pPCYZ6MvSOe88E7UjjMlrGXOjxB807m8I6MvdThR17xxsHjTRl7qcNPUt4QeJs7sJc6fC/htYPHAtyBvdThO1bxSuawCC/ZS/GdglcSLGXPwRFfM5ySGsupOdD4UsoJ6bGkAwceX9CckB6L8hwoh8cqjqTHwgQHH3hIc8JgaS7nIMEjKUcay9McKIt7hiOBNRw4KHCv5KDEKgxHe9xyHOQO6wgcVA43Eg4MVqI5ErhRsVdjNTkHyuGKZy93WE3CkcAVwd4e63EcKYeplBcBayo5Ephw7Fmsac+RwoTmRYZ1cUJjlPHCYl0lRwVGKTsZVpZwwmLAC4+VeU7U6Bl2AlYnOarQ0+xorC5wwuNCsCWxvpoTAhclWxnWpzmR4iKwpbE+wymHjmLLYX2OU3t02ArYAqdqdNgS2AKnAlqOLYMtBE6hZdjCJgKnPBqGjYBNBE7t0TBs1NhE4JRAw7CRYBOBUxkahg2DTQROBbTY8NgEr6RosYFt8BpabGAbvIbWgaTENngNrUAyYBuBUwGtmmTANjSnErQEyYBtuJyj3KFlSAZsxEsOPDqOZMBWvGRHevRyMsVmnMhJ5sJhUJLEprzDVEISMVmSFjHlpEFMGblHTHtSICrJElHVrBCVJx2iOnCPqDRrxCVTxCVoEZWTCeJKSkSWW8S1TxBZhsisR2Qe//cc4nIGcQnEJQyi0gFReVrE5JVATF4dEJNX9IjIKyaISCuWiGhHHhyicR+k9Jjn9FFUxdniDaYi6TGLr9j5xGw7/qMxy16xlxrMYir+ozGLU5z4dHiZPbKhMU/GK+qM17idYkNjJsUb1QnPczvFhtxjJsN71c7hKfbIjvSYy/Ch41/8xJ1SXhwsZjP8gjr+dfiSPX1wkOEd/Ebx+dfijj8dK47kHm8p+YO02O3Ofxrn3e5YVLwWLN5j+A6Z4G0J56sdFiAk5wkey7AZZwgGy7G15Gsyg2U5Hfi0XFiswCYHPiGvPVZjdSn5DRkSj7V5LYLkvZAlHtsxJhGiDv9kQoi9sfj1hv8B94TxKzTEURsAAAAASUVORK5CYII="},function(e,t,n){"use strict";n(1364)},function(e,t,n){"use strict";n.r(t);var r=n(945),i=n(700);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n(2459);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,"92bdd184",null);s.options.__file="src/main/edit/docks/mediaList/index.vue",t.default=s.exports},function(e,t,n){"use strict";n.r(t);var r=n(993),i=n(704);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,null,null);s.options.__file="src/main/edit/docks/mediaList/video.vue",t.default=s.exports},function(e,t,n){"use strict";n.r(t);var r=n(1004),i=n(706);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n(2436);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,"9d09dde0",null);s.options.__file="src/main/edit/docks/mediaList/nativeVideo.vue",t.default=s.exports},function(e,t,n){"use strict";n(1366)},function(e,t,n){"use strict";n.r(t);var r=n(1005),i=n(708);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n(2439);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,"7d1d11a8",null);s.options.__file="src/main/edit/docks/mediaList/tsVideo.vue",t.default=s.exports},,function(e,t,n){"use strict";n(1367)},function(e,t,n){"use strict";n.r(t);var r=n(994),i=n(710);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n(2455);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,"1c0b2f7c",null);s.options.__file="src/main/edit/docks/mediaList/audio.vue",t.default=s.exports},,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.AudioManager=void 0;var a=function(){function e(t){r(this,e),this._pause=t.pause,this._play=t.play,this.keepAlive=t.keepAlive||!1,this.breakOff=!1,this.hasDestroy=!1,this.playStateListener=function(){},this.playState=t.playState||!1}return o(e,[{key:"destroy",value:function(){this.destroyListener(),this.hasDestroy=!0}},{key:"pause",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];!1!==this.playState&&(this._pause(),this.changeState(!1,e))}},{key:"play",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];!0===this.playState||this.hasDestroy||(this._play(),this.changeState(!0,e))}},{key:"changeBreakOffState",value:function(e){this.breakOff=e}},{key:"changeState",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&this.changeBreakOffState(!1),e===this.playState||this.hasDestroy||(this.playState=e,this.playStateListener(e))}},{key:"addPlayStateListener",value:function(e){this.playStateListener=e}},{key:"addDestroyListener",value:function(e){this.destroyListener=e}}]),e}(),s=function(){function e(){r(this,e),this.audioControllerIist={},this.pauseAll=!1,this.newId=0}return o(e,[{key:"audioItems",get:function(){var e=this.audioControllerIist;return Object.keys(e).map((function(t){return{id:Number(t),controller:e[t]}}))}},{key:"register",value:function(e){var t=new a(e);return this.add(t),{destroy:function(){t.destroy()},changeState:function(e){t.changeState(e)}}}},{key:"createId",value:function(){var e=this.newId;return this.newId+=1,e}},{key:"add",value:function(e){var t=this,n=this.createId();this.audioControllerIist[n]=e,e.addPlayStateListener((function(e){!1===e?t.pauseHandler(n):t.playHandler(n)})),e.addDestroyListener((function(){t.remove(n)}))}},{key:"pauseHandler",value:function(e){this.audioItems.some((function(e){return e.controller.playState}))||this.pauseAll||this.audioItems.some((function(t){var n=t.controller;t.id!==e&&n.breakOff&&(n.play(),n.changeBreakOffState(!1))}))}},{key:"playHandler",value:function(e){this.pauseAll=!1,this.audioItems.forEach((function(t){var n=t.controller;t.id!==e&&n.playState&&(n.pause(),n.keepAlive&&n.changeBreakOffState(!0))}))}},{key:"remove",value:function(e){this.audioControllerIist[e].pause(),delete this.audioControllerIist[e]}},{key:"pause",value:function(){this.pauseAll=!0,this.audioItems.some((function(e){var t=e.controller;t.playState&&t.pause()}))}},{key:"start",value:function(){this.audioItems.some((function(e){var t=e.controller;return!!t.breakOff&&(t.play(),!0)}))}}]),e}();t.AudioManager=s;var u=new s;t.default=u},function(e,t,n){"use strict";n(1369)},function(e,t,n){"use strict";n(1370)},function(e,t,n){"use strict";n.r(t);var r=n(971),i=n(712);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n(2458);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,"35c70476",null);s.options.__file="src/main/edit/docks/mediaList/upload.vue",t.default=s.exports},function(e,t,n){"use strict";n(1371)},function(e,t,n){"use strict";n(1372)},function(e,t,n){"use strict";n(1373)},function(e,t,n){"use strict";n.r(t);var r=n(924),i=n(714);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n(2462);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,"d4d84c8c",null);s.options.__file="src/components/templateCard.vue",t.default=s.exports},function(e,t,n){"use strict";n(1374)},function(e,t,n){"use strict";n.r(t);var r=n(925),i=n(716);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n(2464);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,"17b1b636",null);s.options.__file="src/components/templateAddModal.vue",t.default=s.exports},function(e,t,n){"use strict";n(1375)},function(e,t,n){"use strict";n.r(t);var r=n(926),i=n(718);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n(2475);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,"93821fa0",null);s.options.__file="src/components/commonBackgroundForm/index.vue",t.default=s.exports},,,,,,,function(e,t,n){"use strict";n.r(t);var r=n(946),i=n(720);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n(2474);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,"bbacd056",null);s.options.__file="src/components/commonBackgroundForm/backgroundConfigItem.vue",t.default=s.exports},function(e,t,n){"use strict";n.r(t);var r=n(972),i=n(722);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,"c2528cb8",null);s.options.__file="src/components/commonBackgroundForm/backgroundForm.vue",t.default=s.exports},function(e,t,n){"use strict";n(1376)},function(e,t,n){"use strict";n(1377)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(2477),i={};r.keys().forEach((function(e){i["pz-".concat(e.slice(2,-4).replace(/[A-Z]/g,(function(e){return"-".concat(e.toLowerCase())})))]=r(e).default}));var o={install:function(e){Object.keys(i).forEach((function(t){e.component(t,i[t])}))}};t.default=o},function(e,t,n){var r={"./collapse.vue":2478,"./collapseItem.vue":2480,"./collapseRow.vue":2481,"./input.vue":2483,"./option.vue":2485,"./select.vue":2487,"./switch.vue":2489};function i(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=o,e.exports=i,i.id=2477},function(e,t,n){"use strict";n.r(t);var r=n(927),i=n(724);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n(2479);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,"1c65ea57",null);s.options.__file="src/components/pz-ui/packages/collapse.vue",t.default=s.exports},function(e,t,n){"use strict";n(1378)},function(e,t,n){"use strict";n.r(t);var r=n(928),i=n(726);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,null,null);s.options.__file="src/components/pz-ui/packages/collapseItem.vue",t.default=s.exports},function(e,t,n){"use strict";n.r(t);var r=n(929),i=n(728);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n(2482);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,"1c74c333",null);s.options.__file="src/components/pz-ui/packages/collapseRow.vue",t.default=s.exports},function(e,t,n){"use strict";n(1379)},function(e,t,n){"use strict";n.r(t);var r=n(930),i=n(730);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n(2484);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,"1e92bc10",null);s.options.__file="src/components/pz-ui/packages/input.vue",t.default=s.exports},function(e,t,n){"use strict";n(1380)},function(e,t,n){"use strict";n.r(t);var r=n(931),i=n(732);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n(2486);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,"94c5b0c2",null);s.options.__file="src/components/pz-ui/packages/option.vue",t.default=s.exports},function(e,t,n){"use strict";n(1381)},function(e,t,n){"use strict";n.r(t);var r=n(932),i=n(734);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n(2488);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,"010a38a6",null);s.options.__file="src/components/pz-ui/packages/select.vue",t.default=s.exports},function(e,t,n){"use strict";n(1382)},function(e,t,n){"use strict";n.r(t);var r=n(933),i=n(736);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n(2490);var a=n(10),s=Object(a.a)(i.default,r.a,r.b,!1,null,"4f0adede",null);s.options.__file="src/components/pz-ui/packages/switch.vue",t.default=s.exports},function(e,t,n){"use strict";n(1383)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={install:function(e){var t=new e({});e.prototype.$gemit=t.$emit.bind(t),e.prototype.$gon=t.$on.bind(t),e.prototype.$gonce=t.$once.bind(t),e.prototype.$goff=t.$off.bind(t)}};t.default=function(e){e.use(r)}},function(e,t,n){}])).default}));